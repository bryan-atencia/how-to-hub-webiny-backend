(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[12],{1392:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(77),r=n.n(a);function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=!1,o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.targetId=null,this.internalMonitor=t.getMonitor()}var t,n,a;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;r()(!i,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return i=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{i=!1}}},{key:"isOver",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&l(t.prototype,n),a&&l(t,a),e}()},1393:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(692),r=n.n(a),l=n(1408),i=n(1404);function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks=Object(l.a)({dropTarget:function(e,t){n.clearDropTarget(),n.dropTargetOptions=t,Object(i.a)(e)?n.dropTargetRef=e:n.dropTargetNode=e,n.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}var t,n,a;return t=e,(n=[{key:"reconnect",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}},{key:"receiveHandlerId",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!r()(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}},{key:"connectTarget",get:function(){return this.dropTarget}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}}])&&o(t.prototype,n),a&&o(t,a),e}()},1407:function(e,t,n){"use strict";var a=n(0),r=n(77),l=n.n(r),i=n(1405),o=n(1390),c=n(1396),u=n(1400),d=n(1393),s=n(1392);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],a=!0,r=!1,l=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(c){r=!0,l=c}finally{try{a||null==o.return||o.return()}finally{if(r)throw l}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],a=!0,r=!1,l=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(c){r=!0,l=c}finally{try{a||null==o.return||o.return()}finally{if(r)throw l}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function p(e){var t=Object(a.useRef)(e);t.current=e,l()(null!=e.accept,"accept must be defined");var n=m(function(){var e=Object(u.a)();return[Object(a.useMemo)((function(){return new s.a(e)}),[e]),Object(a.useMemo)((function(){return new d.a(e.getBackend())}),[e])]}(),2),r=n[0],p=n[1];!function(e,t,n){var r=Object(u.a)(),l=Object(a.useMemo)((function(){return{canDrop:function(){var n=e.current.canDrop;return!n||n(t.getItem(),t)},hover:function(){var n=e.current.hover;n&&n(t.getItem(),t)},drop:function(){var n=e.current.drop;if(n)return n(t.getItem(),t)}}}),[t]);Object(o.a)((function(){var a=f(Object(c.b)(e.current.accept,l,r),2),i=a[0],o=a[1];return t.receiveHandlerId(i),n.receiveHandlerId(i),o}),[t,n])}(t,r,p);var b=Object(i.a)(r,t.current.collect||function(){return{}},(function(){return p.reconnect()})),g=Object(a.useMemo)((function(){return p.hooks.dropTarget()}),[p]);return Object(o.a)((function(){p.dropTargetOptions=e.options||null,p.reconnect()}),[e.options]),[b,g]}n.d(t,"a",(function(){return p}))},1610:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(1415),i=n(1438),o=n(480),c=n(186),u=n(26),d=n(1),s=n.n(d),f=n(41),m=n(127),p=n(72),b=n(8),g=Object(b.a)({boxShadow:"1px 0px 5px 0px rgba(128,128,128,1)"},"label:topBar;");function v(){return r.a.createElement(m.a,{className:g,fixed:!0},r.a.createElement(m.e,{style:{width:"50%"},alignEnd:!0},Object(p.d)("content-model-editor-default-bar-left")),r.a.createElement(m.e,{style:{width:"50%"},alignEnd:!0},Object(p.d)("content-model-editor-default-bar-right")))}var h=n(16),E=n.n(h),y=n(15),O=n(65),x=n(21),j=n(85),w=n(37),C=n(57),k=n.n(C),D=n(9),I=n.n(D),T=n(1407),F=a.memo((function(e){var t=e.children,n=e.onDrop,a=e.isVisible,r=void 0===a?function(){return!0}:a,l=Object(T.a)({accept:"element",collect:function(e){return{isOver:e.isOver()&&e.isOver({shallow:!0}),item:e.getItem()}},drop:function(e,t){"function"===typeof n&&n(t.getItem())}}),i=E()(l,2),o=i[0],c=o.item,u=o.isOver,d=i[1];return c&&!r(c)?null:t({isDragging:Boolean(c),isOver:u,item:c,drop:d})})),S=Object(y.a)("div",{target:"e1kla6860",label:"Container"})((function(e){var t=e.isOver;return{backgroundColor:"transparent",boxSizing:"border-box",height:"100%",minHeight:100,position:"relative",userSelect:"none",width:"100%",border:t?"2px dashed var(--mdc-theme-primary)":"2px dashed var(--mdc-theme-secondary)",opacity:t?1:.6}})),A=Object(y.a)("div",{target:"e1kla6861",label:"Add"})((function(e){return{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",margin:0,color:e.isOver?"var(--mdc-theme-primary)":"var(--mdc-theme-secondary)"}}));function V(e){var t=e.onDrop,n=e.children;return a.createElement(F,{onDrop:t},(function(e){var t=e.isOver,r=e.drop;return a.createElement("div",{ref:r,style:{width:"100%",height:"100%"}},a.createElement(S,{isOver:t},a.createElement(A,{isOver:t},n)))}))}var M=n(7),B=n.n(M),z=Object(y.a)("div",{target:"e1nbwye0",label:"InnerDiv"})({height:15,width:"100%",zIndex:3,borderRadius:0,boxSizing:"border-box",display:"none",border:"1px dashed black",borderSpacing:5}),N=Object(y.a)("div",{target:"e1nbwye1",label:"BackgroundColorDiv"})({width:"100%",height:"100%"}),P=Object(y.a)("div",{target:"e1nbwye2",label:"OuterDiv"})({margin:0,padding:0,width:"calc(100% + 2px)",zIndex:10,backgroundColor:"transparent",position:"absolute",display:"flex",justifyContent:"center"},(function(e){var t;return t={},B()(t,e.last?"bottom":"top",-15),B()(t,z,B()({borderColor:e.isOver?"var(--mdc-theme-primary)":"var(--mdc-theme-secondary)",display:e.isDragging?"block":"none"},N,{opacity:.5,backgroundColor:e.isOver?"var(--mdc-theme-primary)":"var(--mdc-theme-secondary)"})),t})),R=function(e){var t=e.last,n=e.onDrop,a=e.isVisible;return r.a.createElement(F,{onDrop:n,isVisible:a},(function(e){var n,a=e.isOver,l=e.isDragging,i=e.drop;return r.a.createElement("div",{ref:i,style:(n={height:"25px",width:"100%",position:"absolute"},B()(n,t?"bottom":"top",0),B()(n,"left",0),B()(n,"zIndex",l?1e3:-1),n)},r.a.createElement(P,{isOver:a,isDragging:l,last:t},r.a.createElement(z,null,r.a.createElement(N,null))))}))},H=Object(y.a)("div",{target:"e1ca4e290",label:"InnerDivVertical"})({position:"absolute",width:10,height:"100%",zIndex:3,borderRadius:0,display:"none",boxSizing:"border-box",border:"1px dashed black",borderSpacing:5}),L=Object(y.a)("div",{target:"e1ca4e291",label:"BackgroundColorDiv"})({width:"100%",height:"100%"}),q=Object(y.a)("div",{target:"e1ca4e292",label:"OuterDivVertical"})({position:"absolute",width:"30%",top:0,height:"100%",zIndex:10,backgroundColor:"transparent"},(function(e){var t,n;return n={},B()(n,e.last?"right":"left",-9),B()(n,"textAlign",e.last?"right":"left"),B()(n,H,(t={borderColor:e.isOver?"var(--mdc-theme-primary)":"var(--mdc-theme-secondary)"},B()(t,e.last?"right":"left",-2),B()(t,"display",e.isDragging?"block":"none"),B()(t,L,{opacity:.5,backgroundColor:e.isOver?"var(--mdc-theme-primary)":"var(--mdc-theme-secondary)"}),t)),n})),_=function(e){var t=e.last,n=e.onDrop,a=e.isVisible;return r.a.createElement(F,{onDrop:n,isVisible:a},(function(e){var n,a=e.isOver,l=e.isDragging,i=e.drop;return r.a.createElement("div",{ref:i,style:(n={width:"30%",maxWidth:"100px",height:"100%",position:"absolute",top:0},B()(n,t?"right":"left",0),B()(n,"zIndex",l?1e3:-1),n)},r.a.createElement(q,{isOver:a,isDragging:l,last:t},r.a.createElement(H,null,r.a.createElement(L,null))))}))},W=n(1466),U=n(1439),Y=r.a.memo((function(e){var t=e.children,n=e.beginDrag,a=e.endDrag,l=e.target,i=Object(W.a)({item:{type:"element",target:l},collect:function(e){return{isDragging:e.isDragging()}},begin:function(t){return"function"===typeof n?n(e,t):n},end:function(e,t){return"function"===typeof a?a(e,t):a}}),o=E()(i,3),c=o[0].isDragging,u=o[1],d=o[2];return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{connect:d,src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}),t({isDragging:c,drag:u}))})),G=n(27),J=n.n(G),K=n(40),Q=n(39),X=n(487),Z=n.n(X),$=n(17),ee=n(86),te=n(3),ne=n(70),ae=n(104),re=n(20),le=function(e){var t=e.field,n=e.form,l=e.fieldPlugin,i=n.Bind,o=n.setValue,u=Object(a.useRef)(null),d=Object(c.b)().getField,s=Object(ae.a)().getValue;Object(a.useEffect)((function(){setTimeout((function(){u.current&&u.current.focus()}),200)}),[]);var f=Object(a.useCallback)((function(e){o("fieldId",Z()(s(e)))}),[]),m=Object(a.useCallback)((function(e){var n=d({fieldId:e});if(n){if(n._id===t._id)return!0;throw new Error("Please enter a unique Field ID")}}),void 0),p=null;"function"===typeof l.field.renderSettings&&(p=l.field.renderSettings({form:n,afterChangeLabel:f,uniqueFieldIdValidator:m}));var b=Object(a.useMemo)((function(){return l.field.allowPredefinedValues&&"function"===typeof l.field.renderPredefinedValues}),[t.fieldId]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(te.b,null,r.a.createElement(te.a,{span:6},r.a.createElement(i,{name:"label",validators:re.validation.create("required"),afterChange:!t._id&&f},r.a.createElement(ne.a,{label:"Label",inputRef:u}))),r.a.createElement(te.a,{span:6},r.a.createElement(i,{name:"fieldId",validators:[re.validation.create("required"),m]},r.a.createElement($.a,{label:"Field ID",disabled:!!t._id}))),r.a.createElement(te.a,{span:6},r.a.createElement(i,{name:"multipleValues"},r.a.createElement(ee.a,{label:l.field.multipleValuesLabel,disabled:!l.field.allowMultipleValues}))),r.a.createElement(te.a,{span:6},r.a.createElement(i,{name:"predefinedValues.enabled"},r.a.createElement(ee.a,{label:"Use predefined values",disabled:!b}))),r.a.createElement(te.a,{span:12},r.a.createElement(i,{name:"helpText"},r.a.createElement(ne.a,{label:"Help text",description:"Help text (optional)"})))),p)},ie=n(25),oe=n(11),ce=n(251);function ue(){var e=s()(["Choose a component that will render the field:"]);return ue=function(){return e},e}function de(){var e=s()(["There are no component that can render this field."]);return de=function(){return e},e}var se=oe.a.ns("app-headless-cms/admin/components/editor/tabs/edit-field-dialog/appearance-tab"),fe={topLabel:Object(b.a)({marginBottom:25},"label:topLabel;"),noComponentsMessage:Object(b.a)({textAlign:"center",padding:25},"label:noComponentsMessage;"),radioContainer:Object(b.a)({marginBottom:10},"label:radioContainer;")},me=function(e){var t=e.field,n=e.form,l=Object(ie.getPlugins)("cms-editor-field-renderer").filter((function(e){return e.renderer.canUse({field:t})}));if(Object(a.useEffect)((function(){l.find((function(e){return e.renderer.rendererName===t.renderer.name}))||(l[0]?n.setValue("renderer.name",l[0].renderer.rendererName):console.log("No renderers for field ".concat(t.fieldId," found."),t))})),0===l.length)return r.a.createElement(te.b,null,r.a.createElement(te.a,{span:12,className:fe.noComponentsMessage},se(de())));var i=n.Bind;return r.a.createElement(te.b,null,r.a.createElement(te.a,{span:12},r.a.createElement("div",{className:fe.topLabel},se(ue())),r.a.createElement(i,{name:"renderer.name",validate:re.validation.create("required")},r.a.createElement(ce.b,null,(function(e){var t=e.onChange,n=e.getValue;return r.a.createElement(r.a.Fragment,null,l.map((function(e){return r.a.createElement("div",{key:e.name,className:fe.radioContainer},r.a.createElement(ce.a,{value:n(e.renderer.rendererName),onChange:t(e.renderer.rendererName),label:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,e.renderer.name),r.a.createElement("div",null,r.a.createElement(x.a,{use:"caption"},e.renderer.description)))}))})))})))))},pe=n(105),be=function(e){var t=e.locale,n=e.setLocale,a=Object(ae.a)();return r.a.createElement(pe.a,{label:"Locale",value:t,onChange:n,description:"Predefined values are set for every available locale separately."},a.getLocales().map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.code)})))},ge=n(4),ve=n.n(ge),he=function(e){var t=e.bind,n=e.locale,a=e.index,r=e.name,l=I()(t,"value.values");Array.isArray(l)||(l=[]);var i=l.find((function(e){return e.locale===n}));return i&&(i=i.value),a>=0?(Array.isArray(i)||(i=[]),I()(i,"".concat(a,".").concat(r))):i||[]},Ee=n(257),ye=n.n(Ee),Oe=function(e){var t=e.value,n=e.bind,a=e.locale,r=e.index,l=e.name,i=k()(ve()({values:[]},n.value)),o=i.values.findIndex((function(e){return e.locale===a}));r>=0?(o>=0?Array.isArray(i.values[o].value)||(i.values[o].value=[]):(i.values.push({locale:a,value:[]}),o=i.values.length-1),ye()(i,"values.".concat(o,".value.").concat(r,".").concat(l),t)):o>=0?i.values[o].value=t:i.values.push({locale:a,value:t}),i.values=i.values.filter((function(e){return!!e.value})),n.onChange(i)};function xe(e){var t=e.locale,n=e.field,l=e.fieldPlugin,i=e.form,o=Object(a.useRef)({}),c=i.Bind,u=Object(a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=t+e;return o.current[n]||(o.current[n]=function(n){var l=n.children,i=n.name;return r.a.createElement(c,{name:"predefinedValues.values"},(function(n){var r=he({bind:n,locale:t,index:e,name:i}),o=ve()(ve()({},n),{},{value:r,onChange:function(a){return Oe({value:a,bind:n,locale:t,index:e,name:i})}});return"function"===typeof l?l(o):Object(a.cloneElement)(l,o)}))}),o.current[n]}),[t]);return l.field.renderPredefinedValues({field:n,getBind:u,locale:t})}var je=function(e){var t=Object(ae.a)(),n=Object(a.useState)(t.getLocale().id),l=E()(n,2),i=l[0],o=l[1],c=Object(a.useCallback)((function(){return i}),[i]);return r.a.createElement(a.Fragment,null,r.a.createElement(te.b,null,r.a.createElement(te.a,{span:12},r.a.createElement(be,{locale:c(),setLocale:o}))),r.a.createElement(xe,Object.assign({},e,{locale:i})))};function we(){var e=s()(["Save"]);return we=function(){return e},e}function Ce(){var e=s()(["Cancel"]);return Ce=function(){return e},e}function ke(){var e=s()(["Appearance"]);return ke=function(){return e},e}function De(){var e=s()(["Predefined Values"]);return De=function(){return e},e}function Ie(){var e=s()(["General"]);return Ie=function(){return e},e}function Te(){var e=s()(["Field Settings - {fieldTypeLabel}"]);return Te=function(){return e},e}function Fe(){var e=s()(["Field Settings"]);return Fe=function(){return e},e}var Se=oe.a.namespace("app-headless-cms/admin/components/editor"),Ae=Object(b.a)({"&.webiny-ui-dialog__content":{width:875,height:450}},"label:dialogBody;"),Ve=function(e){var t=e.field,n=e.onSubmit,l=J()(e,["field","onSubmit"]),i=Object(a.useState)(null),o=E()(i,2),u=o[0],d=o[1],s=Object(c.b)().getFieldPlugin;Object(a.useEffect)((function(){if(!t)return d(t);var e=k()(t);if(!e.renderer||!e.renderer.name){var n=Object(ie.getPlugins)("cms-editor-field-renderer").filter((function(e){return e.renderer.canUse({field:t})})),a=E()(n,1)[0];a&&(e.renderer={name:a.renderer.rendererName})}d(e)}),[t]);var f=Object(a.useCallback)((function(){d(null),l.onClose()}),void 0),m=null,p=Se(Fe());if(u){var b=s({type:u.type});b&&(p=Se(Te())({fieldTypeLabel:b.field.label})),m=r.a.createElement(Q.a,{data:u,onSubmit:n},(function(e){var t=b.field.allowPredefinedValues&&e.data.predefinedValues&&e.data.predefinedValues.enabled;return r.a.createElement(r.a.Fragment,null,r.a.createElement(K.f,{className:Ae},r.a.createElement(j.b,null,r.a.createElement(j.a,{label:Se(Ie())},r.a.createElement(le,{form:e,field:e.data,fieldPlugin:b})),r.a.createElement(j.a,{label:Se(De()),disabled:!t},t&&r.a.createElement(je,{form:e,field:e.data,fieldPlugin:b})),r.a.createElement(j.a,{label:Se(ke())},r.a.createElement(me,{form:e,field:e.data,fieldPlugin:b})))),r.a.createElement(K.c,{style:{justifyContent:"flex-end"}},r.a.createElement("div",null,r.a.createElement(K.d,{onClick:f},Se(Ce())),r.a.createElement(K.d,{onClick:e.submit},Se(we())))))}))}return r.a.createElement(K.a,{preventOutsideDismiss:!0,open:!!u,onClose:f},r.a.createElement(K.g,null,p),m)},Me=n(5),Be=n.n(Me),ze=n(12),Ne=n.n(ze),Pe=n(10),Re=n(649),He=n(353);function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var qe=r.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),_e=r.a.createElement("path",{d:"M5 5.5C5 6.33 5.67 7 6.5 7h4v10.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V7h4c.83 0 1.5-.67 1.5-1.5S18.33 4 17.5 4h-11C5.67 4 5 4.67 5 5.5z"}),We=function(e){return r.a.createElement("svg",Le({height:24,viewBox:"0 0 24 24",width:24},e),qe,_e)},Ue=(n.p,n(352)),Ye=n(47),Ge=n(18);function Je(){var e=s()(["Delete"]);return Je=function(){return e},e}function Ke(){var e=s()(["Cannot delete"]);return Ke=function(){return e},e}function Qe(){var e=s()(["Use as title"]);return Qe=function(){return e},e}function Xe(){var e=s()(["Title field set successfully."]);return Xe=function(){return e},e}function Ze(){var e=s()(["entry title"]);return Ze=function(){return e},e}function $e(){var e=s()(["multiple values"]);return $e=function(){return e},e}var et=oe.a.ns("app-headless-cms/admin/components/editor/field"),tt=Object(y.a)("div",{target:"e4t4mqa0",label:"FieldContainer"})({display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}),nt=Object(y.a)("div",{target:"e4t4mqa1",label:"Info"})({display:"flex",flexDirection:"column","> *":{flex:"1 100%",lineHeight:"150%"}}),at=Object(y.a)("div",{target:"e4t4mqa2",label:"Actions"})({display:"flex",flexDirection:"row",alignItems:"right","> *":{flex:"1 100%"}}),rt=Object(b.a)({width:220,right:-105,left:"auto !important",".disabled":{opacity:.5,pointerEvents:"none"}},"label:menuStyles;"),lt=function(e){var t=e.field,n=e.onEdit,a=e.onDelete,l=Object(ae.a)().getValue,i=Object(f.a)().showSnackbar,o=Object(c.b)(),u=o.getFieldPlugin,d=o.setData,s=o.data,m=u({type:t.type}),p=Object(ie.getPlugins)("cms-editor-field-option"),b=s.lockedFields||[];return r.a.createElement(tt,null,r.a.createElement(nt,null,r.a.createElement(x.a,{use:"subtitle1"},l(t.label)," "),r.a.createElement(x.a,{use:"caption"},m&&m.field.label," ",t.multipleValues&&r.a.createElement(r.a.Fragment,null,"(",et($e()),")"),t.fieldId===s.titleFieldId&&r.a.createElement(r.a.Fragment,null,"(",et(Ze()),")"))),r.a.createElement(at,null,r.a.createElement(Pe.g,{icon:r.a.createElement(Re.a,null),onClick:function(){return n(t)}}),r.a.createElement(Ye.a,{className:rt,handle:r.a.createElement(Pe.g,{icon:r.a.createElement(Ue.a,null)})},p.map((function(e){return r.a.cloneElement(e.render(),{key:e.name})})),r.a.createElement(Ye.c,{disabled:t.multipleValues||"text"!==t.type,onClick:Ne()(Be.a.mark((function e(){var n;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d((function(e){return e.titleFieldId=t.fieldId,e}));case 2:if(!(n=e.sent).error){e.next=5;break}return e.abrupt("return",i(n.error.message));case 5:i(et(Xe()));case 6:case"end":return e.stop()}}),e)})))},r.a.createElement(Ge.e,null,r.a.createElement(w.a,{icon:r.a.createElement(We,null)})),et(Qe())),r.a.createElement(Ye.c,{disabled:b.find((function(e){return e.fieldId===t.fieldId})),onClick:function(){return a(t)}},r.a.createElement(Ge.e,null,r.a.createElement(w.a,{icon:r.a.createElement(He.a,null)})),b.find((function(e){return e.fieldId===t.fieldId}))?et(Ke()):et(Je())))))};function it(){return(it=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var ot=r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),ct=r.a.createElement("path",{fill:"currentColor",d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),ut=function(e){return r.a.createElement("svg",it({width:24,viewBox:"0 0 24 24"},e),ot,ct)},dt=(n.p,Object(y.a)("div",{target:"eb48ogp0",label:"EditContainer"})({padding:40,position:"relative"})),st=Object(y.a)("div",{target:"eb48ogp1",label:"RowContainer"})({position:"relative",display:"flex",flexDirection:"column",marginBottom:25,borderRadius:2,backgroundColor:"var(--mdc-theme-surface)",border:"1px solid var(--mdc-theme-on-background)",boxShadow:"var(--mdc-theme-on-background) 1px 1px 1px, var(--mdc-theme-on-background) 1px 1px 2px"}),ft=Object(y.a)("div",{target:"eb48ogp2",label:"Row"})({display:"flex",flexDirection:"row",backgroundColor:"var(--mdc-theme-surface)",paddingLeft:40,paddingRight:10,position:"relative"}),mt=Object(b.a)({position:"relative",flex:"1 100%",backgroundColor:"var(--mdc-theme-background)",padding:"0 15px",margin:10,borderRadius:2,border:"1px solid var(--mdc-theme-on-background)",transition:"box-shadow 225ms",color:"var(--mdc-theme-on-surface)",cursor:"grab","&:hover":{boxShadow:"var(--mdc-theme-on-background) 1px 1px 1px, var(--mdc-theme-on-background) 1px 1px 2px"}},"label:fieldContainer;"),pt=Object(b.a)({width:30,cursor:"grab",position:"absolute",left:10,top:"50%",transform:"translateY(-50%)",zIndex:1,color:"var(--mdc-theme-on-surface)"},"label:rowHandle;"),bt=Object(b.a)({cursor:"grab"},"label:fieldHandle;");function gt(){var e=s()(["Drop your first field here"]);return gt=function(){return e},e}var vt=oe.a.namespace("app-headless-cms/admin/components/editor"),ht=function(){var e=Object(c.b)(),t=e.getFields,n=e.insertField,l=e.updateField,i=e.deleteField,o=e.data,u=e.moveField,d=e.moveRow,s=e.getFieldPlugin,f=Object(a.useState)(null),m=E()(f,2),p=m[0],b=m[1],g=Object(a.useState)(null),v=E()(g,2),h=v[0],y=v[1],O=Object(a.useCallback)((function(e){b(k()(e))}),void 0),x=Object(ae.a)(),j=Object(a.useCallback)((function(e,t){var n=e.pos,a=e.type;if("row"===e.ui)return d(n.row,t.row);if(n){var r=o.layout[n.row][n.index];return u({field:r,position:t})}var l=s({type:a});O(l.field.createField({i18n:x})),y(t)}),null),C=t(!0);return r.a.createElement(dt,null,0===C.length&&r.a.createElement(V,{onDrop:function(e){return j(e,{row:0,index:0})}},vt(gt())),C.map((function(e,t){return r.a.createElement(Y,{beginDrag:{ui:"row",pos:{row:t}},key:t},(function(n){var a=n.drag,l=n.isDragging;return r.a.createElement(st,{style:{opacity:l?.3:1}},r.a.createElement("div",{className:pt,ref:a},r.a.createElement(w.a,{icon:r.a.createElement(ut,null)})),r.a.createElement(R,{onDrop:function(e){return j(e,{row:t,index:null})}}),r.a.createElement(ft,null,e.map((function(n,a){return r.a.createElement(Y,{key:a,beginDrag:{ui:"field",type:n.type,pos:{row:t,index:a}}},(function(l){var o=l.drag;return r.a.createElement("div",{className:mt,ref:o},r.a.createElement(_,{onDrop:function(e){return j(e,{row:t,index:a})},isVisible:function(n){return"field"===n.ui&&(e.length<4||I()(n,"pos.row")===t)}}),r.a.createElement("div",{className:bt},r.a.createElement(lt,{field:n,onEdit:O,onDelete:i})),a===e.length-1&&r.a.createElement(_,{last:!0,isVisible:function(n){return"field"===n.ui&&(e.length<4||I()(n,"pos.row")===t)},onDrop:function(e){return j(e,{row:t,index:a+1})}}))}))}))),t===C.length-1&&r.a.createElement(R,{last:!0,onDrop:function(e){return j(e,{row:t+1,index:null})}}))}))})),r.a.createElement(Ve,{field:p,onClose:O,onSubmit:function(e){e._id?l(e):n(e,h),O(null)}}))},Et=n(44),yt=n(79),Ot=n(118),xt=n(599),jt=n(80),wt=n.n(jt),Ct=n(179),kt=n(38),Dt=n(68);function It(){var e=s()(["Add index"]);return It=function(){return e},e}function Tt(){var e=s()(["Choose fields"]);return Tt=function(){return e},e}function Ft(){var e=s()(["An index with the same combination of fields already exists."]);return Ft=function(){return e},e}function St(){var e=s()(["Create index"]);return St=function(){return e},e}function At(){var e=s()(["Index added. To apply the changes, please save the content model."]);return At=function(){return e},e}var Vt=oe.a.ns("app-headless-cms/admin/components/editor/tabs/index"),Mt=Object(b.a)({".mdc-dialog__surface":{width:600,minWidth:600}},"label:narrowDialog;"),Bt=Object(b.a)({padding:"5px !important"},"label:noPadding;"),zt=function(e){var t=e.open,n=e.onClose,a=Object(f.a)().showSnackbar,l=Object(c.b)(),i=l.data,o=l.setData,u=l.getFieldPlugin;return r.a.createElement(K.a,{open:t,onClose:n,className:Mt,"data-testid":"cms-new-content-model-modal"},r.a.createElement(Q.a,{onSubmit:function(){var e=Ne()(Be.a.mark((function e(t,r){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o((function(e){return e.indexes.push(t),e}));case 2:n(),r.setState({data:{}}),a(Vt(At()));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},(function(e){var t,n=e.Bind,a=e.submit,l=e.data,o=wt()(l,"fields",[]),c=1===o.length&&"id"===o[0],d=o.sort().join();i.indexes.forEach((function(e){if(wt()(e,"fields",[]).sort().join()===d)return t=!0,!1}));var s=i.fields.map((function(e){var t=u({type:e.type});if(e.multipleValues){if(!t.field.allowIndexes.multipleValues)return null}else if(!t.field.allowIndexes.singleValue)return null;return e})).filter(Boolean);return r.a.createElement(r.a.Fragment,null,r.a.createElement(K.g,null,Vt(St())),r.a.createElement(K.f,null,t&&!c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(Dt.a,{type:"warning",title:"Already existing"},Vt(Ft()))),r.a.createElement(n,{name:"fields"},r.a.createElement(Ct.b,{label:Vt(Tt())},(function(e){var t=e.onChange,n=e.getValue;return r.a.createElement(r.a.Fragment,null,r.a.createElement(te.b,{className:Bt},r.a.createElement(te.a,{span:12},r.a.createElement(Ct.a,{value:n("id"),onChange:t("id"),label:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"id"))})),s.map((function(e){var a=e.label,l=e.fieldId,i=e.type;return r.a.createElement(te.a,{span:6,key:l},r.a.createElement(Ct.a,{value:n(l),onChange:t(l),label:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(kt.a,{value:a})),r.a.createElement("div",null,r.a.createElement(x.a,{use:"caption"},i)))}))}))))})))),r.a.createElement(K.c,null,r.a.createElement(Pe.a,{disabled:c||t,onClick:a},"+ ",Vt(It()))))})))},Nt=n(163),Pt=n.n(Nt),Rt=n(52);function Ht(){var e=s()(["Before creating an index, please add at least one field to the content model."]);return Ht=function(){return e},e}function Lt(){var e=s()(["Index removed. To apply the changes, please save the content model."]);return Lt=function(){return e},e}function qt(){var e=s()(["You are about to remove the {index} index. Are you sure you want to continue?"]);return qt=function(){return e},e}function _t(){var e=s()(["Confirm index removal"]);return _t=function(){return e},e}function Wt(){var e=s()(['The index for the "id" field cannot be deleted.']);return Wt=function(){return e},e}function Ut(){var e=s()(["N/A"]);return Ut=function(){return e},e}function Yt(){var e=s()(["Created: {time}"]);return Yt=function(){return e},e}function Gt(){var e=s()(["Add index"]);return Gt=function(){return e},e}var Jt=oe.a.ns("app-headless-cms/admin/components/editor/tabs/indexes"),Kt={previewWrapper:Object(b.a)({padding:40,backgroundColor:"var(--webiny-theme-color-surface, #fff) !important",margin:40,boxSizing:"border-box"},"label:previewWrapper;"),listWrapper:Object(b.a)({marginBottom:10,display:"flex",flexDirection:"column",".mdc-list .mdc-list-item":{borderBottom:"1px solid var(--mdc-theme-on-background)"},".mdc-list .mdc-list-item:last-child":{borderBottom:"none"}},"label:listWrapper;"),addIndexButton:Object(b.a)({textAlign:"center",width:"100%"},"label:addIndexButton;"),noFieldsMessage:Object(b.a)({textAlign:"center"},"label:noFieldsMessage;")},Qt=function(){var e=Object(c.b)(),t=e.data,n=e.setData,l=Object(a.useState)(!1),i=E()(l,2),o=i[0],u=i[1],d=Object(f.a)().showSnackbar,s=t.indexes,m=t.fields,p=Object(a.useCallback)((function(e){return 1===e.fields.length&&"id"===e.fields[0]}),[]);return r.a.createElement(Et.a,{z:1,className:Kt.previewWrapper},m&&m.length?r.a.createElement("div",{className:Kt.listWrapper},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Kt.addIndexButton},r.a.createElement(Pe.a,{onClick:function(){return u(!0)}},r.a.createElement(Pe.c,{icon:r.a.createElement(xt.a,null)}),Jt(Gt())),r.a.createElement(zt,{open:o,onClose:function(){return u(!1)}})),r.a.createElement(Ge.b,{twoLine:!0},s.map((function(e){var t=e.fields.join(", ");return r.a.createElement(Ge.d,{key:t},r.a.createElement(Ge.g,null,r.a.createElement(Ge.h,null,t),r.a.createElement(Ge.i,null,e.createdOn?Jt(Yt())({time:r.a.createElement(Pt.a,{datetime:e.createdOn})}):Jt(Ut()))),r.a.createElement(Ge.f,null,r.a.createElement(Ge.c,null,p(e)?r.a.createElement(Rt.a,{placement:"bottom",content:r.a.createElement("span",null,Jt(Wt()))},r.a.createElement(Ot.a,{disabled:!0})):r.a.createElement(yt.a,{title:Jt(_t()),message:Jt(qt())({index:r.a.createElement("strong",null,e.fields.join(", "))})},(function(t){var a=t.showConfirmation;return r.a.createElement(Ot.a,{onClick:function(){a((function(){n((function(t){var n=e.fields.sort().join(),a=t.indexes.findIndex((function(e){var t=e.fields.sort().join();return n===t}));return t.indexes.splice(a,1),t})),d(Jt(Lt()))}))}})})))))}))))):r.a.createElement("div",{className:Kt.noFieldsMessage},Jt(Ht())))},Xt=n(651);function Zt(){var e=s()(["Before previewing the form, please add at least one field to the content model."]);return Zt=function(){return e},e}var $t=oe.a.ns("app-headless-cms/admin/components/editor/tabs/preview"),en=Object(b.a)({padding:40,backgroundColor:"var(--webiny-theme-color-surface, #fff) !important",margin:40,boxSizing:"border-box"},"label:formPreviewWrapper;"),tn={noFieldsMessage:Object(b.a)({textAlign:"center"},"label:noFieldsMessage;")},nn=function(e){var t=e.activeTab,n=Object(c.b)().data,a=Object(ae.a)(),l=n.fields;return r.a.createElement(Et.a,{z:1,className:en},l&&l.length&&t?r.a.createElement(Xt.a,{contentModel:n,locale:a.getLocale().id}):r.a.createElement("div",{className:tn.noFieldsMessage},$t(Zt())))},an=Object(y.a)("div",{target:"e1l5uh720",label:"FieldContainer"})({padding:"10px 15px",marginBottom:20,display:"flex",width:"100%",backgroundColor:"var(--mdc-theme-on-background)",borderRadius:15,boxSizing:"border-box",cursor:"grab",opacity:1,transition:"opacity 225ms","&:hover":{opacity:.8},"&:last-child":{marginBottom:0}}),rn=Object(y.a)("div",{target:"e1l5uh721",label:"FileInfo"})({}),ln=Object(y.a)("div",{target:"e1l5uh722",label:"FieldLabel"})({textTransform:"uppercase",lineHeight:"145%",color:"var(--mdc-theme-on-surface)"}),on=Object(y.a)("div",{target:"e1l5uh723",label:"FieldDescription"})({fontSize:14,color:"var(--mdc-theme-text-secondary-on-background)"}),cn=Object(y.a)("div",{target:"e1l5uh724",label:"FieldHandle"})({marginRight:15,color:"var(--mdc-theme-on-surface)"}),un=function(e){var t=e.onFieldDragStart,n=e.fieldType,a=n.type,l=n.label,i=n.icon,o=n.description;return r.a.createElement(Y,{beginDrag:{ui:"field",type:a}},(function(e){var n=e.drag;return r.a.createElement("div",{ref:n,style:{marginBottom:10},onDragStart:t},r.a.createElement(an,null,r.a.createElement(cn,null,r.a.createElement(w.a,{icon:i})),r.a.createElement(rn,null,r.a.createElement(ln,null,l),r.a.createElement(on,null,o))))}))},dn=function(e){var t=e.onFieldDragStart,n=Object(ie.getPlugins)("cms-editor-field-type");return r.a.createElement(r.a.Fragment,null,n.map((function(e){return r.a.createElement(un,{key:e.field.type,fieldType:e.field,onFieldDragStart:t})})))};function sn(){return(sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var fn=r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),mn=r.a.createElement("path",{fill:"currentColor",d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm1 14H8c-.55 0-1-.45-1-1s.45-1 1-1h5c.55 0 1 .45 1 1s-.45 1-1 1zm3-4H8c-.55 0-1-.45-1-1s.45-1 1-1h8c.55 0 1 .45 1 1s-.45 1-1 1zm0-4H8c-.55 0-1-.45-1-1s.45-1 1-1h8c.55 0 1 .45 1 1s-.45 1-1 1z"}),pn=function(e){return r.a.createElement("svg",sn({width:24,viewBox:"0 0 24 24"},e),fn,mn)},bn=(n.p,Object(y.a)("div",{target:"e4hq2j50",label:"ContentContainer"})({paddingTop:65})),gn=Object(y.a)("div",{target:"e4hq2j51",label:"LeftBarTitle"})({borderBottom:"1px solid var(--mdc-theme-on-background)",display:"flex",alignItems:"center",padding:25,color:"var(--mdc-theme-on-surface)"}),vn=Object(b.a)({height:24,marginRight:15,color:"var(--mdc-theme-primary)"},"label:titleIcon;"),hn=Object(y.a)("div",{target:"e4hq2j52",label:"LeftBarFieldList"})({padding:40,overflow:"scroll",height:"calc(100vh - 250px)"}),En=Object(b.a)({"&.webiny-ui-tabs":{".webiny-ui-tabs__tab-bar":{backgroundColor:"var(--mdc-theme-surface)"}}},"label:formTabs;");function yn(){var e=Object(a.useRef)(),t=Object(a.useState)(0),n=E()(t,2),l=n[0],i=n[1];return r.a.createElement(bn,null,r.a.createElement(O.c,null,r.a.createElement(O.a,{span:4},r.a.createElement(gn,null,r.a.createElement(w.a,{className:vn,icon:r.a.createElement(pn,null)}),r.a.createElement(x.a,{use:"headline6"},"Fields")),r.a.createElement(hn,null,r.a.createElement(dn,{onFieldDragStart:function(){e.current&&e.current.switchTab(0)}}))),r.a.createElement(O.b,{span:8},r.a.createElement(j.b,{className:En,ref:e,onActivate:function(e){return i(e)}},r.a.createElement(j.a,{label:"Edit"},r.a.createElement(ht,{activeTab:0===l})),r.a.createElement(j.a,{label:"Preview"},r.a.createElement(nn,{activeTab:1===l})),r.a.createElement(j.a,{label:"Indexes"},r.a.createElement(Qt,{activeTab:2===l}))))))}var On=n(1443),xn=!1,jn=null;function wn(){var e=Object(a.useState)(0),t=E()(e,2),n=t[0],l=t[1],i=Object(On.a)((function(e){return xn||(e.subscribeToOffsetChange(function(e){return function(){if(jn){var t=e.getClientOffset();if(t){var n="translate(".concat(t.x-15,"px, ").concat(t.y-15,"px)");jn.style.transform=n,jn.style["-webkit-transform"]=n}}}}(e)),xn=!0),{isDragging:e.isDragging()}})).isDragging;return Object(a.useEffect)((function(){return function(){xn=!1,jn=null}}),[]),Object(a.useEffect)((function(){i?setTimeout((function(){l(i?1:0)}),100):l(0)}),[i]),i&&i?r.a.createElement("div",{style:{position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:"100%",height:"100%"}},r.a.createElement("div",{ref:function(e){return jn=e},style:{transition:"opacity .25s ease-in-out",display:"block",opacity:n}},r.a.createElement("div",{style:{width:30,height:30,backgroundColor:"var(--mdc-theme-primary)",borderRadius:"50%"}}))):null}function Cn(){var e=s()(["Could not load content model with given ID."]);return Cn=function(){return e},e}var kn=oe.a.ns("app-headless-cms/admin/editor"),Dn=function(){var e=Object(c.b)(),t=e.getContentModel,n=e.state,r=n.data,l=n.id,i=Object(u.e)().history,o=Object(f.a)().showSnackbar;return a.useEffect((function(){t(l).catch((function(){i.push("/cms/content-models"),o(kn(Cn()))}))}),[l]),r?a.createElement("div",{className:"content-model-editor"},a.createElement(v,null),a.createElement(yn,null),a.createElement(wn,null)):null},In=n(69),Tn=function(){var e=Object(u.e)(),t=Object(In.b)().environments.apolloClient,n=e.match.params.id;return t?r.a.createElement(c.a,{key:n,apollo:t,id:n,defaultLayoutRenderer:"forms-form-layout-default"},r.a.createElement(Dn,null)):null};function Fn(){return r.a.createElement(i.a,{backend:l.a},r.a.createElement(Tn,null),r.a.createElement("div",{style:{zIndex:10,position:"absolute"}},r.a.createElement(o.a,null)))}n.d(t,"default",(function(){return Fn}))}}]);