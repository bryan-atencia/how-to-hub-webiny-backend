(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[16],{1406:function(e,t,n){"use strict";var a=n(16),r=n.n(a),c=n(0),o=n.n(c),i=n(178),u=n(479),l=n(69),s=n(481);t.a=function(e){var t=Object(l.b)().environments.currentEnvironment,n=Object(c.useState)(!1),a=r()(n,2),m=a[0],d=a[1];return t?o.a.createElement(o.a.Fragment,null,o.a.createElement(i.c,Object.assign({},e,{onClick:function(){return d(!0)}}),o.a.createElement(i.a,null,t.name,o.a.createElement(i.b,{trailing:!0,icon:o.a.createElement(u.a,null)}))),o.a.createElement(s.a,{open:m,onClose:function(){d(!1)}})):null}},1620:function(e,t,n){"use strict";n.r(t);var a=n(16),r=n.n(a),c=n(0),o=n.n(c),i=n(65),u=n(188),l=n(5),s=n.n(l),m=n(1),d=n.n(m),f=n(12),p=n.n(f),v=n(163),b=n.n(v),h=n(26),E=n(8),g=n(9),C=n.n(g),w=n(79),O=n(118);function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var k=o.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none",opacity:.87}),y=o.a.createElement("path",{d:"M4 14h2c.55 0 1-.45 1-1v-2c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v2c0 .55.45 1 1 1zm0 5h2c.55 0 1-.45 1-1v-2c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v2c0 .55.45 1 1 1zM4 9h2c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v2c0 .55.45 1 1 1zm5 5h10c.55 0 1-.45 1-1v-2c0-.55-.45-1-1-1H9c-.55 0-1 .45-1 1v2c0 .55.45 1 1 1zm0 5h10c.55 0 1-.45 1-1v-2c0-.55-.45-1-1-1H9c-.55 0-1 .45-1 1v2c0 .55.45 1 1 1zM8 6v2c0 .55.45 1 1 1h10c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1H9c-.55 0-1 .45-1 1z"}),M=function(e){return o.a.createElement("svg",j({viewBox:"0 0 24 24",width:24,height:24},e),k,y)},x=(n.p,n(238)),H=n(69),L=n(41),N=n(1406),S=n(18),z=n(10),D=n(52),B=n(11);function F(){var e=d()(["Delete content model"]);return F=function(){return e},e}function V(){var e=d()(["Edit content model"]);return V=function(){return e},e}function A(){var e=d()(["View entries"]);return A=function(){return e},e}function I(){var e=d()(["View content"]);return I=function(){return e},e}function Q(){var e=d()(["Last modified: {time}."]);return Q=function(){return e},e}function R(){var e=d()(["Created by: {user}."]);return R=function(){return e},e}function q(){var e=d()(["Title Z-A"]);return q=function(){return e},e}function G(){var e=d()(["Title A-Z"]);return G=function(){return e},e}function P(){var e=d()(["Oldest to newest"]);return P=function(){return e},e}function T(){var e=d()(["Newest to oldest"]);return T=function(){return e},e}function J(){var e=d()(["Content Models"]);return J=function(){return e},e}function Z(){var e=d()(["Something unexpected happened."]);return Z=function(){return e},e}function _(){var e=d()(["Content model {name} deleted."]);return _=function(){return e},e}var U=B.a.namespace("FormsApp.ContentModelsDataList"),W=Object(E.a)({alignItems:"flex-end !important",justifyContent:"center !important"},"label:rightAlign;"),K=Object(E.a)({minHeight:"66px !important"},"label:listItemMinHeight;"),X=Object(E.a)({color:"var(--mdc-theme-text-secondary-on-background)"},"label:viewEntriesIconStyles;"),Y=function(e){var t=e.dataList,n=Object(h.e)(),a=n.location,r=n.history,i=Object(H.a)(),u=Object(L.a)().showSnackbar,l=function(){var n=p()(s.a.mark((function n(c){var o,l,m,d,f;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.mutate({mutation:x.b,variables:{id:c.id},awaitRefetchQueries:!0,refetchQueries:["HeadlessCmsListContentModels","HeadlessCmsListMenuContentGroupsModels"]});case 2:o=n.sent,l=C()(o,"data.deleteContentModel"),m=l.data,d=l.error,m?u(U(_())({name:c.name})):u(d.message,{title:U(Z())}),c.id===e.id&&((f=new URLSearchParams(a.search)).delete("id"),r.push({search:f.toString()})),t.refresh();case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),m=Object(c.useRef)({}),d=Object(c.useCallback)((function(e){return m.current[e.id]||(m.current[e.id]=p()(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.push("/cms/content-models/"+e.id);case 1:case"end":return t.stop()}}),t)})))),m.current[e.id]}),void 0),f=Object(c.useCallback)((function(e){return function(){return r.push("/cms/content-models/manage/"+e.modelId)}}),void 0);return o.a.createElement(S.a,Object.assign({},t,{title:U(J()),actions:o.a.createElement(N.a,{style:{justifyContent:"flex-end"}}),sorters:[{label:U(T()),sorters:{createdOn:-1}},{label:U(P()),sorters:{createdOn:1}},{label:U(G()),sorters:{name:1}},{label:U(q()),sorters:{name:-1}}]}),(function(e){var t=e.data,n=void 0===t?[]:t;return o.a.createElement(S.b,{"data-testid":"default-data-list"},n.map((function(e){return o.a.createElement(S.d,{key:e.id,className:K},o.a.createElement(S.g,null,e.name,e.createdBy&&o.a.createElement(S.i,null,e.createdBy.firstName&&o.a.createElement(o.a.Fragment,null,U(R())({user:e.createdBy.firstName})," "),U(Q())({time:o.a.createElement(b.a,{datetime:e.savedOn})}))),o.a.createElement(S.f,{className:W},o.a.createElement(S.c,null,o.a.createElement(D.a,{content:U(I()),placement:"top"},o.a.createElement(z.g,{icon:o.a.createElement(M,{className:X}),label:U(A()),onClick:f(e)})),o.a.createElement(D.a,{content:U(V()),placement:"top"},o.a.createElement(O.b,{onClick:d(e)})),o.a.createElement(w.a,null,(function(t){var n=t.showConfirmation;return o.a.createElement(D.a,{content:U(F()),placement:"top"},o.a.createElement(O.a,{onClick:function(){return n(p()(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",l(e));case 1:case"end":return t.stop()}}),t)}))))}}))})))))})))}))},$=n(39),ee=n(17),te=n(105),ne=n(80),ae=n.n(ne),re=n(35),ce=n(20),oe=n(40),ie=n(3);function ue(){var e=d()(["Create"]);return ue=function(){return e},e}function le(){var e=d()(["Description"]);return le=function(){return e},e}function se(){var e=d()(["Content model group"]);return se=function(){return e},e}function me(){var e=d()(["Choose a content model group"]);return me=function(){return e},e}function de(){var e=d()(["The name of the content model"]);return de=function(){return e},e}function fe(){var e=d()(["Name"]);return fe=function(){return e},e}function pe(){var e=d()(["New Content Model"]);return pe=function(){return e},e}var ve=B.a.ns("app-headless-cms/admin/views/content-models/new-content-model-dialog"),be=Object(E.a)({".mdc-dialog__surface":{width:600,minWidth:600}},"label:narrowDialog;"),he=Object(E.a)({padding:"5px !important"},"label:noPadding;"),Ee=function(e){var t=e.open,n=e.onClose,a=e.contentModelsDataList,c=o.a.useState(!1),i=r()(c,2),u=i[0],l=i[1],m=Object(L.a)().showSnackbar,d=Object(h.e)().history,f=Object(H.c)(x.a),v=r()(f,1)[0],b=Object(H.d)(x.d,{skip:!t}).data,E=ae()(b,"listContentModelGroups.data",[]).map((function(e){return{value:e.id,label:e.name}}));return o.a.createElement(oe.a,{open:t,onClose:n,className:be,"data-testid":"cms-new-content-model-modal"},t&&o.a.createElement($.a,{data:{group:ae()(E,"0.value")},onSubmit:function(){var e=p()(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.t0=ae.a,e.next=4,v({variables:{data:t},awaitRefetchQueries:!0,refetchQueries:["HeadlessCmsListContentModels","HeadlessCmsListMenuContentGroupsModels"]});case 4:if(e.t1=e.sent,!(n=(0,e.t0)(e.t1,"data.createContentModel")).error){e.next=9;break}return l(!1),e.abrupt("return",m(n.error.message));case 9:return e.next=11,a.refresh();case 11:d.push("/cms/content-models/"+n.data.id);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},(function(e){var t=e.Bind,n=e.submit;return o.a.createElement(o.a.Fragment,null,u&&o.a.createElement(re.a,null),o.a.createElement(oe.g,null,ve(pe())),o.a.createElement(oe.f,null,o.a.createElement(ie.b,{className:he},o.a.createElement(ie.a,{span:12},o.a.createElement(t,{name:"name",validators:ce.validation.create("required,maxLength:100")},o.a.createElement(ee.a,{label:ve(fe()),description:ve(de())}))),o.a.createElement(ie.a,{span:12},o.a.createElement(t,{name:"group",validators:ce.validation.create("required")},o.a.createElement(te.a,{description:ve(me()),label:ve(se()),options:E}))),o.a.createElement(ie.a,{span:12},o.a.createElement(t,{name:"description"},(function(e){return o.a.createElement(ee.a,Object.assign({},e,{rows:4,maxLength:200,characterCount:!0,label:ve(le())}))}))))),o.a.createElement(oe.c,null,o.a.createElement(z.a,{onClick:n},"+ ",ve(ue()))))})))},ge=n(227);t.default=function(){var e=o.a.useState(!1),t=r()(e,2),n=t[0],a=t[1],c=Object(H.a)(),l=Object(ge.a)({client:c,query:x.c,variables:{sort:{savedOn:-1}}});return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ee,{open:n,onClose:function(){return a(!1)},contentModelsDataList:l}),o.a.createElement(i.c,null,o.a.createElement(i.a,{span:12},o.a.createElement(Y,{dataList:l}))),o.a.createElement(u.a,{"data-testid":"new-record-button",onClick:function(){return a(!0)}}))}}}]);