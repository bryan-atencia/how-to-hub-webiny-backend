(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[5],{1387:function(e,t,n){"use strict";var r=n(1),i=n.n(r),o=n(27),a=n.n(o),u=n(4),c=n.n(u),l=n(132),p=n.n(l),s=n(57),d=n.n(s),f=n(139),g=n.n(f),y=n(111),m=n.n(y),v=n(145),b=n.n(v),h=n(77),O=n.n(h),j=n(84),E=n.n(j),T=n(14),x=n.n(T),A=n(471),w=n(25),P=n(297),S=n(1394),U="@@redux-undo/UNDO",D="@@redux-undo/REDO",_="@@redux-undo/JUMP_TO_FUTURE",I="@@redux-undo/JUMP_TO_PAST",k="@@redux-undo/JUMP",H="@@redux-undo/CLEAR_HISTORY";function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(e)?e:"string"===typeof e?[e]:t}function C(e){return"undefined"!==typeof e.present&&"undefined"!==typeof e.future&&"undefined"!==typeof e.past&&Array.isArray(e.future)&&Array.isArray(e.past)}function F(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{past:e,present:t,future:n,group:r,_latestUnfiltered:t,index:e.length,limit:e.length+n.length+1}}var M,N,z=n(28),B=n.n(z),J="#9E9E9E",L="#03A9F4",W="#4CAF50";function $(e,t,n){return["%c".concat(e),"color: ".concat(t,"; font-weight: bold"),n]}function Y(e,t){N={header:[],prev:[],action:[],next:[],msgs:[]},M&&(console.group?(N.header=["%credux-undo","font-style: italic","action",e.type],N.action=$("action",L,e),N.prev=$("prev history",J,t)):(N.header=["redux-undo action",e.type],N.action=["action",e],N.prev=["prev history",t]))}function q(e){M&&(console.group?N.next=$("next history",W,e):N.next=["next history",e],function(){var e,t,n,r,i,o,a,u,c,l,p=N,s=p.header,d=p.prev,f=p.next,g=p.action,y=p.msgs;console.group?((e=console).groupCollapsed.apply(e,B()(s)),(t=console).log.apply(t,B()(d)),(n=console).log.apply(n,B()(g)),(r=console).log.apply(r,B()(f)),(i=console).log.apply(i,B()(y)),console.groupEnd()):((o=console).log.apply(o,B()(s)),(a=console).log.apply(a,B()(d)),(u=console).log.apply(u,B()(g)),(c=console).log.apply(c,B()(f)),(l=console).log.apply(l,B()(y)))}())}function K(){if(M){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];N.msgs=N.msgs.concat([].concat(t,["\n"]))}}function G(e){M=e}function V(e,t){var n=F([],e,[]);return t&&(n._latestUnfiltered=null),n}function Q(e){return e.past.length+1}function X(e,t,n,r){K("inserting",t),K("new free: ",n-Q(e));var i=e.past,o=e._latestUnfiltered,a=n&&Q(e)>=n,u=i.slice(a?1:0);return F(null!=o?[].concat(B()(u),[o]):u,t,[],r)}function Z(e,t){if(t<0||t>=e.future.length)return e;var n=e.past,r=e.future,i=e._latestUnfiltered;return F([].concat(B()(n),[i],B()(r.slice(0,t))),r[t],r.slice(t+1))}function ee(e,t){if(t<0||t>=e.past.length)return e;var n=e.past,r=e.future,i=e._latestUnfiltered,o=n.slice(0,t),a=[].concat(B()(n.slice(t+1)),[i],B()(r));return F(o,n[t],a)}function te(e,t){return t>0?Z(e,t-1):t<0?ee(e,e.past.length+t):e}function ne(e,t){return t.indexOf(e)>-1?e:!e}function re(){var e=i()(["\n        mutation UpdateRevision($id: ID!, $data: PbUpdatePageInput!) {\n            pageBuilder {\n                updateRevision(id: $id, data: $data) {\n                    data {\n                        id\n                        content\n                        title\n                        published\n                        savedOn\n                    }\n                    error {\n                        code\n                        message\n                        data\n                    }\n                }\n            }\n        }\n    "]);return re=function(){return e},e}Object(A.a)(["Update element","Delete element","Element dropped","Setup editor","@@redux-undo/UNDO","@@redux-undo/REDO","@@redux-undo/INIT"],"page.content",(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};G(t.debug);var n={initTypes:R(t.initTypes,["@@redux-undo/INIT"]),limit:t.limit,filter:t.filter||function(){return!0},groupBy:t.groupBy||function(){return null},undoType:t.undoType||U,redoType:t.redoType||D,jumpToPastType:t.jumpToPastType||I,jumpToFutureType:t.jumpToFutureType||_,jumpType:t.jumpType||k,clearHistoryType:Array.isArray(t.clearHistoryType)?t.clearHistoryType:[t.clearHistoryType||H],neverSkipReducer:t.neverSkipReducer||!1,ignoreInitialState:t.ignoreInitialState||!1,syncFilter:t.syncFilter||!1},r=n.history;return function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length,a=new Array(o>2?o-2:0),u=2;u<o;u++)a[u-2]=arguments[u];Y(i,t);var l=t;if(!r)if(K("history is uninitialized"),void 0===t){var p={type:H},s=e.apply(void 0,[t,p].concat(a));l=V(s,n.ignoreInitialState),K("do not set initialState on probe actions")}else C(t)?(l=r=n.ignoreInitialState?t:F(t.past,t.present,t.future),K("initialHistory initialized: initialState is a history",r)):(l=r=V(t,n.ignoreInitialState),K("initialHistory initialized: initialState is not a history",r));var d,f=function(t){return n.neverSkipReducer?c()(c()({},t),{},{present:e.apply(void 0,[t.present,i].concat(a))}):t};switch(i.type){case void 0:return l;case n.undoType:return d=te(l,-1),K("perform undo"),q(d),f(d);case n.redoType:return d=te(l,1),K("perform redo"),q(d),f(d);case n.jumpToPastType:return d=ee(l,i.index),K("perform jumpToPast to ".concat(i.index)),q(d),f(d);case n.jumpToFutureType:return d=Z(l,i.index),K("perform jumpToFuture to ".concat(i.index)),q(d),f(d);case n.jumpType:return d=te(l,i.index),K("perform jump to ".concat(i.index)),q(d),f(d);case ne(i.type,n.clearHistoryType):return d=V(l.present,n.ignoreInitialState),K("perform clearHistory"),q(d),f(d);default:if(d=e.apply(void 0,[l.present,i].concat(a)),n.initTypes.some((function(e){return e===i.type})))return K("reset history due to init action"),q(r),l=r=V(t,n.ignoreInitialState),r;if(l._latestUnfiltered===d)return l;var g="function"===typeof n.filter&&!n.filter(i,d,l);if(g){var y=F(l.past,d,l.future,l.group);return n.syncFilter||(y._latestUnfiltered=l._latestUnfiltered),K("filter ignored action, not storing it in past"),q(y),y}var m=n.groupBy(i,d,l);if(null!=m&&m===l.group){var v=F(l.past,d,l.future,l.group);return K("groupBy grouped the action with the previous action"),q(v),v}return l=X(l,d,n.limit,m),K("inserted new state into history"),q(l),l}}}((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=n.statePath,i=n.reducer,o="page.content"!==r?r.replace("page.content.",""):null,a=o?E.a.get(e,o):e,u=i(a,t);return o?E.a.set(e,o,u):u}),{initTypes:["@@redux-undo/INIT"],ignoreInitialState:!0,filter:function(e){return!e.payload||!1!==e.payload.history}})})),Object(A.c)(["@@redux-undo/UNDO","@@redux-undo/REDO","@@redux-undo/INIT"],"page.content",(function(e){return e})),Object(A.c)(["Setup editor"],null,(function(e,t){return c()(c()({},e),t.payload)}));var ie=Object(A.e)("Toggle plugin");Object(A.c)(["Toggle plugin"],"ui.plugins",(function(e,t){var n=t.payload,r=n.name,i=n.params,o=n.closeOtherInGroup,a=void 0!==o&&o,u=Object(w.getPlugin)(r);if(!u)return e;var c=E.a.get(e,u.type);Array.isArray(c)||(c=[]);var l=c.findIndex((function(e){return e.name===u.name}));return l>-1?c=E.a.delete(c,l):a?c=[{name:r,params:i}]:c.push({name:r,params:i}),E.a.set(e,"".concat(u.type),c)}));var oe=Object(A.e)("Deactivate plugin");Object(A.c)(["Deactivate plugin"],"ui.plugins",(function(e,t){var n=t.payload.name,r=Object(w.getPlugin)(n);if(!r)return e;var i=E.a.get(e,r.type);Array.isArray(i)||(i=[]);var o=i.findIndex((function(e){return e.name===r.name}));return o>-1&&(i=E.a.delete(i,o)),E.a.set(e,"".concat(r.type),i)}));var ae=Object(A.e)("Highlight element",{log:!1});Object(A.c)(["Highlight element"],"ui.highlightElement",(function(e,t){return t.payload.element?t.payload.element:null}));var ue=Object(A.e)("Activate element");Object(A.c)(["Activate element"],"ui.activeElement",(function(e,t){return t.payload.element}));var ce=Object(A.e)("Deactivate element");Object(A.c)(["Deactivate element"],"ui.activeElement",(function(){return null}));var le=Object(A.e)("Drag start");Object(A.c)(["Drag start"],"ui.dragging",(function(){return!0}));var pe=Object(A.e)("Drag end");Object(A.c)(["Drag end"],"ui.dragging",(function(){return!1}));var se=Object(A.e)("Element created"),de=Object(A.e)("Update element");Object(A.c)(["Update element"],(function(e){return"document"===e.payload.element.type?"page.content":"page.content."+e.payload.element.path.replace(/\./g,".elements.").slice(2)}),(function(e,t){var n=t.payload,r=n.element,i=n.merge,o=void 0!==i&&i;return r.elements&&"string"===typeof r.elements[0]&&delete r.elements,Object(S.h)(r),o?p()({},e,r):c()(c()({},e),r)}));var fe=Object(A.e)("Delete element");Object(A.b)(["Delete element"],(function(e){var t=e.store,n=e.next,r=e.action;n(r),t.dispatch(ce());var i=t.getState(),o=r.payload.element,a=Object(P.k)(i,o.id);if(a){var u=a.elements.findIndex((function(e){return e.id===o.id}));a=E.a.delete(a,"elements."+u),t.dispatch(de({element:a}));var c=Object(w.getPlugins)("pb-editor-page-element").find((function(e){return e.elementType===a.type}));c&&"function"===typeof c.onChildDeleted&&c.onChildDeleted({element:a,child:o})}}));var ge=Object(A.e)("Element dropped");Object(A.b)(["Element dropped"],(function(e){var t=e.store,n=e.next,r=e.action;n(r);var i=t.getState(),o=Object(P.h)(i,r.payload.target.id);if(o){var a=Object(w.getPlugins)("pb-editor-page-element").find((function(e){return e.elementType===o.type}));if(a){O()(a.onReceived,"To accept drops, element plugin must implement `onReceived` function");var u=r.payload.source;u.path&&(u=Object(P.h)(i,u.id)),a&&a.onReceived({source:u,target:o,position:r.payload.target.position})}}}));var ye=Object(A.e)("Update revision");Object(A.b)(["Update revision"],(function(e){var t=e.store,n=e.next,r=e.action;if(n(r),!1!==r.payload.history){var i=r.meta.onFinish;t.dispatch(ve(null,{onFinish:i}))}})),Object(A.c)(["Update revision"],"page",(function(e,t){return c()(c()({},e),t.payload)}));Object(A.c)(["Flatten elements"],"elements",(function(e,t){return t.payload})),Object(A.b)(["Update element","Delete element","@@redux-undo/UNDO","@@redux-undo/REDO","@@redux-undo/INIT"],(function(e){var t=e.store,n=(0,e.next)(e.action),r=t.getState();if(r.page.content){var i=E.a.get(r,"page.content.present")||null;if(!i)return n;var o=function e(t){var n={};return t.elements=Array.isArray(t.elements)&&t.elements.map((function(t){return n=c()(c()({},n),e(t)),t.id})),n[t.id]=t,n}(d()(i));t.dispatch({type:"Flatten elements",payload:o,meta:{log:!0}})}return n}));var me=null,ve=Object(A.e)("Save revision"),be=null;Object(A.b)(["Update revision","Update element","Delete element","@@redux-undo/UNDO","@@redux-undo/REDO"],(function(e){var t=e.store,n=e.next,r=e.action;n(r);var i=(r.meta||{}).onFinish;"Update element"===r.type&&!1===r.payload.history||(Object(P.j)(t.getState()).locked||(be&&be.cancel(),(be=g()((function(){return t.dispatch(ve(null,{onFinish:i}))}),1e3))()))}));var he={type:"Started saving",payload:{progress:!0}},Oe={type:"Finished saving",payload:{progress:!1}};Object(A.c)(["Started saving","Finished saving"],"ui.saving",(function(e,t){return t.payload.progress})),Object(A.b)(["Save revision"],(function(e){var t=e.store,n=e.next,r=e.action;n(r);var i=Object(P.j)(t.getState());if(!i.locked){var o=m()(i,["title","snippet","url","settings"]);if(o.content=i.content.present,o.category=i.category.id,function(e){if(!me)return!0;var t=e.content,n=a()(e,["content"]),r=me,i=r.content,o=a()(r,["content"]);return!b()(t,i)||!b()(n,o)}(o)){me=o;var u=x()(re());t.dispatch(he),r.meta.client.mutate({mutation:u,variables:{id:i.id,data:o}}).then((function(e){return t.dispatch(Oe),r.meta.onFinish&&r.meta.onFinish(),e})).catch((function(e){t.dispatch(Oe),console.log(e)}))}}})),n.d(t,"b",(function(){return"Element created"})),n.d(t,"c",(function(){return"Element dropped"})),n.d(t,"a",(function(){return"Deactivate element"})),n.d(t,"d",(function(){return"Setup editor"})),n.d(t,"n",(function(){return ie})),n.d(t,"g",(function(){return oe})),n.d(t,"m",(function(){return ae})),n.d(t,"e",(function(){return ue})),n.d(t,"f",(function(){return ce})),n.d(t,"j",(function(){return le})),n.d(t,"i",(function(){return pe})),n.d(t,"l",(function(){return se})),n.d(t,"o",(function(){return de})),n.d(t,"h",(function(){return fe})),n.d(t,"k",(function(){return ge})),n.d(t,"p",(function(){return ye}))},1391:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(16),i=n.n(r),o=n(0),a=n.n(o),u=n(305),c=n.n(u),l=n(110),p=n.n(l),s={},d=!1,f=["TEXTAREA","INPUT"],g=function(e,t,n){!d&&document.body&&(document.body.addEventListener("keydown",(function(e){if(!e.srcElement.dataset.slateEditor&&!f.includes(e.srcElement.nodeName)){var t=Object.keys(s).find((function(t){return p()(t,e)}));t&&s[t].length>0&&(s[t][0].handler(e),e.stopPropagation())}})),d=!0),s[t]=s[t]||[],s[t].find((function(t){return t.id===e}))||s[t].unshift({id:e,handler:n})};function y(){var e=a.a.useState(c.a.generate()),t=i()(e,1)[0];return a.a.useMemo((function(){return{addKeyHandler:function(e,n){g(t,e,n)},removeKeyHandler:function(e){!function(e,t){if(s[t]){var n=s[t].findIndex((function(t){return t.id===e}));n>=0&&s[t].splice(n,1)}}(t,e)}}}),[])}},1394:function(e,t,n){"use strict";n.d(t,"h",(function(){return v})),n.d(t,"a",(function(){return b})),n.d(t,"f",(function(){return h})),n.d(t,"c",(function(){return O})),n.d(t,"g",(function(){return j})),n.d(t,"e",(function(){return E})),n.d(t,"d",(function(){return T})),n.d(t,"b",(function(){return x}));var r=n(4),i=n.n(r),o=n(28),a=n.n(o),u=n(299),c=n.n(u),l=n(237),p=n.n(l),s=n(305),d=n.n(s),f=n(77),g=n.n(f),y=n(84),m=n(25),v=function e(t){t.id||(t.id=d.a.generate()),t.path||(t.path="0"),Array.isArray(t.elements)&&p()(t.elements[0])&&t.elements.forEach((function(n,r){n.id||(n.id=d.a.generate()),n.path=t.path+"."+r,n.elements.length&&e(n)}))},b=function(e,t,n){var r;return r=null===n?Object(y.set)(t,"elements",[].concat(a()(t.elements),[e])):Object(y.set)(t,"elements",[].concat(a()(t.elements.slice(0,n)),[e],a()(t.elements.slice(n)))),v(r),r},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=Object(m.getPlugins)("pb-editor-page-element").find((function(t){return t.elementType===e}));return g()(r,'Missing element plugin for type "'.concat(e,'"!')),i()({id:d.a.generate(),data:{},elements:[],path:"",type:e},r.create(t,n))},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return h("block",e,t)},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return h("row",e,t)},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return h("column",e,t)},T=function(e){var t=Object(m.getPlugin)(e);return g()(t,'Missing block plugin "'.concat(e,'"!')),i()({id:d.a.generate(),data:{},elements:[],path:""},t.create())},x=function e(t){var n=c()(t,["id","path"]);return n.elements=n.elements.map((function(t){return e(t)})),n}},1395:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(652);function o(){return Object(r.useContext)(i.a)}},1409:function(e,t,n){"use strict";var r=n(4),i=n.n(r),o=n(0),a=n(691),u=n(145),c=n.n(u),l=n(471),p=n(122),s=n(25),d=n(72),f=n(1387),g=n(297),y=n(1448),m=n(7),v=n.n(m),b=n(15),h=n(8),O=Object(h.a)({position:"relative",cursor:"pointer",".element-holder":{position:"absolute",cursor:"pointer",display:"flex",top:0,boxSizing:"border-box",right:0,fontSize:10,padding:0,color:"#fff",zIndex:30,width:"auto","> span":{borderRadius:2,display:"flex",padding:"4px 10px","> svg":{height:13,width:13,marginRight:5}},"> svg":{borderRadius:2,height:13,padding:4,marginRight:5,"&.help-icon":{cursor:"pointer"}}}},"label:typeStyle;"),j=o.memo(Object(b.a)("div",{target:"e1vc2ai50",label:"ElementContainer"})((function(e){var t,n=e.highlight,r=e.active,i=r?"var(--mdc-theme-primary)":"var(--mdc-theme-secondary)";return{position:"relative",flex:"100%",padding:0,opacity:1,borderRadius:2,boxSizing:"border-box",zIndex:10,transition:"all 0.6s cubic-bezier(0.165, 0.84, 0.44, 1)","&::after":{content:"''",position:"absolute",zIndex:0,top:0,left:0,width:"calc(100% + 2px)",height:"calc(100% + 2px)",pointerEvents:"none",margin:n?"-2px 0 -2px -2px":0,boxShadow:n?"inset 0px 0px 0px 2px "+i:"none",transition:"all 0.3s cubic-bezier(0.165, 0.84, 0.44, 1)",opacity:n?1:0},"&::after:hover":{opacity:1},"&:hover":{"> .innerWrapper > .type":{display:n?"block":"none"}},"> .innerWrapper":{width:"100%",height:"100%",boxSizing:"border-box"},"> .innerWrapper > .type":(t={display:n?"block":"none",width:r?"100px":"100%",height:r?"18px":"100%"},v()(t,r?"right":"left",0),v()(t,"position","absolute"),v()(t,"top",-18),v()(t,"zIndex",10),v()(t,"transition","background-color 0.2s"),v()(t,".background",{pointerEvents:n?"auto":"none",display:r?"none":"block",position:"absolute",backgroundColor:r?"rgba(250, 87, 35, 1)":"rgba(0, 204, 176, 0.1)",width:"100%",height:"100%",cursor:"pointer",top:17,left:0,transition:"background-color 0.2s"}),v()(t,".element-holder",{"> span, > svg":{backgroundColor:i}}),t)}}))),E={opacity:0,transform:"scale(0.5)",transitionProperty:"opacity, transform",transitionTimingFunction:"cubic-bezier(0, 0, .2, 1)",transitionDuration:"175ms",transitionDelay:"50ms",willChange:"opacity, transform"},T={entering:{opacity:0,transform:"scale(0.5)"},entered:{opacity:1,transform:"scale(1)"}},x=n(638),A=function(e){var t=e.dragEnd,n=e.element,r=e.highlight,u=e.active,c=e.className,l=void 0===c?"":c,f=function(e){return e?Object(s.getPlugins)("pb-editor-page-element").find((function(t){return t.elementType===e.type})):null}(n),g=Object(p.a)(e,(function(e){var t=e.dragStart,n=e.element;return function(){var e={id:n.id,type:n.type,path:n.path};return setTimeout((function(){t({element:e})})),i()(i()({},e),{},{target:f.target})}})),m=o.useCallback((function(e,n){t({element:n.getItem()})}),[t]),v=Object(p.a)(e,(function(e){var t=e.element,n=e.active,r=e.activateElement;return function(){"document"!==t.type&&(n||r({element:t.id}))}})),b=Object(p.a)(e,(function(e){var t=e.element,n=e.highlight,r=e.highlightElement;return function(e){"document"!==t.type&&(e.stopPropagation(),n||r({element:t.id}))}})),h=Object(p.a)(e,(function(e){var t=e.element;return function(e){var n=e.drag;return o.createElement("div",{ref:n,className:"type "+O},o.createElement("div",{className:"background",onClick:v}),o.createElement("div",{className:"element-holder",onClick:v},Object(d.d)("pb-editor-page-element-action",{element:t,plugin:f}),o.createElement("span",null,f.elementType)))}}));if(!f)return null;var A=Object(x.a)((function(){return f.render({element:n})}));return o.createElement(a.a,{in:!0,timeout:250,appear:!0},(function(e){return o.createElement(j,{id:n.id,onMouseOver:b,highlight:r,active:u,style:i()(i()({},E),T[e]),className:"webiny-pb-page-element-container"},o.createElement("div",{className:["innerWrapper",l].filter((function(e){return e})).join(" ")},o.createElement(y.a,{target:f.target,beginDrag:g,endDrag:m},h),A))}))};t.a=Object(l.d)((function(e,t){return i()(i()({},Object(g.g)(e,t)),{},{element:Object(g.f)(e,t.id)})}),{dragStart:f.j,dragEnd:f.i,activateElement:f.e,highlightElement:f.m},null,{areStatePropsEqual:c.a})(o.memo(A))},1424:function(e,t,n){"use strict";var r=n(4),i=n.n(r),o=n(0),a=n.n(o),u=n(57),c=n.n(u),l=n(25),p=n(653);t.a=function(e){Object(l.registerPlugins)({id:e.id,name:"pb-saved-block-"+e.id,type:"pb-editor-block",title:e.name,category:e.category,tags:["saved"],image:e.preview,create:function(){return c()(i()(i()({},e.content),{},{source:e.id}))},preview:function(){return a.a.createElement(p.a,{src:e.preview.src,alt:e.name,style:{width:"100%",height:"auto"}})}})}},1445:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ActionTypes",{enumerable:!0,get:function(){return i.ActionTypes}}),Object.defineProperty(t,"ActionCreators",{enumerable:!0,get:function(){return i.ActionCreators}}),Object.defineProperty(t,"parseActions",{enumerable:!0,get:function(){return o.parseActions}}),Object.defineProperty(t,"isHistory",{enumerable:!0,get:function(){return o.isHistory}}),Object.defineProperty(t,"includeAction",{enumerable:!0,get:function(){return o.includeAction}}),Object.defineProperty(t,"excludeAction",{enumerable:!0,get:function(){return o.excludeAction}}),Object.defineProperty(t,"combineFilters",{enumerable:!0,get:function(){return o.combineFilters}}),Object.defineProperty(t,"groupByActionTypes",{enumerable:!0,get:function(){return o.groupByActionTypes}}),Object.defineProperty(t,"newHistory",{enumerable:!0,get:function(){return o.newHistory}}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.default}});var r,i=n(1446),o=n(1447),a=(r=n(1513))&&r.__esModule?r:{default:r}},1446:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionCreators=t.ActionTypes=void 0;var r={UNDO:"@@redux-undo/UNDO",REDO:"@@redux-undo/REDO",JUMP_TO_FUTURE:"@@redux-undo/JUMP_TO_FUTURE",JUMP_TO_PAST:"@@redux-undo/JUMP_TO_PAST",JUMP:"@@redux-undo/JUMP",CLEAR_HISTORY:"@@redux-undo/CLEAR_HISTORY"};t.ActionTypes=r;var i={undo:function(){return{type:r.UNDO}},redo:function(){return{type:r.REDO}},jumpToFuture:function(e){return{type:r.JUMP_TO_FUTURE,index:e}},jumpToPast:function(e){return{type:r.JUMP_TO_PAST,index:e}},jump:function(e){return{type:r.JUMP,index:e}},clearHistory:function(){return{type:r.CLEAR_HISTORY}}};t.ActionCreators=i},1447:function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(e)?e:"string"===typeof e?[e]:t}Object.defineProperty(t,"__esModule",{value:!0}),t.parseActions=r,t.isHistory=function(e){return"undefined"!==typeof e.present&&"undefined"!==typeof e.future&&"undefined"!==typeof e.past&&Array.isArray(e.future)&&Array.isArray(e.past)},t.includeAction=function(e){var t=r(e);return function(e){return t.indexOf(e.type)>=0}},t.excludeAction=function(e){var t=r(e);return function(e){return t.indexOf(e.type)<0}},t.combineFilters=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return function(n,r,i){return e(n,r,i)&&t(n,r,i)}}),(function(){return!0}))},t.groupByActionTypes=function(e){var t=r(e);return function(e){return t.indexOf(e.type)>=0?e.type:null}},t.newHistory=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{past:e,present:t,future:n,group:r,_latestUnfiltered:t,index:e.length,limit:e.length+n.length+1}}},1448:function(e,t,n){"use strict";var r=n(4),i=n.n(r),o=n(16),a=n.n(o),u=n(0),c=n.n(u),l=n(1466),p=n(1439),s=c.a.memo((function(e){var t=e.children,n=e.beginDrag,r=e.endDrag,o=e.target,u=Object(l.a)({item:{type:"element",target:o},collect:function(e){return{isDragging:e.isDragging()}},begin:function(t){return"function"===typeof n?n(e,t):i()({},e)},end:function(e,t){if("function"===typeof r)return r(e,t)}}),s=a()(u,3),d=s[0].isDragging,f=s[1],g=s[2];return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,{connect:g,src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}),t({isDragging:d,drag:f}))}));t.a=s},1465:function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(57),a=n.n(o),u=n(25),c=n(5),l=n.n(c),p=n(12),s=n.n(p),d=n(16),f=n.n(d),g=n(378),y=n(15),m=n(475),v=n(21),b=n(10),h=n(41);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var j=i.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),E=i.a.createElement("path",{d:"M18.3 5.71a.996.996 0 00-1.41 0L12 10.59 7.11 5.7A.996.996 0 105.7 7.11L10.59 12 5.7 16.89a.996.996 0 101.41 1.41L12 13.41l4.89 4.89a.996.996 0 101.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"}),T=function(e){return i.a.createElement("svg",O({width:24,height:24,viewBox:"0 0 24 24"},e),j,E)};n.p;function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var A=i.a.createElement("path",{fill:"currentColor",d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 000-1.41l-2.34-2.34a.996.996 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),w=i.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),P=function(e){return i.a.createElement("svg",x({width:24,height:24,viewBox:"0 0 24 24"},e),A,w)},S=(n.p,n(1)),U=n.n(S),D=n(14),_=n.n(D);function I(){var e=U()(["\n    mutation updateElement($id: ID!, $data: PbUpdateElementInput!) {\n        pageBuilder {\n            updateElement(id: $id, data: $data) {\n                data {\n                    id\n                    name\n                    type\n                    category\n                    content\n                    preview {\n                        src\n                    }\n                }\n                error {\n                    message\n                }\n            }\n        }\n    }\n"]);return I=function(){return e},e}function k(){var e=U()(["\n    mutation DeleteElement($id: ID!) {\n        pageBuilder {\n            deleteElement(id: $id) {\n                data\n                error {\n                    code\n                    message\n                }\n            }\n        }\n    }\n"]);return k=function(){return e},e}var H=_()(k()),R=_()(I()),C=n(8),F=n(40),M=n(17),N=n(3),z=n(39),B=n(20),J=Object(C.a)({".mdc-dialog__surface":{width:600,minWidth:600}},"label:narrowDialog;"),L=Object(y.a)("div",{target:"ed1qryb0",label:"PreviewBox"})({width:500,minHeight:250,border:"1px solid var(--mdc-theme-on-background)",backgroundColor:"#fff",display:"flex",justifyContent:"center",alignItems:"center",img:{maxHeight:500,maxWidth:500}}),W=i.a.memo((function(e){var t=e.open,n=e.onClose,r=e.onSubmit,o=e.plugin,a=Object(u.getPlugin)(o);return i.a.createElement(F.a,{open:t,onClose:n,className:J},a&&i.a.createElement(z.a,{onSubmit:r,data:a},(function(e){var t=e.submit,n=e.Bind;return i.a.createElement(i.a.Fragment,null,i.a.createElement(F.g,null,"Update ",a.title),i.a.createElement(F.f,null,i.a.createElement(N.b,null,i.a.createElement(N.a,{span:12},i.a.createElement(n,{name:"title",validators:B.validation.create("required")},i.a.createElement(M.a,{label:"Name",autoFocus:!0})))),i.a.createElement(N.b,null,i.a.createElement(N.a,{span:12},i.a.createElement(L,null,a.toolbar.preview())))),i.a.createElement(F.c,null,i.a.createElement(F.e,null,"Cancel"),i.a.createElement(F.d,{onClick:t},"Save")))})))}),(function(e,t){return e.open===t.open}));W.displayName="EditElementDialog";var $=W,Y=n(79),q=Object(y.a)("div",{target:"efssgx80",label:"EditIconWrapper"})({position:"absolute",top:0,right:48}),K=Object(y.a)("div",{target:"efssgx81",label:"DeleteIconWrapper"})({position:"absolute",top:0,right:16}),G=function(e){var t=e.plugin,n=e.title,o=Object(g.a)(),a=Object(r.useState)(!1),c=f()(a,2),p=c[0],d=c[1],y=Object(h.a)().showSnackbar,O=Object(r.useCallback)((function(){return d(!0)}),[]),j=Object(r.useCallback)((function(){return d(!1)}),[]),E=Object(m.a)(e,{onSubmit:function(e){var t=e.id,n=e.refresh;return function(){var e=s()(l.a.mark((function e(r){var i,a,u,c,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.title,e.next=3,o.mutate({mutation:R,variables:{id:t,data:{name:i}}});case 3:if(a=e.sent,u=a.data.pageBuilder.updateElement,c=u.error,p=u.data,!c){e.next=9;break}return j(),setTimeout((function(){y(c.message)}),300),e.abrupt("return");case 9:V(p),j(),n(),setTimeout((function(){y("Element "+r.title+" successfully saved.")}),300);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}).onSubmit;return i.a.createElement(Y.a,{title:"Delete saved element",message:i.a.createElement("p",null,"Are you sure you want to permanently delete the ",i.a.createElement("strong",null,n)," ","element?")},(function(r){var a=r.showConfirmation;return i.a.createElement(v.a,{use:"overline"},n,i.a.createElement(i.a.Fragment,null,i.a.createElement(q,null,i.a.createElement(b.g,{icon:i.a.createElement(P,null),onClick:O}))," ",i.a.createElement($,{onSubmit:E,plugin:t,open:!!p,onClose:j})),i.a.createElement(K,null,i.a.createElement(b.g,{icon:i.a.createElement(T,null),onClick:function(){return a(s()(l.a.mark((function t(){var r,a,c,p,s,d;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.plugin,a=e.refresh,c=e.id,t.next=3,o.mutate({mutation:H,variables:{id:c}});case 3:if(p=t.sent,s=p.data,!(d=s.pageBuilder.deleteElement.error)){t.next=8;break}return t.abrupt("return",y(d.message));case 8:Object(u.unregisterPlugin)(r),a(),y(i.a.createElement("span",null,"Element ",i.a.createElement("strong",null,n)," deleted!"));case 11:case"end":return t.stop()}}),t)}))))}})))}))},V=t.a=function(e){var t=Object(u.getPlugins)("pb-editor-page-element").find((function(t){return t.elementType===e.content.type}));if(t){var n="saved-element-"+e.id;Object(u.registerPlugins)({name:n,title:e.name,type:"pb-editor-page-element",elementType:n,target:t.target,toolbar:{title:function(t){var r=t.refresh;return i.a.createElement(G,{plugin:n,title:e.name,id:e.id,refresh:r})},group:"pb-editor-element-group-saved",preview:function(){return i.a.createElement("img",{src:e.preview.src,alt:e.name,style:{width:227,height:"auto",backgroundColor:"#fff"}})}},onCreate:"skip",settings:t?t.settings:[],create:function(){return a()(e.content)}})}}},1513:function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i.set(t.debug);var n,r=l({limit:void 0,filter:function(){return!0},groupBy:function(){return null},undoType:o.ActionTypes.UNDO,redoType:o.ActionTypes.REDO,jumpToPastType:o.ActionTypes.JUMP_TO_PAST,jumpToFutureType:o.ActionTypes.JUMP_TO_FUTURE,jumpType:o.ActionTypes.JUMP,neverSkipReducer:!1,ignoreInitialState:!1,syncFilter:!1},t,{initTypes:(0,a.parseActions)(t.initTypes,["@@redux-undo/INIT"]),clearHistoryType:(0,a.parseActions)(t.clearHistoryType,[o.ActionTypes.CLEAR_HISTORY])}),u=r.neverSkipReducer?function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return l({},t,{present:e.apply(void 0,[t.present,n].concat(i))})}:function(e){return e};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i.start(o,t);for(var c,l=t,p=arguments.length,s=new Array(p>2?p-2:0),b=2;b<p;b++)s[b-2]=arguments[b];if(!n){if(i.log("history is uninitialized"),void 0===t){var h={type:"@@redux-undo/CREATE_HISTORY"},O=e.apply(void 0,[t,h].concat(s));return l=d(O,r.ignoreInitialState),i.log("do not set initialState on probe actions"),i.end(l),l}(0,a.isHistory)(t)?(l=n=r.ignoreInitialState?t:(0,a.newHistory)(t.past,t.present,t.future),i.log("initialHistory initialized: initialState is a history",n)):(l=n=d(t,r.ignoreInitialState),i.log("initialHistory initialized: initialState is not a history",n))}switch(o.type){case void 0:return l;case r.undoType:return c=m(l,-1),i.log("perform undo"),i.end(c),u.apply(void 0,[c,o].concat(s));case r.redoType:return c=m(l,1),i.log("perform redo"),i.end(c),u.apply(void 0,[c,o].concat(s));case r.jumpToPastType:return c=y(l,o.index),i.log("perform jumpToPast to ".concat(o.index)),i.end(c),u.apply(void 0,[c,o].concat(s));case r.jumpToFutureType:return c=g(l,o.index),i.log("perform jumpToFuture to ".concat(o.index)),i.end(c),u.apply(void 0,[c,o].concat(s));case r.jumpType:return c=m(l,o.index),i.log("perform jump to ".concat(o.index)),i.end(c),u.apply(void 0,[c,o].concat(s));case v(o.type,r.clearHistoryType):return c=d(l.present,r.ignoreInitialState),i.log("perform clearHistory"),i.end(c),u.apply(void 0,[c,o].concat(s));default:if(c=e.apply(void 0,[l.present,o].concat(s)),r.initTypes.some((function(e){return e===o.type})))return i.log("reset history due to init action"),i.end(n),n;if(l._latestUnfiltered===c)return l;var j="function"===typeof r.filter&&!r.filter(o,c,l);if(j){var E=(0,a.newHistory)(l.past,c,l.future,l.group);return r.syncFilter||(E._latestUnfiltered=l._latestUnfiltered),i.log("filter ignored action, not storing it in past"),i.end(E),E}var T=r.groupBy(o,c,l);if(null!=T&&T===l.group){var x=(0,a.newHistory)(l.past,c,l.future,l.group);return i.log("groupBy grouped the action with the previous action"),i.end(x),x}return l=f(l,c,r.limit,T),i.log("inserted new state into history"),i.end(l),l}}};var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(1514)),o=n(1446),a=n(1447);function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e,t){var n=(0,a.newHistory)([],e,[]);return t&&(n._latestUnfiltered=null),n}function f(e,t,n,r){var o=e.past.length+1;i.log("inserting",t),i.log("new free: ",n-o);var u=e.past,c=e._latestUnfiltered,l=n&&n<=o,p=u.slice(l?1:0),d=null!=c?[].concat(s(p),[c]):p;return(0,a.newHistory)(d,t,[],r)}function g(e,t){if(t<0||t>=e.future.length)return e;var n=e.past,r=e.future,i=e._latestUnfiltered,o=[].concat(s(n),[i],s(r.slice(0,t))),u=r[t],c=r.slice(t+1);return(0,a.newHistory)(o,u,c)}function y(e,t){if(t<0||t>=e.past.length)return e;var n=e.past,r=e.future,i=e._latestUnfiltered,o=n.slice(0,t),u=[].concat(s(n.slice(t+1)),[i],s(r)),c=n[t];return(0,a.newHistory)(o,c,u)}function m(e,t){return t>0?g(e,t-1):t<0?y(e,e.past.length+t):e}function v(e,t){return t.indexOf(e)>-1?e:!e}},1514:function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.set=function(e){i=e},t.start=function(e,t){void(o={header:[],prev:[],action:[],next:[],msgs:[]}),i&&(console.group?(o.header=["%credux-undo","font-style: italic","action",e.type],o.action=l("action",u,e),o.prev=l("prev history",a,t)):(o.header=["redux-undo action",e.type],o.action=["action",e],o.prev=["prev history",t]))},t.end=function(e){i&&(console.group?o.next=l("next history",c,e):o.next=["next history",e],function(){var e=o,t=e.header,n=e.prev,i=e.next,a=e.action,u=e.msgs;if(console.group){var c,l,p,s,d;(c=console).groupCollapsed.apply(c,r(t)),(l=console).log.apply(l,r(n)),(p=console).log.apply(p,r(a)),(s=console).log.apply(s,r(i)),(d=console).log.apply(d,r(u)),console.groupEnd()}else{var f,g,y,m,v;(f=console).log.apply(f,r(t)),(g=console).log.apply(g,r(n)),(y=console).log.apply(y,r(a)),(m=console).log.apply(m,r(i)),(v=console).log.apply(v,r(u))}}())},t.log=function(){if(i){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o.msgs=o.msgs.concat([].concat(t,["\n"]))}};var a="#9E9E9E",u="#03A9F4",c="#4CAF50";function l(e,t,n){return["%c".concat(e),"color: ".concat(t,"; font-weight: bold"),n]}}}]);