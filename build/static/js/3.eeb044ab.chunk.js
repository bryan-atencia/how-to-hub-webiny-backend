/*! For license information please see 3.eeb044ab.chunk.js.LICENSE */
(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[3],{1403:function(e,t,n){"use strict";var r=n(1517),o=n.n(r),i=n(1410),a=function(e,t){0},s=n(141),u=n(1519),c=n.n(u),l=n(111),f=n.n(l),d=n(616),h=n(299),v=n.n(h),p=n(1521),y=n.n(p);n.d(t,"a",(function(){return G})),n.d(t,"b",(function(){return Ae})),n.d(t,"c",(function(){return C})),n.d(t,"d",(function(){return B})),n.d(t,"e",(function(){return bt})),n.d(t,"f",(function(){return P})),n.d(t,"g",(function(){return R})),n.d(t,"h",(function(){return D})),n.d(t,"i",(function(){return $})),n.d(t,"j",(function(){return ae})),n.d(t,"k",(function(){return ve})),n.d(t,"l",(function(){return ye})),n.d(t,"m",(function(){return H})),n.d(t,"n",(function(){return ge}));var m=void 0,g=void 0;function k(){m=0,g=function(){return""+m++}}k();var _={create:function(e){if(null==e)return g();if("string"===typeof e)return e;throw new Error("Keys must be strings, but you passed: "+e)},setGenerator:function(e){g=e},resetGenerator:k},b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},x=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},S=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},T=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},E=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},N=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},C=function(){function e(){w(this,e)}return x(e,null,[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(i.Map.isMap(t))return t;if(o()(t))return e.fromJSON(t);throw new Error("`Data.create` only accepts objects or maps, but you passed it: "+t)}},{key:"fromJSON",value:function(e){return new i.Map(e)}}]),e}();C.fromJS=C.fromJSON;var F={data:void 0,key:void 0,nodes:void 0},B=function(e){function t(){return w(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,e),x(t,[{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,data:this.data.toJSON(),nodes:this.nodes.toArray().map((function(t){return t.toJSON(e)}))};return e.preserveKeys&&(t.key=this.key),t}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isDocument(e))return e;if((i.List.isList(e)||Array.isArray(e))&&(e={nodes:e}),o()(e))return t.fromJSON(e);throw new Error("`Document.create` only accepts objects, arrays, lists or documents, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(t.isDocument(e))return e;var n=e.data,r=void 0===n?{}:n,o=e.key,a=void 0===o?_.create():o,s=e.nodes,u=void 0===s?[]:s;return new t({key:a,data:new i.Map(r),nodes:$.createList(u)})}}]),t}(Object(i.Record)(F)),j={data:void 0,key:void 0,nodes:void 0,type:void 0},P=function(e){function t(){return w(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,e),x(t,[{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,type:this.type,data:this.data.toJSON(),nodes:this.nodes.toArray().map((function(t){return t.toJSON(e)}))};return e.preserveKeys&&(t.key=this.key),t}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isInline(e))return e;if("string"==typeof e&&(e={type:e}),o()(e))return t.fromJSON(e);throw new Error("`Inline.create` only accepts objects, strings or inlines, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(i.List.isList(e)||Array.isArray(e)){var n=new i.List(e.map(t.create));return n}throw new Error("`Inline.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(t.isInline(e))return e;var n=e.data,r=void 0===n?{}:n,o=e.key,a=void 0===o?_.create():o,s=e.nodes,u=void 0===s?[]:s,c=e.type;if("string"!=typeof c)throw new Error("`Inline.fromJS` requires a `type` string.");return new t({key:a,type:c,data:new i.Map(r),nodes:$.createList(u)})}},{key:"isInlineList",value:function(e){return i.List.isList(e)&&e.every((function(e){return t.isInline(e)}))}}]),t}(Object(i.Record)(j)),I={data:void 0,type:void 0},D=function(e){function t(){return w(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,e),x(t,[{key:"toJSON",value:function(){return{object:this.object,type:this.type,data:this.data.toJSON()}}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isMark(e))return e;if("string"==typeof e&&(e={type:e}),o()(e))return t.fromJSON(e);throw new Error("`Mark.create` only accepts objects, strings or marks, but you passed it: "+e)}},{key:"createSet",value:function(e){if(i.Set.isSet(e)||Array.isArray(e))return new i.Set(e.map(t.create));if(null==e)return Object(i.Set)();throw new Error("`Mark.createSet` only accepts sets, arrays or null, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isMark(e))return{data:e.data,type:e.type};if("string"==typeof e)return{type:e};if(o()(e)){var n={};return"type"in e&&(n.type=e.type),"data"in e&&(n.data=C.create(e.data)),n}throw new Error("`Mark.createProperties` only accepts objects, strings or marks, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.data,r=void 0===n?{}:n,o=e.type;if("string"!=typeof o)throw new Error("`Mark.fromJS` requires a `type` string.");return new t({type:o,data:new i.Map(r)})}},{key:"isMarkSet",value:function(e){return i.Set.isSet(e)&&e.every((function(e){return t.isMark(e)}))}}]),t}(Object(i.Record)(I)),z={marks:void 0,text:void 0},R=function(e){function t(){return w(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,e),x(t,[{key:"updateMark",value:function(e,t){var n=this.marks;if(t.equals(e))return this;if(!n.has(e))return this;var r=n.withMutations((function(n){n.remove(e).add(t)}));return this.set("marks",r)}},{key:"addMark",value:function(e){var t=this.marks;return this.set("marks",t.add(e))}},{key:"addMarks",value:function(e){var t=this.marks;return this.set("marks",t.union(e))}},{key:"insertText",value:function(e,t){var n=this.text,r=n.slice(0,e)+t+n.slice(e);return this.set("text",r)}},{key:"removeMark",value:function(e){var t=this.marks;return this.set("marks",t.remove(e))}},{key:"toJSON",value:function(){return{object:this.object,text:this.text,marks:this.marks.toArray().map((function(e){return e.toJSON()}))}}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isLeaf(e))return e;if("string"==typeof e&&(e={text:e}),o()(e))return t.fromJSON(e);throw new Error("`Leaf.create` only accepts objects, strings or leaves, but you passed it: "+e)}},{key:"createLeaves",value:function(e){if(e.size<=1)return e;var t=!1,n=Object(i.List)().withMutations((function(n){e.findLast((function(e,r){var o=n.first();if(o){if(o.marks.equals(e.marks))return t=!0,void n.set(0,o.set("text",""+e.text+o.text));if(""===o.text)return t=!0,void n.set(0,e);if(""===e.text)return void(t=!0)}n.unshift(e)}))}));return t?n:e}},{key:"splitLeaves",value:function(e,t){if(t<0)return[Object(i.List)(),e];if(0===e.size)return[Object(i.List)(),Object(i.List)()];var n=0,r=-1,o=void 0,a=void 0;return e.find((function(e){r++;var i=n,s=e.text;if((n+=s.length)<t)return!1;if(i>t)return!1;var u=t-i;return o=e.set("text",s.slice(0,u)),a=e.set("text",s.slice(u)),!0})),o?""===o.text?0===r?[i.List.of(o),e]:[e.take(r),e.skip(r)]:""===a.text?r===e.size-1?[e,i.List.of(a)]:[e.take(r+1),e.skip(r+1)]:[e.take(r).push(o),e.skip(r+1).unshift(a)]:[e,Object(i.List)()]}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(i.List.isList(e)||Array.isArray(e)){var n=new i.List(e.map(t.create));return n}throw new Error("`Leaf.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.text,r=void 0===n?"":n,o=e.marks,a=void 0===o?[]:o;return new t({text:r,marks:Object(i.Set)(a.map(D.fromJSON))})}},{key:"isLeafList",value:function(e){return i.List.isList(e)&&e.every((function(e){return t.isLeaf(e)}))}}]),t}(Object(i.Record)(z)),L=!0,M=0,q={},K={};function U(e,t){var n=function(t){var n=e[t];if(!n)throw new Error('Object does not have a property named "'+t+'".');e[t]=function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];if(!L)return n.apply(this,r);M!==this.__cache_key&&(this.__cache_key=M,this.__cache=new Map,this.__cache_no_args={}),this.__cache||(this.__cache=new Map),this.__cache_no_args||(this.__cache_no_args={});var i=0!==r.length,a=void 0,s=void 0;if(i?(s=[t].concat(r),a=J(this.__cache,s)):a=this.__cache_no_args[t],void 0!==a)return a===K?void 0:a;var u=n.apply(this,r),c=void 0===u?K:u;return i?this.__cache=V(this.__cache,s,c):this.__cache_no_args[t]=c,u}},r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){n(a.value)}}catch(u){o=!0,i=u}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}}function J(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;if(void 0===(e=e.get(s)))return}}catch(u){r=!0,o=u}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return e.get(q)}function V(e,t,n){var r=e,o=void 0,i=!0,a=!1,s=void 0;try{for(var u,c=t[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value;void 0===(o=r.get(l))&&(o=new Map,r.set(l,o)),r=o}}catch(f){a=!0,s=f}finally{try{!i&&c.return&&c.return()}finally{if(a)throw s}}return o.set(q,n),e}var W={leaves:void 0,key:void 0},H=function(e){function t(){return w(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,e),x(t,[{key:"searchLeafAtOffset",value:function(e){var t=0,n=0,r=-1;return{leaf:this.leaves.find((function(o){return r++,(t=(n=t)+o.text.length)>=e})),endOffset:t,index:r,startOffset:n}}},{key:"addMark",value:function(e,t,n){var r=i.Set.of(n);return this.addMarks(e,t,r)}},{key:"addMarks",value:function(e,t,n){if(""===this.text&&0===t&&0===e){var r=this.leaves.first();if(!r)return this.set("leaves",i.List.of(R.fromJSON({text:"",marks:n})));var o=r.addMarks(n);return o===r?this:this.set("leaves",i.List.of(o))}if(""===this.text)return this;if(0===t)return this;if(e>=this.text.length)return this;var a=R.splitLeaves(this.leaves,e),s=E(a,2),u=s[0],c=s[1],l=R.splitLeaves(c,t),f=E(l,2),d=f[0],h=f[1],v=u.concat(d.map((function(e){return e.addMarks(n)})),h);return this.setLeaves(v)}},{key:"getLeaves",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=this.leaves;if(0===n.size)return i.List.of(R.create({}));if(!t||0===t.length)return n;if(0===this.text.length)return n;var r=this.key;return t.forEach((function(t){var o=t.start,i=t.end,a=t.mark,s=o.key==r,u=i.key==r;if(s&&u){var c=s?o.offset:0,l=u?i.offset-c:e.text.length-c;if(l<1)return;if(c>=e.text.length)return;if(0!==c||l<e.text.length){var f=R.splitLeaves(n,c),d=E(f,2),h=d[0],v=d[1],p=R.splitLeaves(v,l),y=E(p,2),m=y[0],g=y[1];return void(n=h.concat(m.map((function(e){return e.addMark(a)})),g))}}n=n.map((function(e){return e.addMark(a)}))})),n===this.leaves?n:R.createLeaves(n)}},{key:"getActiveMarksBetweenOffsets",value:function(e,t){if(e<=0&&t>=this.text.length)return this.getActiveMarks();if(e>=t)return Object(i.Set)();if(""===this.text)return this.getActiveMarks();var n=null,r=0;return this.leaves.forEach((function(o){var i=r;if(!((r=i+o.text.length)<=e)){if(i>=t)return!1;if(n)return(n=n.intersect(o.marks))&&n.size,!1;n=o.marks}})),n||Object(i.Set)()}},{key:"getActiveMarks",value:function(){var e=this;if(0===this.leaves.size)return Object(i.Set)();var t=this.leaves.first().marks;return 0===t.size?t:t.toOrderedSet().withMutations((function(t){e.leaves.forEach((function(e){if(t.intersect(e.marks),0===t.size)return!1}))}))}},{key:"getMarksBetweenOffsets",value:function(e,t){if(e<=0&&t>=this.text.length)return this.getMarks();if(e>=t)return Object(i.Set)();if(""===this.text)return this.getActiveMarks();var n=null,r=0;return this.leaves.forEach((function(o){var i=r;if(!((r=i+o.text.length)<=e))return!(i>=t)&&void(n=n?n.union(o.marks):o.marks)})),n||Object(i.Set)()}},{key:"getMarks",value:function(){var e=this.getMarksAsArray();return new i.OrderedSet(e)}},{key:"getMarksAsArray",value:function(){if(0===this.leaves.size)return[];var e=this.leaves.first().marks;if(1===this.leaves.size)return e.toArray();var t=[];return this.leaves.forEach((function(e){t.push(e.marks.toArray())})),Array.prototype.concat.apply(e.toArray(),t)}},{key:"getMarksAtIndex",value:function(e){var t=this.searchLeafAtOffset(e).leaf;return t?t.marks:Object(i.Set)()}},{key:"insertText",value:function(e,t,n){if(""===this.text)return this.set("leaves",i.List.of(R.create({text:t,marks:n})));if(0===t.length)return this;n||(n=Object(i.Set)());var r=this.searchLeafAtOffset(e),o=r.startOffset,a=r.leaf,s=r.index,u=e-o,c=a.text.slice(0,u),l=a.text.slice(u),f=this.leaves;if(a.marks.equals(n))return this.set("leaves",f.set(s,a.set("text",c+t+l)));var d=f.splice(s,1,a.set("text",c),R.create({text:t,marks:n}),a.set("text",l));return this.setLeaves(d)}},{key:"removeMark",value:function(e,t,n){if(""===this.text&&0===e&&0===t){var r=this.leaves.first();if(!r)return this;var o=r.removeMark(n);return o===r?this:this.set("leaves",i.List.of(o))}if(t<=0)return this;if(e>=this.text.length)return this;var a=R.splitLeaves(this.leaves,e),s=E(a,2),u=s[0],c=s[1],l=R.splitLeaves(c,t),f=E(l,2),d=f[0],h=f[1],v=u.concat(d.map((function(e){return e.removeMark(n)})),h);return this.setLeaves(v)}},{key:"removeText",value:function(e,t){if(t<=0)return this;if(e>=this.text.length)return this;if(1===t){var n=this.searchLeafAtOffset(e+1),r=n.leaf,o=n.index,a=e-n.startOffset;if(r){if(1===r.text.length){var s=this.leaves.remove(o);return this.setLeaves(s)}var u=r.text.slice(0,a)+r.text.slice(a+t);if(u.length>0)return this.set("leaves",this.leaves.set(o,r.set("text",u)))}}var c=R.splitLeaves(this.leaves,e),l=E(c,2),f=l[0],d=l[1],h=R.splitLeaves(d,t)[1],v=R.createLeaves(f.concat(h));if(1===v.size){var p=v.first();if(""===p.text)return this.set("leaves",i.List.of(p.set("marks",this.getActiveMarks())))}return this.set("leaves",v)}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,leaves:this.getLeaves().toArray().map((function(e){return e.toJSON()}))};return e.preserveKeys&&(t.key=this.key),t}},{key:"updateMark",value:function(e,t,n,r){var o=n.merge(r);if(""===this.text&&0===t&&0===e){var a=this.leaves.first();if(!a)return this;var s=a.updateMark(n,o);return s===a?this:this.set("leaves",i.List.of(s))}if(t<=0)return this;if(e>=this.text.length)return this;var u=R.splitLeaves(this.leaves,e),c=E(u,2),l=c[0],f=c[1],d=R.splitLeaves(f,t),h=E(d,2),v=h[0],p=h[1],y=l.concat(v.map((function(e){return e.updateMark(n,o)})),p);return this.setLeaves(y)}},{key:"splitText",value:function(e){var t=R.splitLeaves(this.leaves,e);return[this.set("leaves",t[0]),this.set("leaves",t[1]).regenerateKey()]}},{key:"mergeText",value:function(e){var t=this.leaves.concat(e.leaves);return this.setLeaves(t)}},{key:"setLeaves",value:function(e){var t=R.createLeaves(e);if(1===t.size){var n=t.first();if((!n.marks||0===n.marks.size)&&""===n.text)return this.set("leaves",Object(i.List)())}return this.set("leaves",R.createLeaves(e))}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t.isText(e))return e;if("string"==typeof e&&(e={leaves:[{text:e}]}),o()(e)){if(e.text){var n=e,r=n.text,i=n.marks,a=n.key;e={key:a,leaves:[{text:r,marks:i}]}}return t.fromJSON(e)}throw new Error("`Text.create` only accepts objects, arrays, strings or texts, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(i.List.isList(e)||Array.isArray(e)){var n=new i.List(e.map(t.create));return n}throw new Error("`Text.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(t.isText(e))return e;var n=e.key,r=void 0===n?_.create():n,o=e.leaves;if(o||(e.ranges?(a(!1,"As of slate@0.27.0, the `ranges` property of Slate objects has been renamed to `leaves`."),o=e.ranges):o=Object(i.List)()),Array.isArray(o))o=Object(i.List)(o.map((function(e){return R.create(e)})));else{if(!i.List.isList(o))throw new Error("leaves must be either Array or Immutable.List");o=o.map((function(e){return R.create(e)}))}return new t({leaves:R.createLeaves(o),key:r})}},{key:"isTextList",value:function(e){return i.List.isList(e)&&e.every((function(e){return t.isText(e)}))}}]),t}(Object(i.Record)(W));U(H.prototype,["getActiveMarks","getMarks","getMarksAsArray"]);var $=function(){function e(){w(this,e)}return x(e,null,[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isNode(t))return t;if(o()(t)){var n=t.object;switch(!n&&t.kind&&(a(!1,"As of slate@0.32.0, the `kind` property of Slate objects has been renamed to `object`."),n=t.kind),n){case"block":return G.create(t);case"document":return B.create(t);case"inline":return P.create(t);case"text":return H.create(t);default:throw new Error("`Node.create` requires a `object` string.")}}throw new Error("`Node.create` only accepts objects or nodes but you passed it: "+t)}},{key:"createList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(i.List.isList(t)||Array.isArray(t)){var n=Object(i.List)(t.map(e.create));return n}throw new Error("`Node.createList` only accepts lists or arrays, but you passed it: "+t)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(G.isBlock(e)||P.isInline(e))return{data:e.data,type:e.type};if("string"==typeof e)return{type:e};if(o()(e)){var t={};return"type"in e&&(t.type=e.type),"data"in e&&(t.data=C.create(e.data)),t}throw new Error("`Node.createProperties` only accepts objects, strings, blocks or inlines, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var t=e.object;switch(!t&&e.kind&&(a(!1,"As of slate@0.32.0, the `kind` property of Slate objects has been renamed to `object`."),t=e.kind),t){case"block":return G.fromJSON(e);case"document":return B.fromJSON(e);case"inline":return P.fromJSON(e);case"text":return H.fromJSON(e);default:throw new Error("`Node.fromJSON` requires an `object` of either 'block', 'document', 'inline' or 'text', but you passed: "+e)}}},{key:"isNode",value:function(e){return G.isBlock(e)||B.isDocument(e)||P.isInline(e)||H.isText(e)}},{key:"isNodeList",value:function(t){return i.List.isList(t)&&t.every((function(t){return e.isNode(t)}))}}]),e}(),Y={data:void 0,key:void 0,nodes:void 0,type:void 0},G=function(e){function t(){return w(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,e),x(t,[{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,type:this.type,data:this.data.toJSON(),nodes:this.nodes.toArray().map((function(t){return t.toJSON(e)}))};return e.preserveKeys&&(t.key=this.key),t}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isBlock(e))return e;if("string"==typeof e&&(e={type:e}),o()(e))return t.fromJSON(e);throw new Error("`Block.create` only accepts objects, strings or blocks, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(i.List.isList(e)||Array.isArray(e)){var n=new i.List(e.map(t.create));return n}throw new Error("`Block.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(t.isBlock(e))return e;var n=e.data,r=void 0===n?{}:n,o=e.key,a=void 0===o?_.create():o,s=e.nodes,u=void 0===s?[]:s,c=e.type;if("string"!=typeof c)throw new Error("`Block.fromJSON` requires a `type` string.");return new t({key:a,type:c,data:Object(i.Map)(r),nodes:$.createList(u)})}},{key:"isBlockList",value:function(e){return i.List.isList(e)&&e.every((function(e){return t.isBlock(e)}))}}]),t}(Object(i.Record)(Y));function X(e,t){for(var n=ie(e,t),r=0;r<n;r++){var o=e.get(r),i=t.get(r);if(o<i)return-1;if(o>i)return 1}return e.size===t.size?0:null}function Q(e){if(null==e)return null;if(i.List.isList(e))return e;if(Array.isArray(e))return Object(i.List)(e);throw new Error("Paths can only be created from arrays or lists, but you passed: "+e)}function Z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ie(e,t),r=e.slice(0,n),o=t.slice(0,n);return[r,o]}function ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.size-1;return te(e,0-t,n)}function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.size-1,r=e.get(n),o=r+t,i=e.set(n,o);return i}function ne(e,t){var n=Z(e,t),r=E(n,2),o=r[0],i=r[1];return e.size<t.size&&0===X(o,i)}function re(e,t){return e.equals(t)}function oe(e,t){var n=e.size-1,r=Z(e,t,n),o=E(r,2),i=o[0],a=o[1],s=e.get(n),u=t.get(n);return re(i,a)&&s<u}function ie(e,t){return Math.min(e.size,t.size)}var ae={compare:X,create:Q,crop:Z,decrement:ee,getAncestors:function(e){for(var t=new i.List,n=0;n<e.size;n++)t=t.push(e.slice(0,n));return t},increment:te,isAbove:ne,isAfter:function(e,t){var n=Z(e,t),r=E(n,2);return 1===X(r[0],r[1])},isBefore:function(e,t){var n=Z(e,t),r=E(n,2);return-1===X(r[0],r[1])},isEqual:re,isOlder:function(e,t){var n=e.size-1,r=Z(e,t,n),o=E(r,2),i=o[0],a=o[1],s=e.get(n),u=t.get(n);return re(i,a)&&s>u},isSibling:function(e,t){if(e.size!==t.size)return!1;var n=e.butLast(),r=t.butLast();return n.equals(r)},isYounger:oe,lift:function(e){return e.slice(0,-1)},max:function(e,t){return Math.max(e.size,t.size)},min:ie,relate:function(e,t){for(var n=[],r=0;r<e.size&&r<t.size;r++){var o=e.get(r);if(o!==t.get(r))break;n.push(o)}return Q(n)},transform:function(e,t){var n=t.type,r=t.position,o=t.path;if("add_mark"===n||"insert_text"===n||"remove_mark"===n||"remove_text"===n||"set_mark"===n||"set_node"===n||"set_selection"===n||"set_value"===n||0===e.size)return Object(i.List)([e]);var a=o.size-1,s=re(o,e),u=oe(o,e),c=ne(o,e);if("insert_node"===n&&(s||u||c)&&(e=te(e,1,a)),"remove_node"===n&&(u?e=ee(e,1,a):(s||c)&&(e=[])),"merge_node"===n&&(s||u?e=ee(e,1,a):c&&(e=te(e=ee(e,1,a),r,a+1))),"split_node"===n&&(s?e=[e,te(e)]:u?e=te(e,1,a):c&&e.get(a+1)>=r&&(e=ee(e=te(e,1,a),r,a+1))),"move_node"===n){var l=t.newPath,f=l.size-1,d=re(l,e);if(re(o,l))return Object(i.List)([e]);var h=oe(l,e),v=ne(l,e);c?e=l.concat(e.slice(o.size)):(s?e=l:u&&(e=ee(e,1,a)),(d||h||v)&&(e=te(e,1,f)))}var p=Array.isArray(e)?e:[e];return Object(i.List)(p)}},se={key:void 0,offset:void 0,path:void 0},ue=function(e){function t(){return w(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,e),x(t,[{key:"isAfterPoint",value:function(e){return!this.isUnset&&(this.key===e.key&&this.offset>e.offset||1===ae.compare(this.path,e.path))}},{key:"isAfterRange",value:function(e){return!this.isUnset&&this.isAfterPoint(e.end)}},{key:"isAtEndOfRange",value:function(e){return!this.isUnset&&this.equals(e.end)}},{key:"isAtStartOfRange",value:function(e){return!this.isUnset&&this.equals(e.start)}},{key:"isBeforePoint",value:function(e){return!this.isUnset&&(this.key===e.key&&this.offset<e.offset||-1===ae.compare(this.path,e.path))}},{key:"isBeforeRange",value:function(e){return!this.isUnset&&this.isBeforePoint(e.start)}},{key:"isInRange",value:function(e){return!this.isUnset&&(this.equals(e.start)||this.equals(e.end)||this.isAfterPoint(e.start)&&this.isBeforePoint(e.end))}},{key:"isAtEndOfNode",value:function(e){if(this.isUnset)return!1;var t=e.getLastText();return this.key===t.key&&this.offset===t.text.length}},{key:"isAtStartOfNode",value:function(e){if(this.isUnset)return!1;if(0!=this.offset)return!1;var t=e.getFirstText();return this.key===t.key}},{key:"isInNode",value:function(e){return!this.isUnset&&("text"===e.object&&e.key===this.key||!!e.hasNode(this.key))}},{key:"moveBackward",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(0===e)return this;if(e<0)return this.moveForward(-e);var t=this.setOffset(this.offset-e);return t}},{key:"moveForward",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(0===e)return this;if(e<0)return this.moveBackward(-e);var t=this.setOffset(this.offset+e);return t}},{key:"moveTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.key;"number"===typeof e?(t=e,e=this.path):"string"===typeof e?e=(n=e)===this.key?this.path:null:n=e.equals(this.path)?this.key:null;var r=this.merge({key:n,path:e,offset:t});return r}},{key:"moveToStartOfNode",value:function(e){var t=e.getFirstText();return this.moveTo(t.key,0)}},{key:"moveToEndOfNode",value:function(e){var t=e.getLastText();return this.moveTo(t.key,t.text.length)}},{key:"normalize",value:function(e){if(null==this.key&&null==this.path)return this.setOffset(null);var n=this.key,r=this.offset,o=this.path,i=e.getNode(n||o);if(!i){a(!1,"A point's `path` or `key` invalid and was reset!");var s=e.getFirstText();return s?this.merge({key:s.key,offset:0,path:e.getPath(s.key)}):t.create()}if("text"!==i.object){a(!1,"A point should not reference a non-text node!");var u=i.getTextAtOffset(r),c=i.getOffset(u.key);return this.merge({offset:r-c,key:u.key,path:e.getPath(u.key)})}return i&&o&&n&&n!==i.key&&a(!1,"A point's `key` did not match its `path`!"),this.merge({key:i.key,path:null==o?e.getPath(i.key):o,offset:null==r?0:Math.min(r,i.text.length)})}},{key:"setKey",value:function(e){return null!==e&&(e=_.create(e)),this.set("key",e)}},{key:"setOffset",value:function(e){return this.set("offset",e)}},{key:"setPath",value:function(e){return null!==e&&(e=ae.create(e)),this.set("path",e)}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,key:this.key,offset:this.offset,path:this.path&&this.path.toArray()};return e.preserveKeys||delete t.key,t}},{key:"unset",value:function(){return this.merge({key:null,offset:null,path:null})}},{key:"isSet",get:function(){return null!=this.key&&null!=this.offset&&null!=this.path}},{key:"isUnset",get:function(){return!this.isSet}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isPoint(e))return e;if(o()(e))return t.fromJSON(e);throw new Error("`Point.create` only accepts objects or points, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isPoint(e))return{key:e.key,offset:e.offset,path:e.path};if(o()(e)){var n={};return"key"in e&&(n.key=e.key),"offset"in e&&(n.offset=e.offset),"path"in e&&(n.path=ae.create(e.path)),"path"in e&&!("key"in e)&&(n.key=null),"key"in e&&!("path"in e)&&(n.path=null),n}throw new Error("`Point.createProperties` only accepts objects or points, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.key,r=void 0===n?null:n,o=e.offset,i=void 0===o?null:o,a=e.path,s=void 0===a?null:a;return new t({key:r,offset:i,path:ae.create(s)})}}]),t}(Object(i.Record)(se)),ce={anchor:void 0,focus:void 0,mark:void 0},le=function(e){function t(){return w(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,e),x(t,[{key:"setProperties",value:function(e){var n=e=t.createProperties(e),r=n.anchor,o=n.focus,i=n.mark,a={};return r&&(a.anchor=ue.create(r)),o&&(a.focus=ue.create(o)),i&&(a.mark=D.create(i)),this.merge(a)}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e),mark:this.mark.toJSON(e)};return t}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isDecoration(e))return e;if(ve.isRange(e))return t.fromJSON(ve.createProperties(e));if(o()(e))return t.fromJSON(e);throw new Error("`Decoration.create` only accepts objects or decorations, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(i.List.isList(e)||Array.isArray(e)){var n=new i.List(e.map(t.create));return n}throw new Error("`Decoration.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isDecoration(e))return{anchor:ue.createProperties(e.anchor),focus:ue.createProperties(e.focus),mark:D.create(e.mark)};if(o()(e)){var n={};return"anchor"in e&&(n.anchor=ue.create(e.anchor)),"focus"in e&&(n.focus=ue.create(e.focus)),"mark"in e&&(n.mark=D.create(e.mark)),n}throw new Error("`Decoration.createProperties` only accepts objects or decorations, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.anchor,r=e.focus,o=e.mark;if(!o)throw new Error("Decorations must be created with a `mark`, but you passed: "+JSON.stringify(e));return new t({anchor:ue.fromJSON(n||{}),focus:ue.fromJSON(r||{}),mark:D.fromJSON(o)})}}]),t}(Object(i.Record)(ce)),fe={block:"@@__SLATE_BLOCK__@@",change:"@@__SLATE_CHANGE__@@",decoration:"@@__SLATE_DECORATION__@@",document:"@@__SLATE_DOCUMENT__@@",editor:"@@__SLATE_EDITOR__@@",inline:"@@__SLATE_INLINE__@@",leaf:"@@__SLATE_LEAF__@@",mark:"@@__SLATE_MARK__@@",operation:"@@__SLATE_OPERATION__@@",point:"@@__SLATE_POINT__@@",range:"@@__SLATE_RANGE__@@",selection:"@@__SLATE_SELECTION__@@",text:"@@__SLATE_TEXT__@@",value:"@@__SLATE_VALUE__@@"};function de(e,t){return!(!t||!t[fe[e]])}var he={anchor:void 0,focus:void 0},ve=function(e){function t(){return w(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,e),x(t,[{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e)};return t}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isRange(e))return"range"===e.object?e:t.fromJSON(t.createProperties(e));if(o()(e))return t.fromJSON(e);throw new Error("`Range.create` only accepts objects or ranges, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(i.List.isList(e)||Array.isArray(e)){var n=new i.List(e.map(t.create));return n}throw new Error("`Range.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isRange(e))return{anchor:ue.createProperties(e.anchor),focus:ue.createProperties(e.focus)};if(o()(e)){var n={};return"anchor"in e&&(n.anchor=ue.create(e.anchor)),"focus"in e&&(n.focus=ue.create(e.focus)),n}throw new Error("`Range.createProperties` only accepts objects, decorations, ranges or selections, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.anchor,r=e.focus;return new t({anchor:ue.fromJSON(n||{}),focus:ue.fromJSON(r||{})})}},{key:"isRange",value:function(e){return de("range",e)||le.isDecoration(e)||ye.isSelection(e)}}]),t}(Object(i.Record)(he)),pe={anchor:void 0,focus:void 0,isFocused:void 0,marks:void 0},ye=function(e){function t(){return w(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,e),x(t,[{key:"setIsFocused",value:function(e){return this.set("isFocused",e)}},{key:"setMarks",value:function(e){return this.set("marks",e)}},{key:"setProperties",value:function(e){var n=e=t.createProperties(e),r=n.anchor,o=n.focus,i=S(n,["anchor","focus"]);return r&&(i.anchor=ue.create(r)),o&&(i.focus=ue.create(o)),this.merge(i)}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e),isFocused:this.isFocused,marks:null==this.marks?null:this.marks.toArray().map((function(e){return e.toJSON()}))};return t}},{key:"isBlurred",get:function(){return!this.isFocused}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isSelection(e))return e;if(ve.isRange(e))return t.fromJSON(ve.createProperties(e));if(o()(e))return t.fromJSON(e);throw new Error("`Selection.create` only accepts objects, ranges or selections, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isSelection(e))return{anchor:ue.createProperties(e.anchor),focus:ue.createProperties(e.focus),isFocused:e.isFocused,marks:e.marks};if(ve.isRange(e))return{anchor:ue.createProperties(e.anchor),focus:ue.createProperties(e.focus)};if(o()(e)){var n={};return"anchor"in e&&(n.anchor=ue.create(e.anchor)),"focus"in e&&(n.focus=ue.create(e.focus)),"isFocused"in e&&(n.isFocused=e.isFocused),"marks"in e&&(n.marks=null==e.marks?null:D.createSet(e.marks)),n}throw new Error("`Selection.createProperties` only accepts objects, ranges or selections, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.anchor,r=e.focus,o=e.isFocused,a=void 0!==o&&o,s=e.marks,u=void 0===s?null:s;return new t({anchor:ue.fromJSON(n||{}),focus:ue.fromJSON(r||{}),isFocused:a,marks:null==u?null:new i.Set(u.map(D.fromJSON))})}}]),t}(Object(i.Record)(pe)),me={data:void 0,decorations:void 0,document:void 0,selection:void 0},ge=function(e){function t(){return w(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,e),x(t,[{key:"addMark",value:function(e,t,n,r){var o=this,i=o.document;return i=i.addMark(e,t,n,r),o=this.set("document",i)}},{key:"insertNode",value:function(e,t){var n=this,r=n.document;return r=r.insertNode(e,t),n=(n=n.set("document",r)).mapRanges((function(e){return e.updatePoints((function(e){return e.setPath(null)}))}))}},{key:"insertText",value:function(e,t,n,r){var o=this,i=o.document,a=i.assertNode(e);return i=i.insertText(e,t,n,r),o=(o=o.set("document",i)).mapRanges((function(e){return e.updatePoints((function(e){return e.key===a.key&&e.offset>=t?e.setOffset(e.offset+n.length):e}))}))}},{key:"mergeNode",value:function(e){var t=this,n=t.document,r=n.mergeNode(e);e=n.resolvePath(e);var o=ae.decrement(e),i=n.getNode(o),a=n.getNode(e);return t=(t=t.set("document",r)).mapRanges((function(e){if("text"===a.object){var t=i.text.length;e.anchor.key===a.key&&(e=e.moveAnchorTo(i.key,t+e.anchor.offset)),e.focus.key===a.key&&(e=e.moveFocusTo(i.key,t+e.focus.offset))}return e=e.updatePoints((function(e){return e.setPath(null)}))}))}},{key:"moveNode",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this,o=r,i=o.document;return i=i.moveNode(e,t,n),r=(r=r.set("document",i)).mapRanges((function(e){return e.updatePoints((function(e){return e.setPath(null)}))}))}},{key:"removeMark",value:function(e,t,n,r){var o=this,i=o.document;return i=i.removeMark(e,t,n,r),o=this.set("document",i)}},{key:"removeNode",value:function(e){var t=this,n=t.document,r=n.assertNode(e),o="text"==r.object?r:r.getFirstText()||r,i="text"==r.object?r:r.getLastText()||r,a=n.getPreviousText(o.key),s=n.getNextText(i.key);return n=n.removeNode(e),t=(t=t.set("document",n)).mapRanges((function(e){var t=e,n=t.start,o=t.end;return r.hasNode(n.key)&&(e=a?e.moveStartTo(a.key,a.text.length):s?e.moveStartTo(s.key,0):e.unset()),r.hasNode(o.key)&&(e=a?e.moveEndTo(a.key,a.text.length):s?e.moveEndTo(s.key,0):e.unset()),e=e.updatePoints((function(e){return e.setPath(null)}))}))}},{key:"removeText",value:function(e,t,n){var r=this,o=r.document,i=o.assertNode(e);o=o.removeText(e,t,n),r=r.set("document",o);var a=n.length,s=t,u=t+a;return r=r.mapRanges((function(e){return e.updatePoints((function(e){return e.key!==i.key?e:e.offset>=u?e.setOffset(e.offset-a):e.offset>s?e.setOffset(s):e}))}))}},{key:"setNode",value:function(e,t){var n=this,r=n.document;return r=r.setNode(e,t),n=n.set("document",r)}},{key:"setMark",value:function(e,t,n,r,o){var i=this,a=i.document;return a=a.setMark(e,t,n,r,o),i=i.set("document",a)}},{key:"setProperties",value:function(e){var t=this,n=t.document,r=e.data,o=e.decorations,i={};return r&&(i.data=r),o&&(i.decorations=o.map((function(e){return e.isSet?e:n.resolveDecoration(e)}))),t=t.merge(i)}},{key:"setSelection",value:function(e){var t=this,n=t,r=n.document,o=n.selection,i=o.setProperties(e);return o=r.resolveSelection(i),t=t.set("selection",o)}},{key:"splitNode",value:function(e,t,n){var r=this,o=r.document,i=o.splitNode(e,t,n),a=o.assertNode(e);return r=(r=r.set("document",i)).mapRanges((function(e){var n=i.getNextText(a.key),r=e,o=r.start,s=r.end;return a.key===o.key&&t<=o.offset&&(e=e.moveStartTo(n.key,o.offset-t)),a.key===s.key&&t<=s.offset&&(e=e.moveEndTo(n.key,s.offset-t)),e=e.updatePoints((function(e){return e.setPath(null)}))}))}},{key:"mapRanges",value:function(e){var t=this,n=t,r=n.document,o=n.selection,i=n.decorations,a=o.isSet?e(o):o;a||(a=o.unset()),a!==o&&(a=r.createSelection(a)),t=t.set("selection",a);var s=i.map((function(t){var n=t.isSet?e(t):t;return n&&n!==t&&(n=r.createDecoration(n)),n}));return s=s.filter((function(e){return!!e})),t=t.set("decorations",s)}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,document:this.document.toJSON(e)};return e.preserveData&&(t.data=this.data.toJSON(e)),e.preserveDecorations&&(t.decorations=this.decorations.toArray().map((function(t){return t.toJSON(e)}))),e.preserveSelection&&(t.selection=this.selection.toJSON(e)),t}},{key:"change",value:function(){Object(s.a)(!1,"As of Slate 0.42.0, value object are no longer schema-aware, and the `value.change()` method is no longer available. Use the `editor.change()` method on the new `Editor` controller instead.")}},{key:"startBlock",get:function(){return this.selection.start.key&&this.document.getClosestBlock(this.selection.start.key)}},{key:"endBlock",get:function(){return this.selection.end.key&&this.document.getClosestBlock(this.selection.end.key)}},{key:"anchorBlock",get:function(){return this.selection.anchor.key&&this.document.getClosestBlock(this.selection.anchor.key)}},{key:"focusBlock",get:function(){return this.selection.focus.key&&this.document.getClosestBlock(this.selection.focus.key)}},{key:"startInline",get:function(){return this.selection.start.key&&this.document.getClosestInline(this.selection.start.key)}},{key:"endInline",get:function(){return this.selection.end.key&&this.document.getClosestInline(this.selection.end.key)}},{key:"anchorInline",get:function(){return this.selection.anchor.key&&this.document.getClosestInline(this.selection.anchor.key)}},{key:"focusInline",get:function(){return this.selection.focus.key&&this.document.getClosestInline(this.selection.focus.key)}},{key:"startText",get:function(){return this.selection.start.key&&this.document.getDescendant(this.selection.start.key)}},{key:"endText",get:function(){return this.selection.end.key&&this.document.getDescendant(this.selection.end.key)}},{key:"anchorText",get:function(){return this.selection.anchor.key&&this.document.getDescendant(this.selection.anchor.key)}},{key:"focusText",get:function(){return this.selection.focus.key&&this.document.getDescendant(this.selection.focus.key)}},{key:"nextBlock",get:function(){return this.selection.end.key&&this.document.getNextBlock(this.selection.end.key)}},{key:"previousBlock",get:function(){return this.selection.start.key&&this.document.getPreviousBlock(this.selection.start.key)}},{key:"nextInline",get:function(){return this.selection.end.key&&this.document.getNextInline(this.selection.end.key)}},{key:"previousInline",get:function(){return this.selection.start.key&&this.document.getPreviousInline(this.selection.start.key)}},{key:"nextText",get:function(){return this.selection.end.key&&this.document.getNextText(this.selection.end.key)}},{key:"previousText",get:function(){return this.selection.start.key&&this.document.getPreviousText(this.selection.start.key)}},{key:"marks",get:function(){return this.selection.isUnset?new i.Set:this.selection.marks||this.document.getMarksAtRange(this.selection)}},{key:"activeMarks",get:function(){return this.selection.isUnset?new i.Set:this.selection.marks||this.document.getActiveMarksAtRange(this.selection)}},{key:"blocks",get:function(){return this.selection.isUnset?new i.List:this.document.getBlocksAtRange(this.selection)}},{key:"fragment",get:function(){return this.selection.isUnset?B.create():this.document.getFragmentAtRange(this.selection)}},{key:"inlines",get:function(){return this.selection.isUnset?new i.List:this.document.getInlinesAtRange(this.selection)}},{key:"texts",get:function(){return this.selection.isUnset?new i.List:this.document.getTextsAtRange(this.selection)}},{key:"history",get:function(){Object(s.a)(!1,"As of Slate 0.42.0, the `value.history` model no longer exists, and the history is stored in `value.data` instead using plugins.")}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.isValue(e))return e;if(o()(e))return t.fromJSON(e,n);throw new Error("`Value.create` only accepts objects or values, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isValue(e))return{data:e.data,decorations:e.decorations};if(o()(e)){var n={};return"data"in e&&(n.data=C.create(e.data)),"decorations"in e&&(n.decorations=le.createList(e.decorations)),n}throw new Error("`Value.createProperties` only accepts objects or values, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.data,r=void 0===n?{}:n,o=e.decorations,a=void 0===o?[]:o,s=e.document,u=void 0===s?{}:s,c=e.selection,l=void 0===c?{}:c;if(r=C.fromJSON(r),l=(u=B.fromJSON(u)).createSelection(l),a=Object(i.List)(a.map((function(e){return le.fromJSON(e)}))),l.isUnset){var f=u.getFirstText();f&&(l=l.moveToStartOfNode(f)),l=u.createSelection(l)}return new t({data:r,decorations:a,document:u,selection:l})}}]),t}(Object(i.Record)(me)),ke=c()("slate:operation:apply");var _e=c()("slate:operation:invert");var be={add_mark:["value","path","offset","length","mark"],insert_node:["value","path","node"],insert_text:["value","path","offset","text","marks"],merge_node:["value","path","position","properties","target"],move_node:["value","path","newPath"],remove_mark:["value","path","offset","length","mark"],remove_node:["value","path","node"],remove_text:["value","path","offset","text","marks"],set_mark:["value","path","offset","length","mark","properties"],set_node:["value","path","node","properties"],set_selection:["value","selection","properties"],set_value:["value","properties"],split_node:["value","path","position","properties","target"]},we={length:void 0,mark:void 0,marks:void 0,newPath:void 0,node:void 0,offset:void 0,path:void 0,position:void 0,properties:void 0,selection:void 0,target:void 0,text:void 0,type:void 0,value:void 0},xe=function(e){function t(){return w(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,e),x(t,[{key:"apply",value:function(e){return function(e,t){var n=(t=xe.create(t)).type;switch(ke(n,t),n){case"add_mark":var r=t,o=r.path,i=r.offset,a=r.length,s=r.mark;return e.addMark(o,i,a,s);case"insert_node":var u=t,c=u.path,l=u.node;return e.insertNode(c,l);case"insert_text":var f=t,d=f.path,h=f.offset,v=f.text,p=f.marks;return e.insertText(d,h,v,p);case"merge_node":var y=t.path;return e.mergeNode(y);case"move_node":var m=t,g=m.path,k=m.newPath;return ae.isEqual(g,k)?e:e.moveNode(g,k);case"remove_mark":var _=t,b=_.path,w=_.offset,x=_.length,O=_.mark;return e.removeMark(b,w,x,O);case"remove_node":var A=t.path;return e.removeNode(A);case"remove_text":var S=t,T=S.path,E=S.offset,N=S.text;return e.removeText(T,E,N);case"set_mark":var C=t,F=C.path,B=C.offset,j=C.length,P=C.mark,I=C.properties;return e.setMark(F,B,j,P,I);case"set_node":var D=t,z=D.path,R=D.properties;return e.setNode(z,R);case"set_selection":var L=t.properties;return e.setSelection(L);case"set_value":var M=t.properties;return e.setProperties(M);case"split_node":var q=t,K=q.path,U=q.position,J=q.properties;return e.splitNode(K,U,J);default:throw new Error('Unknown operation type: "'+n+'".')}}(e,this)}},{key:"invert",value:function(){return function(e){var t=(e=xe.create(e)).type;switch(_e(t,e),t){case"insert_node":return e.set("type","remove_node");case"remove_node":return e.set("type","insert_node");case"move_node":var n=e,r=n.newPath,o=n.path;if(ae.isEqual(r,o))return e;var i=r,a=o,s=o.size-1,u=r.size-1;return o.size<i.size&&o.slice(0,s).every((function(e,t){return e==i.get(t)}))&&o.last()<i.get(s)&&(i=i.slice(0,s).concat(i.get(s)-1).concat(i.slice(s+1,i.size))),r.size<a.size&&r.slice(0,u).every((function(e,t){return e==a.get(t)}))&&r.last()<=a.get(u)&&(a=a.slice(0,u).concat(a.get(u)+1).concat(a.slice(u+1,a.size))),e.set("path",i).set("newPath",a);case"merge_node":var c=e.path,l=ae.decrement(c);return e.set("type","split_node").set("path",l);case"split_node":var d=e.path,h=ae.increment(d);return e.set("type","merge_node").set("path",h);case"set_node":var v=e,p=v.properties,y=v.node,m=y.merge(p),g=f()(y,Object.keys(p));return e.set("node",m).set("properties",g);case"insert_text":return e.set("type","remove_text");case"remove_text":return e.set("type","insert_text");case"add_mark":return e.set("type","remove_mark");case"remove_mark":return e.set("type","add_mark");case"set_mark":var k=e,_=k.properties,b=k.mark,w=b.merge(_),x=f()(b,Object.keys(_));return e.set("mark",w).set("properties",x);case"set_selection":var O=e,A=O.properties,S=O.selection,T=S.merge(A),E=f()(S,Object.keys(A));return e.set("selection",T).set("properties",E);case"set_value":var N=e,C=N.properties,F=N.value,B=F.merge(C),j=f()(F,Object.keys(C));return e.set("value",B).set("properties",j);default:throw new Error('Unknown operation type: "'+t+'".')}}(this)}},{key:"toJSON",value:function(){var e=this.object,t=this.type,n={object:e,type:t},r=be[t],o=!0,i=!1,a=void 0;try{for(var s,u=r[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value,l=this[c];if("document"!=c&&("selection"!=c&&"value"!=c&&("node"!=c||"insert_node"==t))){if("mark"!=c&&"marks"!=c&&"node"!=c&&"path"!=c&&"newPath"!=c||(l=l.toJSON()),"properties"==c&&"merge_node"==t){var f={};"data"in l&&(f.data=l.data.toJS()),"type"in l&&(f.type=l.type),l=f}if("properties"==c&&"set_mark"==t){var d={};"data"in l&&(d.data=l.data.toJS()),"type"in l&&(d.type=l.type),l=d}if("properties"==c&&"set_node"==t){var h={};"data"in l&&(h.data=l.data.toJS()),"type"in l&&(h.type=l.type),l=h}if("properties"==c&&"set_selection"==t){var v={};"anchor"in l&&(v.anchor=l.anchor.toJSON()),"focus"in l&&(v.focus=l.focus.toJSON()),"isFocused"in l&&(v.isFocused=l.isFocused),"marks"in l&&(v.marks=l.marks&&l.marks.toJSON()),l=v}if("properties"==c&&"set_value"==t){var p={};"data"in l&&(p.data=l.data.toJS()),"decorations"in l&&(p.decorations=l.decorations.toJS()),l=p}if("properties"==c&&"split_node"==t){var y={};"data"in l&&(y.data=l.data.toJS()),"type"in l&&(y.type=l.type),l=y}n[c]=l}}}catch(m){i=!0,a=m}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}return n}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isOperation(e))return e;if(o()(e))return t.fromJSON(e);throw new Error("`Operation.create` only accepts objects or operations, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(i.List.isList(e)||Array.isArray(e)){var n=new i.List(e.map(t.create));return n}throw new Error("`Operation.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(t.isOperation(e))return e;var n=e.type,r=be[n],o={type:n};if(!r)throw new Error('`Operation.fromJSON` was passed an unrecognized operation type: "'+n+'"');var i=!0,a=!1,s=void 0;try{for(var u,c=r[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value,f=e[l];if(void 0===f){if("document"==l)continue;if("selection"==l)continue;if("value"==l)continue;if("node"==l&&"insert_node"!=n)continue;throw new Error('`Operation.fromJSON` was passed a "'+n+'" operation without the required "'+l+'" attribute.')}"path"!==l&&"newPath"!==l||(f=ae.create(f)),"mark"===l&&(f=D.create(f)),"marks"===l&&null!=f&&(f=D.createSet(f)),"node"===l&&(f=$.create(f)),"selection"===l&&(f=ye.create(f)),"value"===l&&(f=ge.create(f)),"properties"===l&&"merge_node"===n&&(f=$.createProperties(f)),"properties"===l&&"set_mark"===n&&(f=D.createProperties(f)),"properties"===l&&"set_node"===n&&(f=$.createProperties(f)),"properties"===l&&"set_selection"===n&&(f=ye.createProperties(f)),"properties"===l&&"set_value"===n&&(f=ge.createProperties(f)),"properties"===l&&"split_node"===n&&(f=$.createProperties(f)),o[l]=f}}catch(d){a=!0,s=d}finally{try{!i&&c.return&&c.return()}finally{if(a)throw s}}return new t(o)}},{key:"isOperationList",value:function(e){return i.List.isList(e)&&e.every((function(e){return t.isOperation(e)}))}}]),t}(Object(i.Record)(we)),Oe=c()("slate:change"),Ae=function(){function e(t){w(this,e);var n=t.editor,r=t.value;this.editor=n,this.value=r,this.operations=new i.List,this.tmp={dirty:[],merge:null,normalize:!0,save:!0}}return x(e,[{key:"applyOperation",value:function(e){var t=this,n=this.operations,r=this.value;o()(e)&&(e=O({},e,{value:r})),e=xe.create(e),this.withoutNormalizing((function(){t.save(e),r=t.value})),Oe("apply",{operation:e}),r=e.apply(r);var i=function(e){var t=e.type,n=e.node,r=e.path,o=e.newPath;switch(t){case"add_mark":case"insert_text":case"remove_mark":case"remove_text":case"set_mark":case"set_node":var i=ae.getAncestors(r).toArray();return[].concat(N(i),[r]);case"insert_node":var a=n.getKeysToPathsTable(),s=Object.values(a).map((function(e){return r.concat(e)})),u=ae.getAncestors(r).toArray();return[].concat(N(u),[r],N(s));case"split_node":var c=ae.getAncestors(r).toArray(),l=ae.increment(r);return[].concat(N(c),[r,l]);case"merge_node":var f=ae.getAncestors(r).toArray(),d=ae.decrement(r);return[].concat(N(f),[d]);case"move_node":var h=ae.lift(r),v=ae.lift(o);if(ae.isEqual(r,o))return[];ae.isSibling(r,o)||(v.size&&ae.isYounger(r,o)&&(v=ae.decrement(v,1,r.size-1)),h.size&&ae.isYounger(o,r)&&(h=ae.increment(h,1,o.size-1)));var p=ae.getAncestors(h).toArray(),y=ae.getAncestors(v).toArray();return[].concat(N(p),[h],N(y),[v]);case"remove_node":var m=ae.getAncestors(r).toArray();return[].concat(N(m));default:return[]}}(e),a=this.tmp.dirty.reduce((function(t,n){n=ae.create(n);var r=ae.transform(n,e);return t=t.concat(r.toArray())}),i);return this.tmp.dirty=a,this.value=r,this.operations=n.push(e),this}},{key:"applyOperations",value:function(e){var t=this;return e.forEach((function(e){return t.applyOperation(e)})),this}},{key:"call",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,[this].concat(n)),this.normalizeDirtyPaths(),this}},{key:"command",value:function(e){for(var t=this.editor,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.command.apply(t,[e].concat(r)),this}},{key:"query",value:function(e){for(var t=this.editor,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.query.apply(t,[e].concat(r))}},{key:"normalize",value:function(){var e=this.value,t=e.document,n=t.getKeysToPathsTable(),r=Object.values(n).map(ae.create);this.tmp.dirty=this.tmp.dirty.concat(r),this.normalizeDirtyPaths();var o=e.selection;return t=e.document,o.isUnset&&t.nodes.size&&this.moveToStartOfDocument(),this}},{key:"normalizeDirtyPaths",value:function(){if(!this.tmp.normalize)return this;for(;this.tmp.dirty.length;){var e=this.tmp.dirty.pop();this.normalizeNodeByPath(e)}return this}},{key:"normalizeNodeByPath",value:function(e){var t=this,n=this.editor,r=this.value.document,o=r.assertNode(e),i=0,a=1e3+("text"===o.object?1:o.nodes.size);return this.withoutNormalizing((function(){!function s(){var u=o.normalize(n);if(u){u(t),r=t.value.document;var c=o.key,l=r.getDescendant(e);if(l&&l.key===c)o=l;else{if(!(l=r.getDescendant(c)))return;o=l,e=r.getPath(c)}if(++i>a)throw new Error("A schema rule could not be normalized after sufficient iterations. This is usually due to a `rule.normalize` or `plugin.normalizeNode` function of a schema being incorrectly written, causing an infinite loop.");s()}}()})),this}},{key:"withoutNormalizing",value:function(e){var t=this.tmp.normalize;return this.tmp.normalize=!1,e(this),this.tmp.normalize=t,this.normalizeDirtyPaths(),this}},{key:"setOperationFlag",value:function(e,t){return a(!1,"As of slate@0.41.0 the `change.setOperationFlag` method has been deprecated."),this.tmp[e]=t,this}},{key:"getFlag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(!1,"As of slate@0.41.0 the `change.getFlag` method has been deprecated."),void 0!==t[e]?t[e]:this.tmp[e]}},{key:"unsetOperationFlag",value:function(e){return a(!1,"As of slate@0.41.0 the `change.unsetOperationFlag` method has been deprecated."),delete this.tmp[e],this}},{key:"withoutNormalization",value:function(e){return a(!1,"As of slate@0.41.0 the `change.withoutNormalization` helper has been renamed to `change.withoutNormalizing`."),this.withoutNormalizing(e)}}]),e}();var Se={};["deleteBackward","deleteCharBackward","deleteLineBackward","deleteWordBackward","deleteForward","deleteCharForward","deleteWordForward","deleteLineForward","setBlocks","setInlines","splitInline","unwrapBlock","unwrapInline","wrapBlock","wrapInline"].forEach((function(e){Se[e]=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=t.value,a=i.selection,s=e+"AtRange";t[s].apply(t,[a].concat(r)),e.match(/Backward$/)?t.moveToStart():e.match(/Forward$/)&&t.moveToEnd()}})),Se.addMark=function(e,t){t=D.create(t);var n=e.value,r=n.document,o=n.selection;if(o.isExpanded)e.addMarkAtRange(o,t);else if(o.marks){var i=o.marks.add(t),a=o.set("marks",i);e.select(a)}else{var s=r.getActiveMarksAtRange(o).add(t),u=o.set("marks",s);e.select(u)}},Se.addMarks=function(e,t){t.forEach((function(t){return e.addMark(t)}))},Se.delete=function(e){var t=e.value.selection;e.deleteAtRange(t),e.moveToStart()},Se.insertBlock=function(e,t){t=G.create(t);var n=e.value.selection;e.insertBlockAtRange(n,t);var r=e.value.document.getNode(t.key);r&&e.moveToEndOfNode(r)},Se.insertFragment=function(e,t){if(t.nodes.size){var n=e.value,r=n,o=r.document,i=r.selection,a=i.start,s=i.end,u=n,c=u.startText,l=u.endText,f=u.startInline,d=t.getLastText(),h=t.getClosestInline(d.key),v=t.nodes.first(),p=t.nodes.last(),y=o.getTexts().map((function(e){return e.key})),m=!f||a.isAtStartOfNode(c)||s.isAtStartOfNode(c)||a.isAtEndOfNode(l)||s.isAtEndOfNode(l),g=v.hasBlockChildren()||p.hasBlockChildren();e.insertFragmentAtRange(i,t);var k=(o=(n=e.value).document).getTexts().filter((function(e){return!y.includes(e.key)})),_=m?k.last():k.takeLast(2).first();_&&(h||g)?e.select(i.moveToEndOfNode(_)):_?e.select(i.moveToStartOfNode(_).moveForward(d.text.length)):e.select(i.moveToStart().moveForward(d.text.length))}},Se.insertInline=function(e,t){t=P.create(t);var n=e.value.selection;e.insertInlineAtRange(n,t);var r=e.value.document.getNode(t.key);r&&e.moveToEndOfNode(r)},Se.insertText=function(e,t,n){var r=e.value,o=r.document,i=r.selection;n=n||i.marks||o.getInsertMarksAtRange(i),e.insertTextAtRange(i,t,n),i.marks&&o!=e.value.document&&e.select({marks:null})},Se.removeMark=function(e,t){t=D.create(t);var n=e.value,r=n.document,o=n.selection;if(o.isExpanded)e.removeMarkAtRange(o,t);else if(o.marks){var i=o.marks.remove(t),a=o.set("marks",i);e.select(a)}else{var s=r.getActiveMarksAtRange(o).remove(t),u=o.set("marks",s);e.select(u)}},Se.replaceMark=function(e,t,n){e.removeMark(t),e.addMark(n)},Se.splitBlock=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e.value,r=n.selection,o=n.document,i=r.marks||o.getInsertMarksAtRange(r);e.splitBlockAtRange(r,t).moveToEnd(),i&&0!==i.size&&e.select({marks:i})},Se.toggleMark=function(e,t){t=D.create(t),e.value.activeMarks.has(t)?e.removeMark(t):e.addMark(t)},Se.wrapText=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=e.value,o=r.selection;e.wrapTextAtRange(o,t,n),o.isCollapsed&&e.moveStartBackward(t.length),e.moveEndBackward(n.length),o.isForward!=e.value.selection.isForward&&e.flip()};var Te=/\s/,Ee=/['\u2018\u2019]/,Ne=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;function Ce(e){return 55296<=e&&e<=57343}function Fe(e,t){if(Te.test(e))return!1;if(Ee.test(e)){var n=t.charAt(0),r=Be(n);if(Fe(n=t.slice(0,r),t.slice(r)))return!0}return!Ne.test(e)}function Be(e){return Ce(e.charCodeAt(0))?2:1}function je(e){return Be(e.charAt(0))}function Pe(e){for(var t=0,n=0,r=!1,o=void 0;o=e.charAt(n);){var i=Be(o);if(Fe(o=e.slice(n,n+i),e.slice(n+i)))r=!0,t+=i;else{if(r)break;t+=i}n+=i}return t}var Ie={getCharLength:Be,getCharOffset:je,getCharOffsetBackward:function(e,t){return e=e.slice(0,t),je(e=Object(d.reverse)(e))},getCharOffsetForward:function(e,t){return je(e=e.slice(t))},getWordOffset:Pe,getWordOffsetBackward:function(e,t){return e=e.slice(0,t),Pe(e=Object(d.reverse)(e))},getWordOffsetForward:function(e,t){return Pe(e=e.slice(t))},isSurrogate:Ce,isWord:Fe},De={addMarkAtRange:function(e,t,n){if(!t.isCollapsed){var r=e.value.document,o=t.start,i=t.end,a=r.getTextsAtRange(t);e.withoutNormalizing((function(){a.forEach((function(t){var r=t.key,a=0,s=t.text.length;r==o.key&&(a=o.offset),r==i.key&&(s=i.offset),r==o.key&&r==i.key&&(s=i.offset-o.offset),e.addMarkByKey(r,a,s,n)}))}))}},addMarksAtRange:function(e,t,n){n.forEach((function(n){return e.addMarkAtRange(t,n)}))},deleteAtRange:function(e,t){e.snapshotSelection();var n=e.editor,r=e.value,o=t.start,i=t.end,a=o.key,s=o.offset,u=i.key,c=i.offset,l=r.document,f=l.hasVoidParent(a,n),d=l.hasVoidParent(u,n),h=l.getClosestBlock(a),v=l.getClosestBlock(u),p=0==s&&0==c&&0==f&&a==h.getFirstText().key&&u==v.getFirstText().key;if(p&&d){var y=l.getPreviousText(u);u=y.key,c=y.text.length,d=l.hasVoidParent(u,n)}e.withoutNormalizing((function(){for(;f;){var t=l.getClosestVoid(a,n),r=l.getNextText(a);if(e.removeNodeByKey(t.key),a==u)return;if(!r)return;l=e.value.document,a=r.key,s=0,f=l.hasVoidParent(a,n)}for(;d;){var o=l.getClosestVoid(u,n),i=l.getPreviousText(u);e.removeNodeByKey(o.key),l=e.value.document,u=i.key,c=i.text.length,d=l.hasVoidParent(u,n)}if(a==u&&p)e.removeNodeByKey(h.key);else if(a!=u){h=l.getClosestBlock(a),v=l.getClosestBlock(u);var y=l.getNode(a),m=l.getNode(u),g=y.text.length-s,k=c,_=l.getCommonAncestor(a,u),b=_.getFurthestAncestor(a),w=_.getFurthestAncestor(u),x=l.getParent(h.key),O=x.nodes.indexOf(h),A=x.nodes.indexOf(v),S=void 0;for(S=y;S.key!=b.key;){var T=l.getParent(S.key),E=T.nodes.indexOf(S);T.nodes.slice(E+1).reverse().forEach((function(t){e.removeNodeByKey(t.key)})),S=T}var N=_.nodes.indexOf(b),C=_.nodes.indexOf(w);for(_.nodes.slice(N+1,C).reverse().forEach((function(t){e.removeNodeByKey(t.key)})),S=m;S.key!=w.key;){var F=l.getParent(S.key),B=F.nodes.indexOf(S);F.nodes.slice(0,B).reverse().forEach((function(t){e.removeNodeByKey(t.key)})),S=F}if(0!=g&&e.removeTextByKey(a,s,g),0!=k&&e.removeTextByKey(u,0,c),h.key!=v.key){var j=(l=e.value.document).getFurthestOnlyChildAncestor(v.key);A!=O+1&&e.moveNodeByKey(v.key,x.key,O+1),p?e.removeNodeByKey(h.key):e.mergeNodeByKey(v.key),j&&e.removeNodeByKey(j.key)}}else{var P=s,I=c-s;e.removeTextByKey(a,P,I)}}))},deleteCharBackwardAtRange:function(e,t){var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key),i=o.getOffset(r.key)+r.offset,a=o.text,s=Ie.getCharOffsetBackward(a,i);e.deleteBackwardAtRange(t,s)},deleteLineBackwardAtRange:function(e,t){var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key).getOffset(r.key)+r.offset;e.deleteBackwardAtRange(t,o)},deleteWordBackwardAtRange:function(e,t){var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key),i=o.getOffset(r.key)+r.offset,a=o.text,s=0===i?1:Ie.getWordOffsetBackward(a,i);e.deleteBackwardAtRange(t,s)},deleteBackwardAtRange:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){var r=e.editor,o=e.value,i=o.document,a=t,s=a.start,u=a.focus;if(t.isExpanded)e.deleteAtRange(t);else{var c=i.getClosestVoid(s.key,r);if(c)e.removeNodeByKey(c.key);else{var l=i.getClosestBlock(s.key);if(!l||e.isVoid(l)||""!==l.text||1===i.nodes.size){if(!s.isAtStartOfNode(i)){var f=i.getDescendant(s.key);if(s.isAtStartOfNode(f)){var d=i.getPreviousText(f.key),h=i.getClosestBlock(d.key),v=i.getClosestVoid(d.key,r);if(v)return void e.removeNodeByKey(v.key);if(1==n&&h!=l)return t=t.moveAnchorTo(d.key,d.text.length),void e.deleteAtRange(t)}if(n<u.offset)return t=t.moveFocusBackward(n),void e.deleteAtRange(t);for(var p=f,y=0,m=u.offset;n>m;){var g=m+(p=i.getPreviousText(p.key)).text.length;if(n<=g){y=g-n;break}m=g}t=t.moveAnchorTo(p.key,y),e.deleteAtRange(t)}}else e.removeNodeByKey(l.key)}}}},deleteCharForwardAtRange:function(e,t){var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key),i=o.getOffset(r.key)+r.offset,a=o.text,s=Ie.getCharOffsetForward(a,i);e.deleteForwardAtRange(t,s)},deleteLineForwardAtRange:function(e,t){var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key),i=o.getOffset(r.key)+r.offset;e.deleteForwardAtRange(t,o.text.length-i)},deleteWordForwardAtRange:function(e,t){var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key),i=o.getOffset(r.key)+r.offset,a=o.text,s=Ie.getWordOffsetForward(a,i),u=0===s?1:s;e.deleteForwardAtRange(t,u)},deleteForwardAtRange:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){var r=e.editor,o=e.value,i=o.document,a=t,s=a.start,u=a.focus;if(t.isExpanded)e.deleteAtRange(t);else{var c=i.getClosestVoid(s.key,r);if(c)e.removeNodeByKey(c.key);else{var l=i.getClosestBlock(s.key);if(l&&!e.isVoid(l)&&""===l.text&&1!==i.nodes.size){var f=i.getNextBlock(l.key);return e.removeNodeByKey(l.key),void(f&&f.key&&e.moveToStartOfNode(f))}if(!s.isAtEndOfNode(i)){var d=i.getDescendant(s.key);if(s.isAtEndOfNode(d)){var h=i.getNextText(d.key),v=i.getClosestBlock(h.key),p=i.getClosestVoid(h.key,r);if(p)return void e.removeNodeByKey(p.key);if(1==n&&v!=l)return t=t.moveFocusTo(h.key,0),void e.deleteAtRange(t)}if(n<=d.text.length-u.offset)return t=t.moveFocusForward(n),void e.deleteAtRange(t);for(var y=d,m=u.offset,g=d.text.length-u.offset;n>g;){var k=g+(y=i.getNextText(y.key)).text.length;if(n<=k){m=n-g;break}g=k}t=t.moveFocusTo(y.key,m),e.deleteAtRange(t)}}}}},insertBlockAtRange:function(e,t,n){n=G.create(n),t.isExpanded&&(e.deleteAtRange(t),t=t.moveToStart());var r=e.value.document,o=t.start,i=o.key,a=o.offset,s=r.getClosestBlock(i),u=r.getClosestInline(i),c=r.getParent(s.key),l=c.nodes.indexOf(s);if(e.isVoid(s)){var f=o.isAtEndOfNode(s)?1:0;e.insertNodeByKey(c.key,l+f,n)}else if(u||""!==s.text)if(o.isAtStartOfNode(s))e.insertNodeByKey(c.key,l,n);else if(o.isAtEndOfNode(s))e.insertNodeByKey(c.key,l+1,n);else{if(u&&e.isVoid(u)){var d=o.isAtEndOfNode(u),h=d?r.getNextText(i):r.getPreviousText(i),v=d?t.moveToStartOfNode(h):t.moveToEndOfNode(h);i=v.start.key,a=v.start.offset}e.withoutNormalizing((function(){e.splitDescendantsByKey(s.key,i,a),e.insertNodeByKey(c.key,l+1,n)}))}else e.insertNodeByKey(c.key,l+1,n)},insertFragmentAtRange:function(e,t,n){e.withoutNormalizing((function(){if(t.isExpanded&&(e.deleteAtRange(t),t=e.value.document.getDescendant(t.start.key)?t.moveToStart():t.moveTo(t.end.key,0).normalize(e.value.document)),n.nodes.size){n=n.mapDescendants((function(e){return e.regenerateKey()}));var r=t.start,o=e.value.document,a=o.getDescendant(r.key),s=o.getClosestBlock(a.key),u=s.getFurthestAncestor(a.key),c=r.isAtStartOfNode(s),l=o.getParent(s.key),f=l.nodes.indexOf(s),d=n.getBlocks(),h=n.nodes.first(),v=n.nodes.last(),p=d.first(),y=d.last(),m=ze(n,o,s.key);if(p===y&&e.isVoid(p))e.insertBlockAtRange(t,p);else if(m!==n||!h.hasBlockChildren()&&!v.hasBlockChildren()){if(p!=y){var g=m.getFurthest(p.key,(function(e){return 1==e.nodes.size}))||p,k=l.nodes.indexOf(s);m.removeNode(g.key).nodes.forEach((function(t,n){var r=k+n+1;e.insertNodeByKey(l.key,r,t)}))}if(0!=r.offset&&e.splitDescendantsByKey(u.key,r.key,r.offset),a=(o=e.value.document).getDescendant(r.key),u=(s=o.getClosestBlock(r.key)).getFurthestAncestor(a.key),p!=y){var _=c?u:s.getNextSibling(u.key),b=_?s.nodes.skipUntil((function(e){return e.key==_.key})):Object(i.List)(),w=y.nodes.size;b.forEach((function(t,n){var r=w+n;e.moveNodeByKey(t.key,y.key,r)}))}if(e.isVoid(s)||""!==s.text){var x=s.getFurthestAncestor(a.key),O=s.nodes.indexOf(x);p.nodes.forEach((function(t,n){var o=0==r.offset?0:1,i=O+n+o;e.insertNodeByKey(s.key,i,t)}))}else e.removeNodeByKey(s.key),e.insertNodeByKey(l.key,f,p)}else n.nodes.reverse().forEach((function(n){e.insertBlockAtRange(t,n)}))}}))}},ze=function(e,t,n){var r=function(e){return e&&1===e.nodes.size},o=function(e){return e&&e.nodes.first()},i=e;if(r(e)){var a=o(e),s=t.getFurthest(n,(function(e){return e.type===a.type}));for(s===t.getParent(n)&&(i=a);r(a)&&r(s)&&(a=o(a),s=o(s),a.type===s.type);)i=a}return i};De.insertInlineAtRange=function(e,t,n){n=P.create(n),e.withoutNormalizing((function(){t.isExpanded&&(e.deleteAtRange(t),t=t.moveToStart());var r=e.value.document,o=t.start,i=r.getParent(o.key),a=r.assertDescendant(o.key),s=i.nodes.indexOf(a);e.isVoid(i)||(e.splitNodeByKey(o.key,o.offset),e.insertNodeByKey(i.key,s+1,n))}))},De.insertTextAtRange=function(e,t,n,r){var o=e.value.document,i=t.start,a=i.key,s=i.offset,u=i.path,c=o.getParent(i.key);e.isVoid(c)||e.withoutNormalizing((function(){if(t.isExpanded){e.deleteAtRange(t);var o=e.value.document.getNode(u);o&&o.key!==a&&(a=o.key)}e.insertTextByKey(a,s,n,r)}))},De.removeMarkAtRange=function(e,t,n){if(!t.isCollapsed){var r=e.value.document.getTextsAtRange(t),o=t.start,i=t.end;e.withoutNormalizing((function(){r.forEach((function(t){var r=t.key,a=0,s=t.text.length;r==o.key&&(a=o.offset),r==i.key&&(s=i.offset),r==o.key&&r==i.key&&(s=i.offset-o.offset),e.removeMarkByKey(r,a,s,n)}))}))}},De.setBlocksAtRange=function(e,t,n){var r=e.editor,o=e.value.document,i=o.getBlocksAtRange(t),a=t.start,s=t.end,u=t.isCollapsed,c=o.hasVoidParent(a.key,r),l=o.getClosestBlock(a.key),f=o.getClosestBlock(s.key),d=0==u&&0==a.offset&&0==s.offset&&0==c&&a.key==l.getFirstText().key&&s.key==f.getFirstText().key?i.slice(0,-1):i;e.withoutNormalizing((function(){d.forEach((function(t){e.setNodeByKey(t.key,n)}))}))},De.setInlinesAtRange=function(e,t,n){var r=e.value.document.getInlinesAtRange(t);e.withoutNormalizing((function(){r.forEach((function(t){e.setNodeByKey(t.key,n)}))}))},De.splitBlockAtRange=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t,o=r.start,i=r.end,a=e.value,s=a,u=s.document,c=u.assertDescendant(o.key),l=u.getClosestBlock(c.key),f=0;l&&"block"==l.object&&f<n;)c=l,l=u.getClosestBlock(l.key),f++;e.withoutNormalizing((function(){if(e.splitDescendantsByKey(c.key,o.key,o.offset),a=e.value,u=a.document,t.isExpanded){t.isBackward&&(t=t.flip());var n=u.getNextBlock(c.key);t=(t=t.moveAnchorToStartOfNode(n)).setFocus(t.focus.setPath(null)),o.key===i.key&&(t=t.moveFocusTo(t.anchor.key,i.offset-o.offset)),t=u.resolveRange(t),e.deleteAtRange(t)}}))},De.splitInlineAtRange=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;t.isExpanded&&(e.deleteAtRange(t),t=t.moveToStart());for(var r=t,o=r.start,i=e.value,a=i.document,s=a.assertDescendant(o.key),u=a.getClosestInline(s.key),c=0;u&&"inline"==u.object&&c<n;)s=u,u=a.getClosestInline(u.key),c++;e.splitDescendantsByKey(s.key,o.key,o.offset)},De.toggleMarkAtRange=function(e,t,n){t.isCollapsed||(n=D.create(n),e.value.document.getActiveMarksAtRange(t).some((function(e){return e.equals(n)}))?e.removeMarkAtRange(t,n):e.addMarkAtRange(t,n))},De.unwrapBlockAtRange=function(e,t,n){n=$.createProperties(n);var r=e.value.document,o=r.getBlocksAtRange(t),i=o.map((function(e){return r.getClosest(e.key,(function(e){return"block"==e.object&&((null==n.type||e.type==n.type)&&!(null!=n.data&&!e.data.isSuperset(n.data)))}))})).filter((function(e){return e})).toOrderedSet().toList();e.withoutNormalizing((function(){i.forEach((function(t){var n=t.nodes.first(),i=t.nodes.last(),a=r.getParent(t.key),s=a.nodes.indexOf(t),u=t.nodes.filter((function(e){return o.some((function(t){return e==t||e.hasDescendant(t.key)}))})),c=u.first(),l=u.last();if(n==c&&i==l)t.nodes.forEach((function(t,n){e.moveNodeByKey(t.key,a.key,s+n)})),e.removeNodeByKey(t.key);else if(i==l)t.nodes.skipUntil((function(e){return e==c})).forEach((function(t,n){e.moveNodeByKey(t.key,a.key,s+1+n)}));else if(n==c)t.nodes.takeUntil((function(e){return e==l})).push(l).forEach((function(t,n){e.moveNodeByKey(t.key,a.key,s+n)}));else{var f=c.getFirstText();e.splitDescendantsByKey(t.key,f.key,0),r=e.value.document,u.forEach((function(t,n){if(0==n){var o=t;t=r.getNextBlock(t.key),e.removeNodeByKey(o.key)}e.moveNodeByKey(t.key,a.key,s+1+n)}))}}))}))},De.unwrapInlineAtRange=function(e,t,n){n=$.createProperties(n);var r=e.value.document,o=r.getTextsAtRange(t).map((function(e){return r.getClosest(e.key,(function(e){return"inline"==e.object&&((null==n.type||e.type==n.type)&&!(null!=n.data&&!e.data.isSuperset(n.data)))}))})).filter((function(e){return e})).toOrderedSet().toList();e.withoutNormalizing((function(){o.forEach((function(t){var n=e.value.document.getParent(t.key),r=n.nodes.indexOf(t);t.nodes.forEach((function(t,o){e.moveNodeByKey(t.key,n.key,r+o)})),e.removeNodeByKey(t.key)}))}))},De.wrapBlockAtRange=function(e,t,n){n=(n=G.create(n)).set("nodes",n.nodes.clear());var r=e.value.document,o=r.getBlocksAtRange(t),i=o.first(),a=o.last(),s=void 0,u=void 0,c=void 0;if(1===o.length?(s=r.getParent(i.key),u=o):s=r.getClosest(i.key,(function(e){return!!r.getClosest(a.key,(function(t){return e==t}))})),null==s&&(s=r),null==u){var l=s.nodes.reduce((function(e,t,n){return(t==i||t.hasDescendant(i.key))&&(e[0]=n),(t==a||t.hasDescendant(a.key))&&(e[1]=n),e}),[]);c=l[0],u=s.nodes.slice(l[0],l[1]+1)}null==c&&(c=s.nodes.indexOf(u.first())),e.withoutNormalizing((function(){e.insertNodeByKey(s.key,c,n),u.forEach((function(t,r){e.moveNodeByKey(t.key,n.key,r)}))}))},De.wrapInlineAtRange=function(e,t,n){var r=e.value.document,o=t.start,a=t.end;if(t.isCollapsed){var s=r.getClosestInline(o.key);if(!e.isVoid(s))return;return e.wrapInlineByKey(s.key,n)}n=(n=P.create(n)).set("nodes",n.nodes.clear());var u=r.getBlocksAtRange(t),c=r.getClosestBlock(o.key),l=r.getClosestBlock(a.key),f=r.getClosestInline(o.key),d=r.getClosestInline(a.key),h=c.getFurthestAncestor(o.key),v=l.getFurthestAncestor(a.key);e.withoutNormalizing((function(){f&&f==d||(e.splitDescendantsByKey(v.key,a.key,a.offset),e.splitDescendantsByKey(h.key,o.key,o.offset)),r=e.value.document,c=r.getDescendant(c.key),l=r.getDescendant(l.key),h=c.getFurthestAncestor(o.key),v=l.getFurthestAncestor(a.key);var s=c.nodes.indexOf(h),p=l.nodes.indexOf(v);if(f&&f==d){var y=c.getTextsAtRange(t).get(0).splitText(o.offset)[1].splitText(a.offset-o.offset)[0];n=n.set("nodes",Object(i.List)([y])),e.insertInlineAtRange(t,n);var m=n.getFirstText().key,g={anchor:{key:m,offset:0},focus:{key:m,offset:a.offset-o.offset},isFocused:!0};e.select(g)}else if(c==l){r=e.value.document,c=r.getClosestBlock(o.key),h=c.getFurthestAncestor(o.key);var k=r.getNextSibling(h.key),_=c.nodes.indexOf(k),b=o.key==a.key?k:c.getFurthestAncestor(a.key),w=c.nodes.skipUntil((function(e){return e==k})).takeUntil((function(e){return e==b})).push(b),x=n.regenerateKey();e.insertNodeByKey(c.key,_,x),w.forEach((function(t,n){e.moveNodeByKey(t.key,x.key,n)}))}else{var O=c.nodes.slice(s+1),A=l.nodes.slice(0,p+1),S=n.regenerateKey(),T=n.regenerateKey();e.insertNodeByKey(c.key,s+1,S),e.insertNodeByKey(l.key,p,T),O.forEach((function(t,n){e.moveNodeByKey(t.key,S.key,n)})),A.forEach((function(t,n){e.moveNodeByKey(t.key,T.key,n)})),u.slice(1,-1).forEach((function(t){var r=n.regenerateKey();e.insertNodeByKey(t.key,0,r),t.nodes.forEach((function(t,n){e.moveNodeByKey(t.key,r.key,n)}))}))}}))},De.wrapTextAtRange=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,o=t.start,i=t.end,a=t.moveToStart(),s=t.moveToEnd();o.key==i.key&&(s=s.moveForward(n.length)),e.withoutNormalizing((function(){e.insertTextAtRange(a,n,[]),e.insertTextAtRange(s,r,[])}))};var Re={addMarkByPath:function(e,t,n,r,o){o=D.create(o);var i=e.value,a=i.document.assertNode(t).getLeaves(),s=[],u=n,c=n+r,l=0;a.forEach((function(e){var n=l,r=n+e.text.length;if(l+=e.text.length,!(r<u||c<n)&&!e.marks.has(o)){var a=Math.max(n,u),f=Math.min(r,c);s.push({type:"add_mark",value:i,path:t,offset:a,length:f-a,mark:o})}})),e.applyOperations(s)},insertFragmentByPath:function(e,t,n,r){r.nodes.forEach((function(r,o){e.insertNodeByPath(t,n+o,r)}))},insertNodeByPath:function(e,t,n,r){var o=e.value;e.applyOperation({type:"insert_node",value:o,path:t.concat(n),node:r})},insertTextByPath:function(e,t,n,r,o){var i=e.value,a=i.decorations,s=i.document.assertNode(t);o=o||s.getMarksAtIndex(n);var u=!1,c=s.key,l=a.filter((function(t){var r=t.start,o=t.end,i=t.mark;return!e.isAtomic(i)||(r.key!==c||(!(r.offset<n&&(o.key!==c||o.offset>n))||(u=!0,!1)))}));u&&e.setValue({decorations:l}),e.applyOperation({type:"insert_text",value:i,path:t,offset:n,text:r,marks:o})},mergeNodeByPath:function(e,t){var n=e.value,r=n.document,o=r.getDescendant(t),i=r.getPreviousSibling(t);if(!i)throw new Error('Unable to merge node with path "'+t+'", because it has no previous sibling.');var a="text"==i.object?i.text.length:i.nodes.size;e.applyOperation({type:"merge_node",value:n,path:t,position:a,properties:{type:o.type,data:o.data},target:null})},moveNodeByPath:function(e,t,n,r){var o=e.value;if(ae.isEqual(t,n))return e;e.applyOperation({type:"move_node",value:o,path:t,newPath:n.concat(r)})},removeMarkByPath:function(e,t,n,r,o){o=D.create(o);var i=e.value,a=i.document.assertNode(t).getLeaves(),s=[],u=n,c=n+r,l=0;a.forEach((function(e){var n=l,r=n+e.text.length;if(l+=e.text.length,!(r<u||c<n)&&e.marks.has(o)){var a=Math.max(n,u),f=Math.min(r,c);s.push({type:"remove_mark",value:i,path:t,offset:a,length:f-a,mark:o})}})),e.applyOperations(s)},removeAllMarksByPath:function(e,t){var n=e.state.document.assertNode(t);("text"===n.object?[n]:n.getTextsAsArray()).forEach((function(t){t.getMarksAsArray().forEach((function(n){e.removeMarkByKey(t.key,0,t.text.length,n)}))}))},removeNodeByPath:function(e,t){var n=e.value,r=n.document.assertNode(t);e.applyOperation({type:"remove_node",value:n,path:t,node:r})},removeTextByPath:function(e,t,n,r){var o=e.value,i=o.decorations,a=o.document.assertNode(t),s=a.getLeaves(),u=a.text,c=!1,l=a.key,f=n,d=n+r,h=i.filter((function(t){var n=t.start,r=t.end,o=t.mark;return!e.isAtomic(o)||(n.key!==l||(n.offset<f&&(r.key!==l||r.offset>f)?(c=!0,!1):!(n.offset<d&&(r.key!==l||r.offset>d))||(c=!0,null)))}));c&&e.setValue({decorations:h});var v=[],p=n,y=n+r,m=0;s.forEach((function(e){var n=m,r=n+e.text.length;if(m+=e.text.length,!(r<p||y<n)){var i=Math.max(n,p),a=Math.min(r,y),s=u.slice(i,a);v.push({type:"remove_text",value:o,path:t,offset:i,text:s,marks:e.marks})}})),e.applyOperations(v.reverse())},replaceNodeByPath:function(e,t,n){n=$.create(n);var r=t.last(),o=ae.lift(t);e.withoutNormalizing((function(){e.removeNodeByPath(t),e.insertNodeByPath(o,r,n)}))},replaceTextByPath:function(e,t,n,r,o,i){var a=e.value.document,s=a.assertNode(t);r+n>s.text.length&&(r=s.text.length-n);var u=a.createRange({anchor:{path:t,offset:n},focus:{path:t,offset:n+r}}),c=a.getActiveMarksAtRange(u);e.withoutNormalizing((function(){e.removeTextByPath(t,n,r),i?c&&(c=c.filter((function(e){return!i.find((function(t){return e.type===t.type}))})),i=c.merge(i)):i=c||[],e.insertTextByPath(t,n,o,i)}))},setMarkByPath:function(e,t,n,r,o,i){o=D.create(o),i=D.createProperties(i);var a=e.value;e.applyOperation({type:"set_mark",value:a,path:t,offset:n,length:r,mark:o,properties:i})},setNodeByPath:function(e,t,n){n=$.createProperties(n);var r=e.value,o=r.document.assertNode(t);e.applyOperation({type:"set_node",value:r,path:t,node:o,properties:n})},setTextByPath:function(e,t,n,r){var o=e.value.document.assertNode(t).text.length;e.replaceTextByPath(t,0,o,n,r)},splitNodeByPath:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.target,i=void 0===o?null:o,a=e.value,s=a.document,u=s.getDescendant(t);e.applyOperation({type:"split_node",value:a,path:t,position:n,target:i,properties:{type:u.type,data:u.data}})},splitDescendantsByPath:function(e,t,n,r){if(t.equals(n))e.splitNodeByPath(n,r);else{var o=e.value.document,i=o.assertNode(t),a=o.assertNode(n),s=o.getAncestors(n).skipUntil((function(e){return e.key==i.key})).reverse().unshift(a),u=void 0,c=void 0;e.withoutNormalizing((function(){s.forEach((function(t){var n=null==c?null:c;c=u?t.nodes.indexOf(u)+1:r,u=t,e.splitNodeByKey(t.key,c,{target:n})}))}))}},unwrapInlineByPath:function(e,t,n){var r=e.value,o=r.document,i=r.selection,a=o.assertNode(t),s=a.getFirstText(),u=a.getLastText(),c=i.moveToRangeOfNode(s,u);e.unwrapInlineAtRange(c,n)},unwrapBlockByPath:function(e,t,n){var r=e.value,o=r.document,i=r.selection,a=o.assertNode(t),s=a.getFirstText(),u=a.getLastText(),c=i.moveToRangeOfNode(s,u);e.unwrapBlockAtRange(c,n)},unwrapNodeByPath:function(e,t){var n=e.value.document;n.assertNode(t);var r=ae.lift(t),o=n.assertNode(r),i=t.last(),a=r.last(),s=ae.lift(r),u=0===i,c=i===o.nodes.size-1;e.withoutNormalizing((function(){if(1===o.nodes.size)e.moveNodeByPath(t,s,a+1),e.removeNodeByPath(r);else if(u)e.moveNodeByPath(t,s,a);else if(c)e.moveNodeByPath(t,s,a+1);else{var n=ae.increment(t,1,r.size-1);n=n.set(n.size-1,0),e.splitNodeByPath(r,i),e.moveNodeByPath(n,s,a+1)}}))},unwrapChildrenByPath:function(e,t){t=ae.create(t);var n=e.value.document.assertNode(t),r=ae.lift(t),o=t.last(),i=n.nodes;e.withoutNormalizing((function(){i.reverse().forEach((function(n,a){var s=i.size-a-1,u=t.push(s);e.moveNodeByPath(u,r,o+1)})),e.removeNodeByPath(t)}))},wrapBlockByPath:function(e,t,n){n=(n=G.create(n)).set("nodes",n.nodes.clear());var r=ae.lift(t),o=t.last(),i=ae.increment(t);e.withoutNormalizing((function(){e.insertNodeByPath(r,o,n),e.moveNodeByPath(i,t,0)}))},wrapInlineByPath:function(e,t,n){n=(n=P.create(n)).set("nodes",n.nodes.clear());var r=ae.lift(t),o=t.last(),i=ae.increment(t);e.withoutNormalizing((function(){e.insertNodeByPath(r,o,n),e.moveNodeByPath(i,t,0)}))},wrapNodeByPath:function(e,t,n){"block"===(n=$.create(n)).object?e.wrapBlockByPath(t,n):"inline"===n.object&&e.wrapInlineByPath(t,n)}},Le=function(e){Re[e+"ByKey"]=function(t,n){for(var r=arguments.length,o=Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=t.value,s=a.document,u=s.assertPath(n);t[e+"ByPath"].apply(t,[u].concat(o))}},Me=!0,qe=!1,Ke=void 0;try{for(var Ue,Je=["addMark","insertFragment","insertNode","insertText","mergeNode","removeAllMarks","removeMark","removeNode","removeText","replaceNode","replaceText","setMark","setNode","setText","splitNode","unwrapBlock","unwrapChildren","unwrapInline","unwrapNode","wrapBlock","wrapInline","wrapNode"][Symbol.iterator]();!(Me=(Ue=Je.next()).done);Me=!0){Le(Ue.value)}}catch(jt){qe=!0,Ke=jt}finally{try{!Me&&Je.return&&Je.return()}finally{if(qe)throw Ke}}function Ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function t(t,n,r){var o=t.type,i=t.args,a=e[o];if(!a)return r();n.call.apply(n,[a].concat(N(i)))}function n(t,n){for(var r in e)t.registerCommand(r);return n()}return{onCommand:t,onConstruct:n}}Re.moveNodeByKey=function(e,t,n){for(var r=arguments.length,o=Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];var a=e.value,s=a.document,u=s.assertPath(t),c=s.assertPath(n);e.moveNodeByPath.apply(e,[u,c].concat(o))},Re.splitDescendantsByKey=function(e,t,n){for(var r=arguments.length,o=Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];var a=e.value,s=a.document,u=s.assertPath(t),c=s.assertPath(n);e.splitDescendantsByPath.apply(e,[u,c].concat(o))};var We={};We.save=function(e,t){var n=e.operations,r=e.value.data,o=e.tmp,a=o.save,s=o.merge;if(!1!==a){var u,c,l=r.get("undos")||Object(i.List)(),f=l.last(),d=f&&f.last();if(null==s&&(0!==n.size?s=!0:(u=t,s=!!(c=d)&&("set_selection"===u.type&&"set_selection"===c.type||"insert_text"===u.type&&"insert_text"===c.type&&u.offset===c.offset+c.text.length&&u.path.equals(c.path)||"remove_text"===u.type&&"remove_text"===c.type&&u.offset+u.text.length===c.offset&&u.path.equals(c.path)))),s&&f){var h=f.push(t);l=(l=l.pop()).push(h)}else{var v=Object(i.List)([t]);l=l.push(v)}l.size>100&&(l=l.takeLast(100)),e.withoutSaving((function(){var t=Object(i.List)(),n=r.set("undos",l).set("redos",t);e.setValue({data:n})}))}},We.redo=function(e){var t=e.value.data,n=t.get("redos")||Object(i.List)(),r=t.get("undos")||Object(i.List)(),o=n.last();o&&e.withoutSaving((function(){o.forEach((function(t){var n=t,r=n.type,o=n.properties;"set_selection"===r&&(t=t.set("properties",v()(o,"isFocused"))),e.applyOperation(t)})),n=n.pop(),r=r.push(o);var i=t.set("undos",r).set("redos",n);e.setValue({data:i})}))},We.undo=function(e){var t=e.value.data,n=t.get("redos")||Object(i.List)(),r=t.get("undos")||Object(i.List)(),o=r.last();o&&e.withoutSaving((function(){o.slice().reverse().map((function(e){return e.invert()})).forEach((function(t){var n=t,r=n.type,o=n.properties;"set_selection"===r&&(t=t.set("properties",v()(o,"isFocused"))),e.applyOperation(t)})),n=n.push(o),r=r.pop();var i=t.set("undos",r).set("redos",n);e.setValue({data:i})}))},We.withoutMerging=function(e,t){var n=e.tmp.merge;e.tmp.merge=!1,t(e),e.tmp.merge=n},We.withoutSaving=function(e,t){var n=e.tmp.save;e.tmp.save=!1,t(e),e.tmp.save=n};var He={};function $e(e,t){for(var n,r=arguments.length,o=Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=(n=e.value.selection)[t].apply(n,o);e.select(a)}function Ye(e,t,n,r){var o=t.slice(0,1).toUpperCase()+t.slice(1),i=n.slice(0,1).toUpperCase()+n.slice(1),a=r.slice(0,1).toUpperCase()+r.slice(1),s="move"+o+"To"+i+"OfNode",u="text"==r?"getNode":"getClosest"+a,c=e.value,l=c.document,f=c.selection[t],d=l[u](f.key);d&&e[s](d)}function Ge(e,t,n,r,o){var i=t.slice(0,1).toUpperCase()+t.slice(1),a=n.slice(0,1).toUpperCase()+n.slice(1),s=r.slice(0,1).toUpperCase()+r.slice(1),u=o.slice(0,1).toUpperCase()+o.slice(1),c="move"+i+"To"+a+"OfNode",l="text"==o?"getNode":"getClosest"+u,f="get"+s+u,d=e.value,h=d.document,v=d.selection[t],p=h[l](v.key);if(p){var y=h[f](p.key);y&&e[c](y)}}function Xe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){if(n<0)return Qe(e,t,-n);var r=t.slice(0,1).toUpperCase()+t.slice(1),o=e.editor,i=e.value,a=i.document,s=i.selection,u=s[t],c=a.hasVoidParent(u.path,o);if(!c&&u.offset-n>=0){var l=s["move"+r+"Backward"](n);e.select(l)}else{var f=a.getPreviousText(u.path);if(f){var d=a.getClosestBlock(u.path),h=d.hasNode(f.key),v=f&&a.hasVoidParent(f.key,o);if(e["move"+r+"ToEndOfNode"](f),!c&&!v&&h){var p=e.value.selection["move"+r+"Backward"](n);e.select(p)}}}}}function Qe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){if(n<0)return Xe(e,t,-n);var r=t.slice(0,1).toUpperCase()+t.slice(1),o=e.editor,i=e.value,a=i.document,s=i.selection,u=s[t],c=a.getNode(u.path),l=a.hasVoidParent(u.path,o);if(!l&&u.offset+n<=c.text.length){var f=s["move"+r+"Forward"](n);e.select(f)}else{var d=a.getNextText(u.path);if(d){var h=a.getClosestBlock(u.path),v=h.hasNode(d.key),p=a.hasVoidParent(d.key,o);if(e["move"+r+"ToStartOfNode"](d),!l&&!p&&v){var y=e.value.selection["move"+r+"Forward"](n);e.select(y)}}}}}function Ze(e,t){var n=e.value,r=n.document,o=n.selection[t],i=r.getClosestBlock(o.key),a=i.getOffset(o.key)+o.offset,s=i.text,u=Ie.getWordOffsetBackward(s,a);e.call(Xe,t,u>0?u:1)}function et(e,t){var n=e.value,r=n.document,o=n.selection[t],i=r.getClosestBlock(o.key),a=i.getOffset(o.key)+o.offset,s=i.text,u=Ie.getWordOffsetForward(s,a);e.call(Qe,t,u>0?u:1)}He.blur=function(e){e.select({isFocused:!1})},He.deselect=function(e){var t=ye.create();e.select(t)},He.focus=function(e){e.select({isFocused:!0})},He.flip=function(e){e.call($e,"flip")},He.moveAnchorBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[Xe,"anchor"].concat(n))},He.moveAnchorWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[Ze,"anchor"].concat(n))},He.moveAnchorForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[Qe,"anchor"].concat(n))},He.moveAnchorWordForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[et,"anchor"].concat(n))},He.moveAnchorTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[$e,"moveAnchorTo"].concat(n))},He.moveAnchorToEndOfBlock=function(e){e.call(Ye,"anchor","end","block")},He.moveAnchorToEndOfInline=function(e){e.call(Ye,"anchor","end","inline")},He.moveAnchorToEndOfDocument=function(e){e.moveAnchorToEndOfNode(e.value.document).moveToAnchor()},He.moveAnchorToEndOfNextBlock=function(e){e.call(Ge,"anchor","end","next","block")},He.moveAnchorToEndOfNextInline=function(e){e.call(Ge,"anchor","end","next","inline")},He.moveAnchorToEndOfNextText=function(e){e.call(Ge,"anchor","end","next","text")},He.moveAnchorToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[$e,"moveAnchorToEndOfNode"].concat(n))},He.moveAnchorToEndOfPreviousBlock=function(e){e.call(Ge,"anchor","end","previous","block")},He.moveAnchorToEndOfPreviousInline=function(e){e.call(Ge,"anchor","end","previous","inline")},He.moveAnchorToEndOfPreviousText=function(e){e.call(Ge,"anchor","end","previous","text")},He.moveAnchorToEndOfText=function(e){e.call(Ye,"anchor","end","text")},He.moveAnchorToStartOfBlock=function(e){e.call(Ye,"anchor","start","block")},He.moveAnchorToStartOfDocument=function(e){e.moveAnchorToStartOfNode(e.value.document).moveToAnchor()},He.moveAnchorToStartOfInline=function(e){e.call(Ye,"anchor","start","inline")},He.moveAnchorToStartOfNextBlock=function(e){e.call(Ge,"anchor","start","next","block")},He.moveAnchorToStartOfNextInline=function(e){e.call(Ge,"anchor","start","next","inline")},He.moveAnchorToStartOfNextText=function(e){e.call(Ge,"anchor","start","next","text")},He.moveAnchorToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[$e,"moveAnchorToStartOfNode"].concat(n))},He.moveAnchorToStartOfPreviousBlock=function(e){e.call(Ge,"anchor","start","previous","block")},He.moveAnchorToStartOfPreviousInline=function(e){e.call(Ge,"anchor","start","previous","inline")},He.moveAnchorToStartOfPreviousText=function(e){e.call(Ge,"anchor","start","previous","text")},He.moveAnchorToStartOfText=function(e){e.call(Ye,"anchor","start","text")},He.moveBackward=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=e.moveAnchorBackward.apply(e,r)).moveFocusBackward.apply(t,r)},He.moveWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.moveFocusWordBackward.apply(e,n).moveToFocus()},He.moveEndBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[Xe,"end"].concat(n))},He.moveEndWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[Ze,"end"].concat(n))},He.moveEndForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[Qe,"end"].concat(n))},He.moveEndWordForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[et,"end"].concat(n))},He.moveEndTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[$e,"moveEndTo"].concat(n))},He.moveEndToEndOfBlock=function(e){e.call(Ye,"end","end","block")},He.moveEndToEndOfDocument=function(e){e.moveEndToEndOfNode(e.value.document).moveToEnd()},He.moveEndToEndOfInline=function(e){e.call(Ye,"end","end","inline")},He.moveEndToEndOfNextBlock=function(e){e.call(Ge,"end","end","next","block")},He.moveEndToEndOfNextInline=function(e){e.call(Ge,"end","end","next","inline")},He.moveEndToEndOfNextText=function(e){e.call(Ge,"end","end","next","text")},He.moveEndToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[$e,"moveEndToEndOfNode"].concat(n))},He.moveEndToEndOfPreviousBlock=function(e){e.call(Ge,"end","end","previous","block")},He.moveEndToEndOfPreviousInline=function(e){e.call(Ge,"end","end","previous","inline")},He.moveEndToEndOfPreviousText=function(e){e.call(Ge,"end","end","previous","text")},He.moveEndToEndOfText=function(e){e.call(Ye,"end","end","text")},He.moveEndToStartOfBlock=function(e){e.call(Ye,"end","start","block")},He.moveEndToStartOfDocument=function(e){e.moveEndToStartOfNode(e.value.document).moveToEnd()},He.moveEndToStartOfInline=function(e){e.call(Ye,"end","start","inline")},He.moveEndToStartOfNextBlock=function(e){e.call(Ge,"end","start","next","block")},He.moveEndToStartOfNextInline=function(e){e.call(Ge,"end","start","next","inline")},He.moveEndToStartOfNextText=function(e){e.call(Ge,"end","start","next","text")},He.moveEndToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[$e,"moveEndToStartOfNode"].concat(n))},He.moveEndToStartOfPreviousBlock=function(e){e.call(Ge,"end","start","previous","block")},He.moveEndToStartOfPreviousInline=function(e){e.call(Ge,"end","start","previous","inline")},He.moveEndToStartOfPreviousText=function(e){e.call(Ge,"end","start","previous","text")},He.moveEndToStartOfText=function(e){e.call(Ye,"end","start","text")},He.moveFocusBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[Xe,"focus"].concat(n))},He.moveFocusWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[Ze,"focus"].concat(n))},He.moveFocusForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[Qe,"focus"].concat(n))},He.moveFocusWordForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[et,"focus"].concat(n))},He.moveFocusTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[$e,"moveFocusTo"].concat(n))},He.moveFocusToEndOfBlock=function(e){e.call(Ye,"focus","end","block")},He.moveFocusToEndOfDocument=function(e){e.moveFocusToEndOfNode(e.value.document).moveToFocus()},He.moveFocusToEndOfInline=function(e){e.call(Ye,"focus","end","inline")},He.moveFocusToEndOfNextBlock=function(e){e.call(Ge,"focus","end","next","block")},He.moveFocusToEndOfNextInline=function(e){e.call(Ge,"focus","end","next","inline")},He.moveFocusToEndOfNextText=function(e){e.call(Ge,"focus","end","next","text")},He.moveFocusToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[$e,"moveFocusToEndOfNode"].concat(n))},He.moveFocusToEndOfPreviousBlock=function(e){e.call(Ge,"focus","end","previous","block")},He.moveFocusToEndOfPreviousInline=function(e){e.call(Ge,"focus","end","previous","inline")},He.moveFocusToEndOfPreviousText=function(e){e.call(Ge,"focus","end","previous","text")},He.moveFocusToEndOfText=function(e){e.call(Ye,"focus","end","text")},He.moveFocusToStartOfBlock=function(e){e.call(Ye,"focus","start","block")},He.moveFocusToStartOfDocument=function(e){e.moveFocusToStartOfNode(e.value.document).moveToFocus()},He.moveFocusToStartOfInline=function(e){e.call(Ye,"focus","start","inline")},He.moveFocusToStartOfNextBlock=function(e){e.call(Ge,"focus","start","next","block")},He.moveFocusToStartOfNextInline=function(e){e.call(Ge,"focus","start","next","inline")},He.moveFocusToStartOfNextText=function(e){e.call(Ge,"focus","start","next","text")},He.moveFocusToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[$e,"moveFocusToStartOfNode"].concat(n))},He.moveFocusToStartOfPreviousBlock=function(e){e.call(Ge,"focus","start","previous","block")},He.moveFocusToStartOfPreviousInline=function(e){e.call(Ge,"focus","start","previous","inline")},He.moveFocusToStartOfPreviousText=function(e){e.call(Ge,"focus","start","previous","text")},He.moveFocusToStartOfText=function(e){e.call(Ye,"focus","start","text")},He.moveForward=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=e.moveAnchorForward.apply(e,r)).moveFocusForward.apply(t,r)},He.moveWordForward=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=e.moveFocusWordForward.apply(e,r)).moveToFocus.apply(t,r)},He.moveStartBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[Xe,"start"].concat(n))},He.moveStartWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[Ze,"start"].concat(n))},He.moveStartForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[Qe,"start"].concat(n))},He.moveStartWordForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[et,"start"].concat(n))},He.moveStartTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[$e,"moveStartTo"].concat(n))},He.moveStartToEndOfBlock=function(e){e.call(Ye,"start","end","block")},He.moveStartToEndOfDocument=function(e){e.moveStartToEndOfNode(e.value.document).moveToStart()},He.moveStartToEndOfInline=function(e){e.call(Ye,"start","end","inline")},He.moveStartToEndOfNextBlock=function(e){e.call(Ge,"start","end","next","block")},He.moveStartToEndOfNextInline=function(e){e.call(Ge,"start","end","next","inline")},He.moveStartToEndOfNextText=function(e){e.call(Ge,"start","end","next","text")},He.moveStartToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[$e,"moveStartToEndOfNode"].concat(n))},He.moveStartToEndOfPreviousBlock=function(e){e.call(Ge,"start","end","previous","block")},He.moveStartToEndOfPreviousInline=function(e){e.call(Ge,"start","end","previous","inline")},He.moveStartToEndOfPreviousText=function(e){e.call(Ge,"start","end","previous","text")},He.moveStartToEndOfText=function(e){e.call(Ye,"start","end","text")},He.moveStartToStartOfBlock=function(e){e.call(Ye,"start","start","block")},He.moveStartToStartOfDocument=function(e){e.moveStartToStartOfNode(e.value.document).moveToStart()},He.moveStartToStartOfInline=function(e){e.call(Ye,"start","start","inline")},He.moveStartToStartOfNextBlock=function(e){e.call(Ge,"start","start","next","block")},He.moveStartToStartOfNextInline=function(e){e.call(Ge,"start","start","next","inline")},He.moveStartToStartOfNextText=function(e){e.call(Ge,"start","start","next","text")},He.moveStartToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[$e,"moveStartToStartOfNode"].concat(n))},He.moveStartToStartOfPreviousBlock=function(e){e.call(Ge,"start","start","previous","block")},He.moveStartToStartOfPreviousInline=function(e){e.call(Ge,"start","start","previous","inline")},He.moveStartToStartOfPreviousText=function(e){e.call(Ge,"start","start","previous","text")},He.moveStartToStartOfText=function(e){e.call(Ye,"start","start","text")},He.moveTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[$e,"moveTo"].concat(n))},He.moveToAnchor=function(e){e.call($e,"moveToAnchor")},He.moveToEnd=function(e){e.call($e,"moveToEnd")},He.moveToEndOfBlock=function(e){e.moveEndToEndOfBlock().moveToEnd()},He.moveToEndOfDocument=function(e){e.moveEndToEndOfNode(e.value.document).moveToEnd()},He.moveToEndOfInline=function(e){e.moveEndToEndOfInline().moveToEnd()},He.moveToEndOfNextBlock=function(e){e.moveEndToEndOfNextBlock().moveToEnd()},He.moveToEndOfNextInline=function(e){e.moveEndToEndOfNextInline().moveToEnd()},He.moveToEndOfNextText=function(e){e.moveEndToEndOfNextText().moveToEnd()},He.moveToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[$e,"moveToEndOfNode"].concat(n))},He.moveToEndOfPreviousBlock=function(e){e.moveStartToEndOfPreviousBlock().moveToStart()},He.moveToEndOfPreviousInline=function(e){e.moveStartToEndOfPreviousInline().moveToStart()},He.moveToEndOfPreviousText=function(e){e.moveStartToEndOfPreviousText().moveToStart()},He.moveToEndOfText=function(e){e.moveEndToEndOfText().moveToEnd()},He.moveToFocus=function(e){e.call($e,"moveToFocus")},He.moveToRangeOfDocument=function(e){e.moveToRangeOfNode(e.value.document)},He.moveToRangeOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[$e,"moveToRangeOfNode"].concat(n))},He.moveToStart=function(e){e.call($e,"moveToStart")},He.moveToStartOfBlock=function(e){e.moveStartToStartOfBlock().moveToStart()},He.moveToStartOfDocument=function(e){e.moveStartToStartOfNode(e.value.document).moveToStart()},He.moveToStartOfInline=function(e){e.moveStartToStartOfInline().moveToStart()},He.moveToStartOfNextBlock=function(e){e.moveEndToStartOfNextBlock().moveToEnd()},He.moveToStartOfNextInline=function(e){e.moveEndToStartOfNextInline().moveToEnd()},He.moveToStartOfNextText=function(e){e.moveEndToStartOfNextText().moveToEnd()},He.moveToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[$e,"moveToStartOfNode"].concat(n))},He.moveToStartOfPreviousBlock=function(e){e.moveStartToStartOfPreviousBlock().moveToStart()},He.moveToStartOfPreviousInline=function(e){e.moveStartToStartOfPreviousInline().moveToStart()},He.moveToStartOfPreviousText=function(e){e.moveStartToStartOfPreviousText().moveToStart()},He.moveToStartOfText=function(e){e.moveStartToStartOfText().moveToStart()},He.select=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=ye.createProperties(t);var r=n.snapshot,o=void 0!==r&&r,a=e.value,s=a.document,u=a.selection,c={},l=u.setProperties(t);for(var d in l=s.resolveSelection(l),t=f()(l,Object.keys(t)))!0!==o&&Object(i.is)(t[d],u[d])||(c[d]=t[d]);u.marks&&!c.marks&&(c.anchor||c.focus)&&(c.marks=null),0!==Object.keys(c).length&&e.applyOperation({type:"set_selection",value:a,properties:c,selection:u.toJSON()},o?{skip:!1,merge:!1}:{})},He.setAnchor=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[$e,"setAnchor"].concat(n))},He.setEnd=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[$e,"setEnd"].concat(n))},He.setFocus=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[$e,"setFocus"].concat(n))},He.setStart=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[$e,"setStart"].concat(n))},He.snapshotSelection=function(e){e.withoutMerging((function(){e.select(e.value.selection,{snapshot:!0})}))};var tt={};function nt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function t(t,n){for(var r in e)t.registerQuery(r);return n()}function n(t,n,r){var o=t.type,i=t.args,a=e[o];if(!a)return r();var s=a.apply(void 0,[n].concat(N(i)));return void 0===s?r():s}return{onConstruct:t,onQuery:n}}tt.setValue=function(e,t){t=ge.createProperties(t);var n=e.value;e.applyOperation({type:"set_value",properties:t,value:n})};var rt=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(this,t);var r=T(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));for(var o in r.code=e,n)r[o]=n[o];return Error.captureStackTrace?Error.captureStackTrace(r,r.constructor):r.stack=(new Error).stack,r}return A(t,e),t}(Error);function ot(e){var t=e.rules,n=e.document,r=e.blocks,o=e.inlines,i=e.marks,a=[];if(t&&(a=a.concat(t)),n&&a.push(O({match:[{object:"document"}]},n)),r)for(var s in r)a.push(O({match:[{object:"block",type:s}]},r[s]));if(o)for(var u in o)a.push(O({match:[{object:"inline",type:u}]},o[u]));if(i)for(var c in i)a.push(O({match:[{object:"mark",type:c}]},i[c]));function l(e,t){var n=a.filter((function(t){return it(e,t.match)})),r=at(e,n,a,{every:!0});return r?new rt(r.code,r):t()}return[{normalizeNode:function(e,t){var n=l(e,(function(){}));return n?function(e){var t=n.rule,r=e.operations.size;t.normalize&&t.normalize(e,n),e.operations.size===r&&function(e,t){var n=t.code,r=t.node,o=t.child,i=t.next,a=t.previous,s=t.key,u=t.mark;switch(n){case"child_object_invalid":case"child_type_invalid":case"child_unknown":case"first_child_object_invalid":case"first_child_type_invalid":case"last_child_object_invalid":case"last_child_type_invalid":return"text"===o.object&&"block"===r.object&&1===r.nodes.size?e.removeNodeByKey(r.key):e.removeNodeByKey(o.key);case"previous_sibling_object_invalid":case"previous_sibling_type_invalid":return"text"===a.object&&"block"===r.object&&1===r.nodes.size?e.removeNodeByKey(r.key):e.removeNodeByKey(a.key);case"next_sibling_object_invalid":case"next_sibling_type_invalid":return"text"===i.object&&"block"===r.object&&1===r.nodes.size?e.removeNodeByKey(r.key):e.removeNodeByKey(i.key);case"child_required":case"node_text_invalid":case"parent_object_invalid":case"parent_type_invalid":return"document"===r.object?r.nodes.forEach((function(t){return e.removeNodeByKey(t.key)})):e.removeNodeByKey(r.key);case"node_data_invalid":return void 0===r.data.get(s)&&"document"!==r.object?e.removeNodeByKey(r.key):e.setNodeByKey(r.key,{data:r.data.delete(s)});case"node_mark_invalid":return r.getTexts().forEach((function(t){return e.removeMarkByKey(t.key,0,t.text.length,u)}));default:e.removeNodeByKey(r.key)}}(e,n)}:t()},validateNode:l},nt({isAtomic:function(e,t){var n=a.find((function(e){return"isAtomic"in e&&it(t,e.match)}));return n&&n.isAtomic},isVoid:function(e,t){var n=a.find((function(e){return"isVoid"in e&&it(t,e.match)}));return n&&n.isVoid}})]}function it(e,t){return!at(e,t)}function at(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.every,i=void 0!==o&&o;if(Array.isArray(t)){var a=t.length?t:[{}],s=void 0,u=!0,c=!1,l=void 0;try{for(var f,d=a[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){var h=f.value,v=at(e,h,n);if(s=s||v,i&&v)return v;if(!i&&!v)return}}catch(jt){c=!0,l=jt}finally{try{!u&&d.return&&d.return()}finally{if(c)throw l}}return s}var p=st(e,t)||ut(e,t)||ct(e,t)||lt(e,t)||ft(e,t)||dt(e,t)||ht(e,t)||vt(e,t,n);return p}function st(e,t){if(null!=t.object&&t.object!==e.object&&("function"!==typeof t.object||!t.object(e.object)))return gt("node_object_invalid",{rule:t,node:e})}function ut(e,t){if(null!=t.type&&t.type!==e.type&&("function"!==typeof t.type||!t.type(e.type)))return gt("node_type_invalid",{rule:t,node:e})}function ct(e,t){if(null!=t.data&&null!=e.data){if("function"===typeof t.data){if(t.data(e.data))return;return gt("node_data_invalid",{rule:t,node:e})}for(var n in t.data){var r=t.data[n],o=e.data&&e.data.get(n);if(!("function"===typeof r?r(o):r===o))return gt("node_data_invalid",{rule:t,node:e,key:n,value:o})}}}function lt(e,t){if(null!=t.marks){var n=e.getMarks().toArray(),r=function(n){return t.marks.some((function(e){return"function"===typeof e.type?e.type(n.type):e.type===n.type}))?"continue":{v:gt("node_mark_invalid",{rule:t,node:e,mark:n})}},o=!0,i=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=r(s.value);switch(c){case"continue":continue;default:if("object"===("undefined"===typeof c?"undefined":b(c)))return c.v}}}catch(jt){i=!0,a=jt}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}}}function ft(e,t){if(null!=t.text){var n=e.text;if(!("function"===typeof t.text?t.text(n):t.text.test(n)))return gt("node_text_invalid",{rule:t,node:e,text:n})}}function dt(e,t){if(null!=t.first){var n=e.nodes.first();if(n){var r=at(n,t.first);if(r)return r.rule=t,r.node=e,r.child=n,r.code=r.code.replace("node_","first_child_"),r}}}function ht(e,t){if(null!=t.last){var n=e.nodes.last();if(n){var r=at(n,t.last);if(r)return r.rule=t,r.node=e,r.child=n,r.code=r.code.replace("node_","last_child_"),r}}}function vt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(null!=e.nodes){var r=e.nodes.toArray(),o=null!=t.nodes?t.nodes.slice():[],i=void 0,a=void 0,s=void 0,u=void 0,c=void 0,l=void 0,f=void 0,d=void 0;for(null!=t.nodes&&p();y();){var h=pt(e,l,n)||yt(e,l,f,s,n)||mt(e,l,d,s,n);if(h)return h;if(null!=t.nodes){if(!u)return gt("child_unknown",{rule:t,node:e,child:l,index:s});if(u.match){var v=at(l,u.match);if(v&&i>=a&&p()){m();continue}if(v)return v.rule=t,v.node=e,v.child=l,v.index=s,v.code=v.code.replace("node_","child_"),v}}}if(null!=t.nodes)for(;null!=a;){if(i<a)return gt("child_required",{rule:t,node:e,index:s});p()}}function p(){return i=null==i?null:0,u=o.shift(),a=u&&u.min,c=u&&u.max,!!u}function y(){return i=null==i?0:i+1,f=l,l=r[s=null==s?0:s+1],d=r[s+1],null!=c&&i==c&&p(),!!l}function m(){i-=1,s-=1}}function pt(e,t,n){var r=!0,o=!1,i=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;if(null!=u.parent&&it(t,u.match)){var c=at(e,u.parent);if(c)return c.rule=u,c.parent=e,c.node=t,c.code=c.code.replace("node_","parent_"),c}}}catch(jt){o=!0,i=jt}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}}function yt(e,t,n,r,o){if(n){var i=!0,a=!1,s=void 0;try{for(var u,c=o[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value;if(null!=l.previous&&it(t,l.match)){var f=at(n,l.previous);if(f)return f.rule=l,f.node=e,f.child=t,f.index=r,f.previous=n,f.code=f.code.replace("node_","previous_sibling_"),f}}}catch(jt){a=!0,s=jt}finally{try{!i&&c.return&&c.return()}finally{if(a)throw s}}}}function mt(e,t,n,r,o){if(n){var i=!0,a=!1,s=void 0;try{for(var u,c=o[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value;if(null!=l.next&&it(t,l.match)){var f=at(n,l.next);if(f)return f.rule=l,f.node=e,f.child=t,f.index=r,f.next=n,f.code=f.code.replace("node_","next_sibling_"),f}}}catch(jt){a=!0,s=jt}finally{try{!i&&c.return&&c.return()}finally{if(a)throw s}}}}function gt(e,t){return O({code:e},t)}function kt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.plugins,n=void 0===t?[]:t,r=Ve(O({},Se,De,Re,We,He,tt)),o=nt({isAtomic:function(){return!1},isVoid:function(){return!1}}),i=ot({rules:[{match:{object:"document"},nodes:[{match:{object:"block"}}]},{match:{object:"block",first:{object:"block"}},nodes:[{match:{object:"block"}}]},{match:{object:"block",first:[{object:"inline"},{object:"text"}]},nodes:[{match:[{object:"inline"},{object:"text"}]}]},{match:{object:"inline"},nodes:[{match:[{object:"inline"},{object:"text"}]}]},{match:[{object:"block"},{object:"inline"}],nodes:[{min:1}],normalize:function(e,t){var n=t.code,r=t.node;"child_required"===n&&e.insertNodeByKey(r.key,0,H.create())}},{match:{object:"block"},first:[{object:"block"},{object:"text"}],last:[{object:"block"},{object:"text"}],normalize:function(e,t){var n=t.code,r=t.node,o=H.create(),i=void 0;if("first_child_object_invalid"===n)i=0;else{if("last_child_object_invalid"!==n)return;i=r.nodes.size}e.insertNodeByKey(r.key,i,o)}},{match:{object:"inline"},first:[{object:"block"},{object:"text"}],last:[{object:"block"},{object:"text"}],previous:[{object:"block"},{object:"text"}],next:[{object:"block"},{object:"text"}],normalize:function(e,t){var n=t.code,r=t.node,o=t.index,i=H.create(),a=void 0;if("first_child_object_invalid"===n)a=0;else if("last_child_object_invalid"===n)a=r.nodes.size;else if("previous_sibling_object_invalid"===n)a=o;else{if("next_sibling_object_invalid"!==n)return;a=o+1}e.insertNodeByKey(r.key,a,i)}},{match:{object:"text"},next:[{object:"block"},{object:"inline"}],normalize:function(e,t){var n=t.code,r=t.next;"next_sibling_object_invalid"===n&&e.mergeNodeByKey(r.key)}}]});return[i].concat(N(n),[r,o])}var _t=c()("slate:editor"),bt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(this,e);var r=n.editor,o=void 0===r?this:r,i=t.onChange,a=void 0===i?function(){}:i,s=t.plugins,u=void 0===s?[]:s,c=t.readOnly,l=void 0!==c&&c,f=t.value,d=void 0===f?ge.create():f;this.Change=function(e){function t(){return w(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,e),t}(Ae),this.editor=o,this.middleware={},this.onChange=a,this.readOnly=null,this.value=null,this.tmp={change:null,isChanging:!1};var h=kt({plugins:u});wt(this,h),this.run("onConstruct",this),this.setReadOnly(l),this.setValue(d,n)}return x(e,[{key:"change",value:function(){var e=this.Change,t=this.editor,n=this.value,r=this.tmp.isChanging,o=r?this.tmp.change:new e({value:n,editor:t});try{this.tmp.change=o,this.tmp.isChanging=!0,o.call.apply(o,arguments)}catch(i){throw i}finally{this.tmp.isChanging=r}!0!==r&&0!==o.operations.size&&(this.run("onChange",o),this.value=o.value,this.onChange(o))}},{key:"command",value:function(e){for(var t=this,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];_t("command",{command:e,args:r}),this.change((function(n){var o={type:e,args:r};t.run("onCommand",o,n)}))}},{key:"event",value:function(e,t){var n=this;_t("event",{handler:e,event:t}),this.change((function(r){n.run(e,t,r)}))}},{key:"query",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];_t("query",{query:e,args:n});var o=this.editor,i={type:e,args:n};return this.run("onQuery",i,o)}},{key:"registerCommand",value:function(e){var t=this.Change;t.prototype[e]||(t.prototype[e]=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=this.command.apply(this,[e].concat(n));return o})}},{key:"registerQuery",value:function(e){var t=this.Change;t.prototype[e]||(t.prototype[e]=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=this.query.apply(this,[e].concat(n));return o})}},{key:"run",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this.middleware[e]||[],i=0;function a(){var e=o[i++];if(e){for(var t=arguments.length,r=Array(t),s=0;s<t;s++)r[s]=arguments[s];r.length&&(n=r);var u=e.apply(void 0,N(n).concat([a]));return u}}return Object.defineProperty(a,"change",{get:function(){Object(s.a)(!1,"As of Slate 0.42.0, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(a,"onChange",{get:function(){Object(s.a)(!1,"As of Slate 0.42.0, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(a,"props",{get:function(){Object(s.a)(!1,"As of Slate 0.42.0, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(a,"schema",{get:function(){Object(s.a)(!1,"As of Slate 0.42.0, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(a,"stack",{get:function(){Object(s.a)(!1,"As of Slate 0.42.0, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),a()}},{key:"setReadOnly",value:function(e){return this.readOnly=e,this}},{key:"setValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.normalize,r=void 0===n?e!==this.value:n;return this.value=e,r&&this.change((function(e){return e.normalize()})),this}}]),e}();function wt(e,t){if(Array.isArray(t))t.forEach((function(t){return wt(e,t)}));else{var n=t.commands,r=t.queries,o=t.schema,i=S(t,["commands","queries","schema"]);if(n){var a=Ve(n);wt(e,a)}if(r){var s=nt(r);wt(e,s)}if(o){var u=ot(o);wt(e,u)}for(var c in i){var l=i[c];(e.middleware[c]=e.middleware[c]||[]).push(l)}}}function xt(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,u=!0,c=!1,l=void 0;try{for(var f,d=Object.getOwnPropertyNames(e)[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){var h=f.value;if(!s.hasOwnProperty(h)){var v=Object.getOwnPropertyDescriptor(e,h);Object.defineProperty(s,h,v)}}}catch(jt){c=!0,l=jt}finally{try{!u&&d.return&&d.return()}finally{if(c)throw l}}var p=!0,y=!1,m=void 0;try{for(var g,k=Object.getOwnPropertyNames(e.prototype)[Symbol.iterator]();!(p=(g=k.next()).done);p=!0){var _=g.value;if(!s.prototype.hasOwnProperty(_)){v=Object.getOwnPropertyDescriptor(e.prototype,_);Object.defineProperty(s.prototype,_,v)}}}catch(jt){y=!0,m=jt}finally{try{!p&&k.return&&k.return()}finally{if(y)throw m}}}}catch(jt){r=!0,o=jt}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}}function Ot(e){var t=fe[e],n="is"+(""+e.charAt(0).toUpperCase()+e.slice(1)),r=function(){function t(){w(this,t)}return x(t,[{key:"object",get:function(){return e}}]),t}();return r[n]=de.bind(null,e),r.prototype[t]=!0,r}xt(Ot("block"),[G]),xt(Ot("change"),[Ae]),xt(Ot("decoration"),[le]),xt(Ot("document"),[B]),xt(Ot("editor"),[bt]),xt(Ot("inline"),[P]),xt(Ot("leaf"),[R]),xt(Ot("mark"),[D]),xt(Ot("node"),[$]),xt(Ot("operation"),[xe]),xt(Ot("point"),[ue]),xt(Ot("range"),[ve]),xt(Ot("selection"),[ye]),xt(Ot("text"),[H]),xt(Ot("value"),[ge]),xt(function(){function e(){w(this,e)}return x(e,[{key:"toJS",value:function(){return this.toJSON.apply(this,arguments)}}],[{key:"fromJS",value:function(){return this.fromJSON.apply(this,arguments)}}]),e}(),[G,le,B,P,R,D,$,xe,ue,ve,ye,H,ge]);var At=function(){function e(){w(this,e)}return x(e,[{key:"getFirstText",value:function(){if("text"===this.object)return this;var e=null,t=this.nodes.find((function(t){return"text"===t.object||!!(e=t.getFirstText())}));return e||t}},{key:"getKeysToPathsTable",value:function(){var e,t,n,r=(e={},t=this.key,n=[],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e);return this.nodes&&this.nodes.forEach((function(e,t){var n=e.getKeysToPathsTable();for(var o in n){var i=n[o];a(!(o in r),'A node with a duplicate key of "'+o+'" was found! Duplicate keys are not allowed, you should use `node.regenerateKey` before inserting if you are reusing an existing node.'),r[o]=[t].concat(N(i))}})),r}},{key:"getLastText",value:function(){if("text"===this.object)return this;var e=null,t=this.nodes.findLast((function(t){return"text"==t.object||(e=t.getLastText())}));return e||t}},{key:"getNode",value:function(e){return(e=this.resolvePath(e))?"text"===this.object&&e.size?null:e.size?this.getDescendant(e):this:null}},{key:"getPath",value:function(e){if(i.List.isList(e))return e;var t=this.getKeysToPathsTable()[e];return t?Object(i.List)(t):null}},{key:"getText",value:function(){return("text"===this.object?this.leaves:this.nodes).reduce((function(e,t){return e+t.text}),"")}},{key:"hasNode",value:function(e){return!!this.getNode(e)}},{key:"normalize",value:function(e){return e.run("normalizeNode",this)}},{key:"regenerateKey",value:function(){var e=_.create();return this.set("key",e)}},{key:"resolvePath",value:function(e,t){return"string"===typeof e?(e=this.getPath(e),null!=t&&(e=e.concat(t))):e=ae.create(e),e}},{key:"validate",value:function(e){return e.run("validateNode",this)}},{key:"text",get:function(){return this.getText()}}]),e}();U(At.prototype,["getFirstText","getKeysToPathsTable","getLastText","getText","normalize","validate"]),xt(At,[G,B,P,H]);var St=function(){function e(){w(this,e)}return x(e,[{key:"addMark",value:function(e,t,n,r){var o=this.assertDescendant(e);return e=this.resolvePath(e),o=o.addMark(t,n,r),this.replaceNode(e,o)}},{key:"createDecoration",value:function(e){return e=le.createProperties(e),this.resolveDecoration(e)}},{key:"createPoint",value:function(e){return e=ue.createProperties(e),this.resolvePoint(e)}},{key:"createRange",value:function(e){return e=ve.createProperties(e),this.resolveRange(e)}},{key:"createSelection",value:function(e){return e=ye.createProperties(e),this.resolveSelection(e)}},{key:"filterDescendants",value:function(e){var t=[];return this.forEachDescendant((function(n,r,o){e(n,r,o)&&t.push(n)})),Object(i.List)(t)}},{key:"findDescendant",value:function(e){var t=null;return this.forEachDescendant((function(n,r,o){if(e(n,r,o))return t=n,!1})),t}},{key:"forEachDescendant",value:function(e){var t=void 0;return this.nodes.forEach((function(n,r,o){return!1===e(n,r,o)?(t=!1,!1):"text"!=n.object?t=n.forEachDescendant(e):void 0})),t}},{key:"getActiveMarksAtRange",value:function(e){if((e=this.resolveRange(e)).isUnset)return Object(i.Set)();if(e.isCollapsed){var t=e.start;return this.getMarksAtPosition(t.key,t.offset).toSet()}var n=e,r=n.start,o=n.end,a=r.key,s=r.offset,u=o.key,c=o.offset,l=this.getDescendant(a);if(a!==u){for(;a!==u&&0===c;){var f=this.getPreviousText(u);u=f.key,c=f.text.length}for(;a!==u&&s===l.text.length;)a=(l=this.getNextText(a)).key,s=0}if(a===u)return l.getActiveMarksBetweenOffsets(s,c);var d=l.getActiveMarksBetweenOffsets(s,l.text.length);if(0===d.size)return Object(i.Set)();var h=this.getDescendant(u).getActiveMarksBetweenOffsets(0,c),v=d.intersect(h);if(0===v.size)return v;for(var p=this.getNextText(a);p.key!==u;){if(0!==p.text.length&&0===(v=v.intersect(p.getActiveMarks())).size)return Object(i.Set)();p=this.getNextText(p.key)}return v}},{key:"getAncestors",value:function(e){var t=this;if(!(e=this.resolvePath(e)))return null;var n=[];return e.forEach((function(r,o){var i=e.slice(0,o),a=t.getNode(i);n.push(a)})),Object(i.List)(n)}},{key:"getBlocks",value:function(){var e=this.getBlocksAsArray();return Object(i.List)(e)}},{key:"getBlocksAsArray",value:function(){return this.nodes.reduce((function(e,t){return"block"!=t.object?e:t.isLeafBlock()?(e.push(t),e):e.concat(t.getBlocksAsArray())}),[])}},{key:"getBlocksAtRange",value:function(e){var t=this.getBlocksAtRangeAsArray(e);return Object(i.List)(Object(i.OrderedSet)(t))}},{key:"getBlocksAtRangeAsArray",value:function(e){if((e=this.resolveRange(e)).isUnset)return[];var t=e,n=t.start,r=t.end,o=this.getClosestBlock(n.key);if(n.key===r.key)return[o];var i=this.getClosestBlock(r.key),a=this.getBlocksAsArray(),s=a.indexOf(o),u=a.indexOf(i);return a.slice(s,u+1)}},{key:"getBlocksByType",value:function(e){var t=this.getBlocksByTypeAsArray(e);return Object(i.List)(t)}},{key:"getBlocksByTypeAsArray",value:function(e){return this.nodes.reduce((function(t,n){return"block"!=n.object?t:n.isLeafBlock()&&n.type==e?(t.push(n),t):t.concat(n.getBlocksByTypeAsArray(e))}),[])}},{key:"getChild",value:function(e){return(e=this.resolvePath(e))&&1===e.size?this.nodes.get(e.first()):null}},{key:"getClosest",value:function(e,t){var n=this,r=this.getAncestors(e);return r&&r.findLast((function(e){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return e!==n&&t.apply(void 0,[e].concat(o))}))||null}},{key:"getClosestBlock",value:function(e){return this.getClosest(e,(function(e){return"block"===e.object}))}},{key:"getClosestInline",value:function(e){return this.getClosest(e,(function(e){return"inline"===e.object}))}},{key:"getClosestVoid",value:function(e,t){Object(s.a)(!ge.isValue(t),"As of Slate 0.42.0, the `node.getClosestVoid` method takes an `editor` instead of a `value`.");var n=this.getAncestors(e);return n?n.findLast((function(e){return t.query("isVoid",e)})):null}},{key:"getCommonAncestor",value:function(e,t){if(e=this.resolvePath(e),t=this.resolvePath(t),!e||!t)return null;var n=ae.relate(e,t);return this.getNode(n)}},{key:"getDecorations",value:function(e){Object(s.a)(!ge.isValue(e),"As of Slate 0.42.0, the `node.getDecorations` method takes an `editor` instead of a `value`.");var t=e.run("decorateNode",this)||[];return le.createList(t)}},{key:"getDepth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!(e=this.resolvePath(e)))return null;var n=this.getNode(e),r=n?e.size-1+t:null;return r}},{key:"getDescendant",value:function(e){if(!(e=this.resolvePath(e)))return null;var t=e.flatMap((function(e){return["nodes",e]}));return this.getIn(t)}},{key:"getFragmentAtRange",value:function(e){if((e=this.resolveRange(e)).isUnset)return B.create();for(var t=e,n=t.start,r=t.end,o=this,i=r.path,a=r.offset,s="end";i.size;){var u=i.last();o=o.splitNode(i,a),a=u+1,(i=ae.lift(i)).size||"end"!==s||(i=n.path,a=n.offset,s="start")}var c=n.path.first()+1,l=r.path.first()+2,f=o.nodes.slice(c,l);return B.create({nodes:f})}},{key:"getFurthest",value:function(e,t){var n=this,r=this.getAncestors(e);return r&&r.find((function(e){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return e!==n&&t.apply(void 0,[e].concat(o))}))||null}},{key:"getFurthestAncestor",value:function(e){return(e=this.resolvePath(e))&&e.size?this.nodes.get(e.first()):null}},{key:"getFurthestBlock",value:function(e){return this.getFurthest(e,(function(e){return"block"===e.object}))}},{key:"getFurthestInline",value:function(e){return this.getFurthest(e,(function(e){return"inline"===e.object}))}},{key:"getFurthestOnlyChildAncestor",value:function(e){var t=this.getAncestors(e);return t&&t.rest().reverse().takeUntil((function(e){return e.nodes.size>1})).last()||null}},{key:"getInlines",value:function(){var e=this.getInlinesAsArray();return Object(i.List)(e)}},{key:"getInlinesAsArray",value:function(){var e=[];return this.nodes.forEach((function(t){"text"!=t.object&&(t.isLeafInline()?e.push(t):e=e.concat(t.getInlinesAsArray()))})),e}},{key:"getInlinesAtRange",value:function(e){var t=this.getInlinesAtRangeAsArray(e);return Object(i.List)(Object(i.OrderedSet)(t))}},{key:"getInlinesAtRangeAsArray",value:function(e){var t=this;return(e=this.resolveRange(e)).isUnset?[]:this.getTextsAtRangeAsArray(e).map((function(e){return t.getClosestInline(e.key)})).filter((function(e){return e}))}},{key:"getInlinesByType",value:function(e){var t=this.getInlinesByTypeAsArray(e);return Object(i.List)(t)}},{key:"getInlinesByTypeAsArray",value:function(e){return this.nodes.reduce((function(t,n){return"text"==n.object?t:n.isLeafInline()&&n.type==e?(t.push(n),t):t.concat(n.getInlinesByTypeAsArray(e))}),[])}},{key:"getInsertMarksAtRange",value:function(e){var t=(e=this.resolveRange(e)).start;return e.isUnset?Object(i.Set)():e.isCollapsed?this.getMarksAtPosition(t.key,t.offset):this.getDescendant(t.key).getMarksAtIndex(t.offset+1)}},{key:"getMarks",value:function(){var e=this.getMarksAsArray();return Object(i.Set)(e)}},{key:"getMarksAsArray",value:function(){var e,t=[];return this.nodes.forEach((function(e){t.push(e.getMarksAsArray())})),(e=[]).concat.apply(e,t)}},{key:"getMarksAtPosition",value:function(e,t){var n=this.getDescendant(e).getMarksAtIndex(t);if(0!==t)return n;var r=this.getClosestBlock(e);if(""===r.text)return n;var o=this.getPreviousText(e);return o?r.hasDescendant(o.key)?o.getMarksAtIndex(o.text.length):n:Object(i.Set)()}},{key:"getMarksAtRange",value:function(e){return Object(i.Set)(this.getOrderedMarksAtRange(e))}},{key:"getMarksByType",value:function(e){var t=this.getMarksByTypeAsArray(e);return Object(i.Set)(t)}},{key:"getMarksByTypeAsArray",value:function(e){return this.nodes.reduce((function(t,n){return"text"==n.object?t.concat(n.getMarksAsArray().filter((function(t){return t.type==e}))):t.concat(n.getMarksByTypeAsArray(e))}),[])}},{key:"getNextBlock",value:function(e){var t=this.assertDescendant(e),n=void 0;"block"==t.object?n=t.getLastText():n=this.getClosestBlock(e).getLastText();var r=this.getNextText(n.key);return r?this.getClosestBlock(r.key):null}},{key:"getNextNode",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;for(var t=e.size;t>0;t--){var n=e.slice(0,t),r=ae.increment(n),o=this.getNode(r);if(o)return o}return null}},{key:"getNextSibling",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;var t=ae.increment(e);return this.getNode(t)}},{key:"getNextText",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;var t=this.getNextNode(e);return t?t.getFirstText():null}},{key:"getOffset",value:function(e){this.assertDescendant(e);var t=this.getFurthestAncestor(e),n=this.nodes.takeUntil((function(e){return e==t})).reduce((function(e,t){return e+t.text.length}),0);return this.hasChild(e)?n:n+t.getOffset(e)}},{key:"getOffsetAtRange",value:function(e){if((e=this.resolveRange(e)).isUnset)throw new Error("The range cannot be unset to calculcate its offset.");if(e.isExpanded)throw new Error("The range must be collapsed to calculcate its offset.");var t=e.start;return this.getOffset(t.key)+t.offset}},{key:"getOrderedMarks",value:function(){var e=this.getMarksAsArray();return Object(i.OrderedSet)(e)}},{key:"getOrderedMarksAtRange",value:function(e){var t=e=this.resolveRange(e),n=t.start,r=t.end;return e.isUnset?Object(i.OrderedSet)():e.isCollapsed?this.getMarksAtPosition(n.key,n.offset):this.getOrderedMarksBetweenPositions(n.key,n.offset,r.key,r.offset)}},{key:"getOrderedMarksBetweenPositions",value:function(e,t,n,r){if(e===n)return this.getDescendant(e).getMarksBetweenOffsets(t,r);var o=this.getTextsBetweenPositionsAsArray(e,n);return Object(i.OrderedSet)().withMutations((function(i){o.forEach((function(o){o.key===e?i.union(o.getMarksBetweenOffsets(t,o.text.length)):o.key===n?i.union(o.getMarksBetweenOffsets(0,r)):i.union(o.getMarks())}))}))}},{key:"getOrderedMarksByType",value:function(e){var t=this.getMarksByTypeAsArray(e);return Object(i.OrderedSet)(t)}},{key:"getParent",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;var t=ae.lift(e);return this.getNode(t)}},{key:"getPreviousBlock",value:function(e){var t=this.assertDescendant(e),n=void 0;"block"==t.object?n=t.getFirstText():n=this.getClosestBlock(e).getFirstText();var r=this.getPreviousText(n.key);return r?this.getClosestBlock(r.key):null}},{key:"getPreviousNode",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;for(var t=e.size;t>0;t--){var n=e.slice(0,t);if(0!==n.last()){var r=ae.decrement(n),o=this.getNode(r);if(o)return o}}return null}},{key:"getPreviousSibling",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;if(0===e.last())return null;var t=ae.decrement(e);return this.getNode(t)}},{key:"getPreviousText",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;var t=this.getPreviousNode(e);return t?t.getLastText():null}},{key:"getSelectionIndexes",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.start,r=e.end;if(!t)return null;if(e.isUnset)return null;if(n.key==r.key){var o=this.getFurthestAncestor(n.key),i=o?this.nodes.indexOf(o):null;return{start:i,end:i+1}}var a=null,s=null;return this.nodes.forEach((function(e,t){return"text"==e.object?(null==a&&e.key==n.key&&(a=t),null==s&&e.key==r.key&&(s=t+1)):(null==a&&e.hasDescendant(n.key)&&(a=t),null==s&&e.hasDescendant(r.key)&&(s=t+1)),null==a||null==s})),t&&null==a&&(a=0),t&&null==s&&(s=this.nodes.size),null==a?null:{start:a,end:s}}},{key:"getTextAtOffset",value:function(e){if(0===e)return this.getFirstText();if(e===this.text.length)return this.getLastText();if(e<0||e>this.text.length)return null;var t=0;return this.getTexts().find((function(n,r,o){return(t+=n.text.length)>e}))}},{key:"getTextDirection",value:function(){var e=y()(this.text);return"neutral"===e?null:e}},{key:"getTexts",value:function(){var e=this.getTextsAsArray();return Object(i.List)(e)}},{key:"getTextsAsArray",value:function(){var e=[];return this.nodes.forEach((function(t){"text"==t.object?e.push(t):e=e.concat(t.getTextsAsArray())})),e}},{key:"getTextsAtRange",value:function(e){if((e=this.resolveRange(e)).isUnset)return Object(i.List)();var t=e,n=t.start,r=t.end;return Object(i.List)(this.getTextsBetweenPositionsAsArray(n.key,r.key))}},{key:"getTextsAtRangeAsArray",value:function(e){if((e=this.resolveRange(e)).isUnset)return[];var t=e,n=t.start,r=t.end;return this.getTextsBetweenPositionsAsArray(n.key,r.key)}},{key:"getTextsBetweenPositionsAsArray",value:function(e,t){var n=this.getDescendant(e);if(e==t)return[n];var r=this.getDescendant(t),o=this.getTextsAsArray(),i=o.indexOf(n),a=o.indexOf(r,i);return o.slice(i,a+1)}},{key:"hasBlockChildren",value:function(){return!(!this.nodes||!this.nodes.find((function(e){return"block"===e.object})))}},{key:"hasChild",value:function(e){return!!this.getChild(e)}},{key:"hasInlineChildren",value:function(){return!(!this.nodes||!this.nodes.find((function(e){return"inline"===e.object||"text"===e.object})))}},{key:"hasDescendant",value:function(e){return!!this.getDescendant(e)}},{key:"hasVoidParent",value:function(e,t){return Object(s.a)(!ge.isValue(t),"As of Slate 0.42.0, the `node.hasVoidParent` method takes an `editor` instead of a `value`."),!!this.getClosestVoid(e,t)}},{key:"insertNode",value:function(e,t){var n=(e=this.resolvePath(e)).last(),r=ae.lift(e),o=this.assertNode(r),i=o.nodes.splice(n,0,t);return o=o.set("nodes",i),this.replaceNode(r,o)}},{key:"insertText",value:function(e,t,n,r){var o=this.assertDescendant(e);return e=this.resolvePath(e),o=o.insertText(t,n,r),this.replaceNode(e,o)}},{key:"isLeafBlock",value:function(){var e=this.object,t=this.nodes.first();return"block"===e&&"block"!==t.object}},{key:"isLeafInline",value:function(){var e=this.object,t=this.nodes.first();return"inline"===e&&"inline"!==t.object}},{key:"mapChildren",value:function(e){var t=this,n=this.nodes;return n.forEach((function(r,o){var i=e(r,o,t.nodes);i!==r&&(n=n.set(i.key,i))})),this.set("nodes",n)}},{key:"mapDescendants",value:function(e){var t=this,n=this.nodes;return n.forEach((function(r,o){var i=r;"text"!==i.object&&(i=i.mapDescendants(e)),(i=e(i,o,t.nodes))!==r&&(n=n.set(o,i))})),this.set("nodes",n)}},{key:"mergeNode",value:function(e){var t=this.assertNode(e);if(0===(e=this.resolvePath(e)).last())throw new Error("Unable to merge node because it has no previous sibling: "+t);var n=ae.decrement(e),r=this.assertNode(n);if(r.object!==t.object)throw new Error("Unable to merge two different kinds of nodes: "+r+" and "+t);var o="text"===r.object?r.mergeText(t):r.set("nodes",r.nodes.concat(t.nodes)),i=this;return i=(i=(i=i.removeNode(e)).removeNode(n)).insertNode(n,o)}},{key:"moveNode",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.assertNode(e);e=this.resolvePath(e),t=this.resolvePath(t,n);var o=ae.lift(t);this.assertNode(o);var i=ae.crop(e,t),a=E(i,2),s=a[0],u=a[1],c=ae.compare(s,u);e.size<t.size&&-1===c&&(t=ae.decrement(t,1,s.size-1));var l=this;return l=(l=l.removeNode(e)).insertNode(t,r)}},{key:"removeMark",value:function(e,t,n,r){var o=this.assertDescendant(e);return e=this.resolvePath(e),o=o.removeMark(t,n,r),this.replaceNode(e,o)}},{key:"removeNode",value:function(e){this.assertDescendant(e);var t=(e=this.resolvePath(e)).flatMap((function(e){return["nodes",e]}));return this.deleteIn(t)}},{key:"removeText",value:function(e,t,n){var r=this.assertDescendant(e);return r=r.removeText(t,n.length),this.replaceNode(e,r)}},{key:"replaceNode",value:function(e,t){if(!(e=this.resolvePath(e)))throw new Error("Unable to replace a node because it could not be found in the first place: "+e);if(!e.size)return t;this.assertNode(e);var n=e.flatMap((function(e){return["nodes",e]}));return this.setIn(n,t)}},{key:"resolveDecoration",value:function(e){return e=(e=le.create(e)).normalize(this)}},{key:"resolvePoint",value:function(e){return e=(e=ue.create(e)).normalize(this)}},{key:"resolveRange",value:function(e){return e=(e=ve.create(e)).normalize(this)}},{key:"resolveSelection",value:function(e){return e=(e=ye.create(e)).normalize(this)}},{key:"setNode",value:function(e,t){var n=this.assertNode(e);return n=n.merge(t),this.replaceNode(e,n)}},{key:"setMark",value:function(e,t,n,r,o){var i=this.assertNode(e);return i=i.updateMark(t,n,r,o),this.replaceNode(e,i)}},{key:"splitNode",value:function(e,t,n){var r=this.assertNode(e);e=this.resolvePath(e);var o=void 0,i=void 0;if("text"===r.object){var a=r.splitText(t),s=E(a,2);o=s[0],i=s[1]}else{var u=r.nodes.take(t),c=r.nodes.skip(t);o=r.set("nodes",u),i=r.set("nodes",c).regenerateKey()}n&&"text"!==r.object&&(i=i.merge(n));var l=this;return l=(l=(l=l.removeNode(e)).insertNode(e,i)).insertNode(e,o)}}]),e}(),Tt=function(e){St.prototype["assert"+e]=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=this["get"+e].apply(this,[t].concat(r));if(null==i)throw new Error("`Node.assert"+e+"` could not find node with path or key: "+t);return i}},Et=!0,Nt=!1,Ct=void 0;try{for(var Ft,Bt=["Child","Depth","Descendant","Node","Parent","Path"][Symbol.iterator]();!(Et=(Ft=Bt.next()).done);Et=!0){Tt(Ft.value)}}catch(jt){Nt=!0,Ct=jt}finally{try{!Et&&Bt.return&&Bt.return()}finally{if(Nt)throw Ct}}U(St.prototype,["getBlocksAsArray","getBlocksAtRangeAsArray","getBlocksByTypeAsArray","getDecorations","getFragmentAtRange","getInlinesAsArray","getInlinesAtRangeAsArray","getInlinesByTypeAsArray","getMarksAsArray","getMarksAtPosition","getOrderedMarksBetweenPositions","getInsertMarksAtRange","getMarksByTypeAsArray","getNextBlock","getOffset","getOffsetAtRange","getPreviousBlock","getTextAtOffset","getTextDirection","getTextsAsArray","getTextsBetweenPositionsAsArray"]),xt(St,[G,B,P]),xt(function(){function e(){w(this,e)}return x(e,[{key:"flip",value:function(){return this.setPoints([this.focus,this.anchor])}},{key:"moveForward",value:function(e){return this.updatePoints((function(t){return t.moveForward(e)}))}},{key:"moveBackward",value:function(e){return this.updatePoints((function(t){return t.moveBackward(e)}))}},{key:"moveAnchorBackward",value:function(e){return this.setAnchor(this.anchor.moveBackward(e))}},{key:"moveAnchorForward",value:function(e){return this.setAnchor(this.anchor.moveForward(e))}},{key:"moveAnchorTo",value:function(e,t){return this.setAnchor(this.anchor.moveTo(e,t))}},{key:"moveAnchorToStartOfNode",value:function(e){return this.setAnchor(this.anchor.moveToStartOfNode(e))}},{key:"moveAnchorToEndOfNode",value:function(e){return this.setAnchor(this.anchor.moveToEndOfNode(e))}},{key:"moveEndBackward",value:function(e){return this.setEnd(this.end.moveBackward(e))}},{key:"moveEndForward",value:function(e){return this.setEnd(this.end.moveForward(e))}},{key:"moveEndTo",value:function(e,t){return this.setEnd(this.end.moveTo(e,t))}},{key:"moveEndToStartOfNode",value:function(e){return this.setEnd(this.end.moveToStartOfNode(e))}},{key:"moveEndToEndOfNode",value:function(e){return this.setEnd(this.end.moveToEndOfNode(e))}},{key:"moveFocusBackward",value:function(e){return this.setFocus(this.focus.moveBackward(e))}},{key:"moveFocusForward",value:function(e){return this.setFocus(this.focus.moveForward(e))}},{key:"moveFocusTo",value:function(e,t){return this.setFocus(this.focus.moveTo(e,t))}},{key:"moveFocusToStartOfNode",value:function(e){return this.setFocus(this.focus.moveToStartOfNode(e))}},{key:"moveFocusToEndOfNode",value:function(e){return this.setFocus(this.focus.moveToEndOfNode(e))}},{key:"moveStartBackward",value:function(e){return this.setStart(this.start.moveBackward(e))}},{key:"moveStartForward",value:function(e){return this.setStart(this.start.moveForward(e))}},{key:"moveStartTo",value:function(e,t){return this.setStart(this.start.moveTo(e,t))}},{key:"moveStartToStartOfNode",value:function(e){return this.setStart(this.start.moveToStartOfNode(e))}},{key:"moveStartToEndOfNode",value:function(e){return this.setStart(this.start.moveToEndOfNode(e))}},{key:"moveTo",value:function(e,t){return this.updatePoints((function(n){return n.moveTo(e,t)}))}},{key:"moveToAnchor",value:function(){return this.setFocus(this.anchor)}},{key:"moveToEnd",value:function(){return this.setStart(this.end)}},{key:"moveToEndOfNode",value:function(e){return this.updatePoints((function(t){return t.moveToEndOfNode(e)}))}},{key:"moveToFocus",value:function(){return this.setAnchor(this.focus)}},{key:"moveToRangeOfNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.setPoints([this.anchor.moveToStartOfNode(e),this.focus.moveToEndOfNode(t)]);return n}},{key:"moveToStart",value:function(){return this.setEnd(this.start)}},{key:"moveToStartOfNode",value:function(e){return this.updatePoints((function(t){return t.moveToStartOfNode(e)}))}},{key:"normalize",value:function(e){return this.updatePoints((function(t){return t.normalize(e)}))}},{key:"setAnchor",value:function(e){return this.set("anchor",e)}},{key:"setEnd",value:function(e){return this.isBackward?this.setAnchor(e):this.setFocus(e)}},{key:"setFocus",value:function(e){return this.set("focus",e)}},{key:"setPoints",value:function(e){var t=E(e,2),n=t[0],r=t[1];return this.set("anchor",n).set("focus",r)}},{key:"updatePoints",value:function(e){var t=this.anchor,n=this.focus;return t=e(t),n=e(n),this.merge({anchor:t,focus:n})}},{key:"setStart",value:function(e){return this.isBackward?this.setFocus(e):this.setAnchor(e)}},{key:"setProperties",value:function(e){var t=e=ve.createProperties(e),n=t.anchor,r=t.focus,o=S(t,["anchor","focus"]);return n&&(o.anchor=ue.create(n)),r&&(o.focus=ue.create(r)),this.merge(o)}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e)};return t}},{key:"toRange",value:function(){var e=ve.createProperties(this);return ve.create(e)}},{key:"unset",value:function(){return this.updatePoints((function(e){return e.unset()}))}},{key:"isCollapsed",get:function(){return this.anchor===this.focus||this.anchor.key===this.focus.key&&this.anchor.offset===this.focus.offset}},{key:"isExpanded",get:function(){return!this.isCollapsed}},{key:"isBackward",get:function(){var e=this.isUnset,t=this.anchor,n=this.focus;return e?null:t.key===n.key?t.offset>n.offset:ae.isBefore(n.path,t.path)}},{key:"isForward",get:function(){var e=this.isBackward;return null==e?null:!e}},{key:"isUnset",get:function(){var e=this.anchor,t=this.focus;return e.isUnset||t.isUnset}},{key:"isSet",get:function(){return!this.isUnset}},{key:"start",get:function(){return this.isBackward?this.focus:this.anchor}},{key:"end",get:function(){return this.isBackward?this.anchor:this.focus}}]),e}(),[le,ve,ye])},1410:function(e,t,n){e.exports=function(){"use strict";var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return a(e)?e:K(e)}function r(e){return s(e)?e:U(e)}function o(e){return u(e)?e:J(e)}function i(e){return a(e)&&!c(e)?e:V(e)}function a(e){return!(!e||!e[f])}function s(e){return!(!e||!e[d])}function u(e){return!(!e||!e[h])}function c(e){return s(e)||u(e)}function l(e){return!(!e||!e[v])}t(r,n),t(o,n),t(i,n),n.isIterable=a,n.isKeyed=s,n.isIndexed=u,n.isAssociative=c,n.isOrdered=l,n.Keyed=r,n.Indexed=o,n.Set=i;var f="@@__IMMUTABLE_ITERABLE__@@",d="@@__IMMUTABLE_KEYED__@@",h="@@__IMMUTABLE_INDEXED__@@",v="@@__IMMUTABLE_ORDERED__@@",p={},y={value:!1},m={value:!1};function g(e){return e.value=!1,e}function k(e){e&&(e.value=!0)}function _(){}function b(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),o=0;o<n;o++)r[o]=e[o+t];return r}function w(e){return void 0===e.size&&(e.size=e.__iterate(O)),e.size}function x(e,t){if("number"!==typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?w(e)+t:t}function O(){return!0}function A(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function S(e,t){return E(e,t,0)}function T(e,t){return E(e,t,t)}function E(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var N,C,F,B="function"===typeof Symbol&&Symbol.iterator,j=B||"@@iterator";function P(e){this.next=e}function I(e,t,n,r){var o=0===e?t:1===e?n:[t,n];return r?r.value=o:r={value:o,done:!1},r}function D(){return{value:void 0,done:!0}}function z(e){return!!M(e)}function R(e){return e&&"function"===typeof e.next}function L(e){var t=M(e);return t&&t.call(e)}function M(e){var t=e&&(B&&e[B]||e["@@iterator"]);if("function"===typeof t)return t}function q(e){return e&&"number"===typeof e.length}function K(e){return null===e||void 0===e?X():a(e)?e.toSeq():function(e){var t=ee(e)||"object"===typeof e&&new H(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}(e)}function U(e){return null===e||void 0===e?X().toKeyedSeq():a(e)?s(e)?e.toSeq():e.fromEntrySeq():Q(e)}function J(e){return null===e||void 0===e?X():a(e)?s(e)?e.entrySeq():e.toIndexedSeq():Z(e)}function V(e){return(null===e||void 0===e?X():a(e)?s(e)?e.entrySeq():e:Z(e)).toSetSeq()}function W(e){this._array=e,this.size=e.length}function H(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function $(e){this._iterable=e,this.size=e.length||e.size}function Y(e){this._iterator=e,this._iteratorCache=[]}function G(e){return!(!e||!e["@@__IMMUTABLE_SEQ__@@"])}function X(){return N||(N=new W([]))}function Q(e){var t=Array.isArray(e)?new W(e).fromEntrySeq():R(e)?new Y(e).fromEntrySeq():z(e)?new $(e).fromEntrySeq():"object"===typeof e?new H(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function Z(e){var t=ee(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function ee(e){return q(e)?new W(e):R(e)?new Y(e):z(e)?new $(e):void 0}function te(e,t,n,r){var o=e._cache;if(o){for(var i=o.length-1,a=0;a<=i;a++){var s=o[n?i-a:a];if(!1===t(s[1],r?s[0]:a,e))return a+1}return a}return e.__iterateUncached(t,n)}function ne(e,t,n,r){var o=e._cache;if(o){var i=o.length-1,a=0;return new P((function(){var e=o[n?i-a:a];return a++>i?{value:void 0,done:!0}:I(t,r?e[0]:a-1,e[1])}))}return e.__iteratorUncached(t,n)}function re(e,t){return t?function e(t,n,r,o){return Array.isArray(n)?t.call(o,r,J(n).map((function(r,o){return e(t,r,o,n)}))):ie(n)?t.call(o,r,U(n).map((function(r,o){return e(t,r,o,n)}))):n}(t,e,"",{"":e}):oe(e)}function oe(e){return Array.isArray(e)?J(e).map(oe).toList():ie(e)?U(e).map(oe).toMap():e}function ie(e){return e&&(e.constructor===Object||void 0===e.constructor)}function ae(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if("function"===typeof e.valueOf&&"function"===typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!("function"!==typeof e.equals||"function"!==typeof t.equals||!e.equals(t))}function se(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||s(e)!==s(t)||u(e)!==u(t)||l(e)!==l(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!c(e);if(l(e)){var r=e.entries();return t.every((function(e,t){var o=r.next().value;return o&&ae(o[1],e)&&(n||ae(o[0],t))}))&&r.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"===typeof e.cacheResult&&e.cacheResult();else{o=!0;var i=e;e=t,t=i}var f=!0,d=t.__iterate((function(t,r){if(n?!e.has(t):o?!ae(t,e.get(r,p)):!ae(e.get(r,p),t))return f=!1,!1}));return f&&e.size===d}function ue(e,t){if(!(this instanceof ue))return new ue(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(C)return C;C=this}}function ce(e,t){if(!e)throw new Error(t)}function le(e,t,n){if(!(this instanceof le))return new le(e,t,n);if(ce(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(F)return F;F=this}}function fe(){throw TypeError("Abstract")}function de(){}function he(){}function ve(){}P.prototype.toString=function(){return"[Iterator]"},P.KEYS=0,P.VALUES=1,P.ENTRIES=2,P.prototype.inspect=P.prototype.toSource=function(){return this.toString()},P.prototype[j]=function(){return this},t(K,n),K.of=function(){return K(arguments)},K.prototype.toSeq=function(){return this},K.prototype.toString=function(){return this.__toString("Seq {","}")},K.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},K.prototype.__iterate=function(e,t){return te(this,e,t,!0)},K.prototype.__iterator=function(e,t){return ne(this,e,t,!0)},t(U,K),U.prototype.toKeyedSeq=function(){return this},t(J,K),J.of=function(){return J(arguments)},J.prototype.toIndexedSeq=function(){return this},J.prototype.toString=function(){return this.__toString("Seq [","]")},J.prototype.__iterate=function(e,t){return te(this,e,t,!1)},J.prototype.__iterator=function(e,t){return ne(this,e,t,!1)},t(V,K),V.of=function(){return V(arguments)},V.prototype.toSetSeq=function(){return this},K.isSeq=G,K.Keyed=U,K.Set=V,K.Indexed=J,K.prototype["@@__IMMUTABLE_SEQ__@@"]=!0,t(W,J),W.prototype.get=function(e,t){return this.has(e)?this._array[x(this,e)]:t},W.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(!1===e(n[t?r-o:o],o,this))return o+1;return o},W.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,o=0;return new P((function(){return o>r?{value:void 0,done:!0}:I(e,o,n[t?r-o++:o++])}))},t(H,U),H.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},H.prototype.has=function(e){return this._object.hasOwnProperty(e)},H.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,o=r.length-1,i=0;i<=o;i++){var a=r[t?o-i:i];if(!1===e(n[a],a,this))return i+1}return i},H.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,o=r.length-1,i=0;return new P((function(){var a=r[t?o-i:i];return i++>o?{value:void 0,done:!0}:I(e,a,n[a])}))},H.prototype[v]=!0,t($,J),$.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=L(this._iterable),r=0;if(R(n))for(var o;!(o=n.next()).done&&!1!==e(o.value,r++,this););return r},$.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=L(this._iterable);if(!R(n))return new P(D);var r=0;return new P((function(){var t=n.next();return t.done?t:I(e,r++,t.value)}))},t(Y,J),Y.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,o=this._iteratorCache,i=0;i<o.length;)if(!1===e(o[i],i++,this))return i;for(;!(n=r.next()).done;){var a=n.value;if(o[i]=a,!1===e(a,i++,this))break}return i},Y.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,o=0;return new P((function(){if(o>=r.length){var t=n.next();if(t.done)return t;r[o]=t.value}return I(e,o,r[o++])}))},t(ue,J),ue.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ue.prototype.get=function(e,t){return this.has(e)?this._value:t},ue.prototype.includes=function(e){return ae(this._value,e)},ue.prototype.slice=function(e,t){var n=this.size;return A(e,t,n)?this:new ue(this._value,T(t,n)-S(e,n))},ue.prototype.reverse=function(){return this},ue.prototype.indexOf=function(e){return ae(this._value,e)?0:-1},ue.prototype.lastIndexOf=function(e){return ae(this._value,e)?this.size:-1},ue.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},ue.prototype.__iterator=function(e,t){var n=this,r=0;return new P((function(){return r<n.size?I(e,r++,n._value):{value:void 0,done:!0}}))},ue.prototype.equals=function(e){return e instanceof ue?ae(this._value,e._value):se(e)},t(le,J),le.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},le.prototype.get=function(e,t){return this.has(e)?this._start+x(this,e)*this._step:t},le.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},le.prototype.slice=function(e,t){return A(e,t,this.size)?this:(e=S(e,this.size),(t=T(t,this.size))<=e?new le(0,0):new le(this.get(e,this._end),this.get(t,this._end),this._step))},le.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},le.prototype.lastIndexOf=function(e){return this.indexOf(e)},le.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;i<=n;i++){if(!1===e(o,i,this))return i+1;o+=t?-r:r}return i},le.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;return new P((function(){var a=o;return o+=t?-r:r,i>n?{value:void 0,done:!0}:I(e,i++,a)}))},le.prototype.equals=function(e){return e instanceof le?this._start===e._start&&this._end===e._end&&this._step===e._step:se(this,e)},t(fe,n),t(de,fe),t(he,fe),t(ve,fe),fe.Keyed=de,fe.Indexed=he,fe.Set=ve;var pe="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function ye(e){return e>>>1&1073741824|3221225471&e}function me(e){if(!1===e||null===e||void 0===e)return 0;if("function"===typeof e.valueOf&&(!1===(e=e.valueOf())||null===e||void 0===e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){if(e!==e||e===1/0)return 0;var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return ye(n)}if("string"===t)return e.length>Ae?function(e){var t=Ee[e];return void 0===t&&(t=ge(e),Te===Se&&(Te=0,Ee={}),Te++,Ee[e]=t),t}(e):ge(e);if("function"===typeof e.hashCode)return e.hashCode();if("object"===t)return function(e){var t;if(we&&void 0!==(t=ke.get(e)))return t;if(void 0!==(t=e[Oe]))return t;if(!be){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Oe]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=++xe,1073741824&xe&&(xe=0),we)ke.set(e,t);else{if(void 0!==_e&&!1===_e(e))throw new Error("Non-extensible objects are not allowed as keys.");if(be)Object.defineProperty(e,Oe,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Oe]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Oe]=t}}return t}(e);if("function"===typeof e.toString)return ge(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function ge(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return ye(t)}var ke,_e=Object.isExtensible,be=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),we="function"===typeof WeakMap;we&&(ke=new WeakMap);var xe=0,Oe="__immutablehash__";"function"===typeof Symbol&&(Oe=Symbol(Oe));var Ae=16,Se=255,Te=0,Ee={};function Ne(e){ce(e!==1/0,"Cannot perform this action with an infinite size.")}function Ce(e){return null===e||void 0===e?Je():Fe(e)&&!l(e)?e:Je().withMutations((function(t){var n=r(e);Ne(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Fe(e){return!(!e||!e[je])}t(Ce,de),Ce.of=function(){var t=e.call(arguments,0);return Je().withMutations((function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}}))},Ce.prototype.toString=function(){return this.__toString("Map {","}")},Ce.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Ce.prototype.set=function(e,t){return Ve(this,e,t)},Ce.prototype.setIn=function(e,t){return this.updateIn(e,p,(function(){return t}))},Ce.prototype.remove=function(e){return Ve(this,e,p)},Ce.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return p}))},Ce.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},Ce.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=function e(t,n,r,o){var i=t===p,a=n.next();if(a.done){var s=i?r:t,u=o(s);return u===s?t:u}ce(i||t&&t.set,"invalid keyPath");var c=a.value,l=i?p:t.get(c,p),f=e(l,n,r,o);return f===l?t:f===p?t.remove(c):(i?Je():t).set(c,f)}(this,Yt(e),t,n);return r===p?void 0:r},Ce.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Je()},Ce.prototype.merge=function(){return Ye(this,void 0,arguments)},Ce.prototype.mergeWith=function(t){var n=e.call(arguments,1);return Ye(this,t,n)},Ce.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Je(),(function(e){return"function"===typeof e.merge?e.merge.apply(e,n):n[n.length-1]}))},Ce.prototype.mergeDeep=function(){return Ye(this,Ge,arguments)},Ce.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return Ye(this,Xe(t),n)},Ce.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Je(),(function(e){return"function"===typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]}))},Ce.prototype.sort=function(e){return bt(Rt(this,e))},Ce.prototype.sortBy=function(e,t){return bt(Rt(this,t,e))},Ce.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Ce.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new _)},Ce.prototype.asImmutable=function(){return this.__ensureOwner()},Ce.prototype.wasAltered=function(){return this.__altered},Ce.prototype.__iterator=function(e,t){return new Me(this,e,t)},Ce.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate((function(t){return r++,e(t[1],t[0],n)}),t),r},Ce.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Ue(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Ce.isMap=Fe;var Be,je="@@__IMMUTABLE_MAP__@@",Pe=Ce.prototype;function Ie(e,t){this.ownerID=e,this.entries=t}function De(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function ze(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function Re(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function Le(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function Me(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&Ke(e._root)}function qe(e,t){return I(e,t[0],t[1])}function Ke(e,t){return{node:e,index:0,__prev:t}}function Ue(e,t,n,r){var o=Object.create(Pe);return o.size=e,o._root=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Je(){return Be||(Be=Ue(0))}function Ve(e,t,n){var r,o;if(e._root){var i=g(y),a=g(m);if(r=We(e._root,e.__ownerID,0,void 0,t,n,i,a),!a.value)return e;o=e.size+(i.value?n===p?-1:1:0)}else{if(n===p)return e;o=1,r=new Ie(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=o,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?Ue(o,r):Je()}function We(e,t,n,r,o,i,a,s){return e?e.update(t,n,r,o,i,a,s):i===p?e:(k(s),k(a),new Le(t,r,[o,i]))}function He(e){return e.constructor===Le||e.constructor===Re}function $e(e,t,n,r,o){if(e.keyHash===r)return new Re(t,r,[e.entry,o]);var i,a=31&(0===n?e.keyHash:e.keyHash>>>n),s=31&(0===n?r:r>>>n);return new De(t,1<<a|1<<s,a===s?[$e(e,t,n+5,r,o)]:(i=new Le(t,r,o),a<s?[e,i]:[i,e]))}function Ye(e,t,n){for(var o=[],i=0;i<n.length;i++){var s=n[i],u=r(s);a(s)||(u=u.map((function(e){return re(e)}))),o.push(u)}return Qe(e,t,o)}function Ge(e,t,n){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):ae(e,t)?e:t}function Xe(e){return function(t,n,r){if(t&&t.mergeDeepWith&&a(n))return t.mergeDeepWith(e,n);var o=e(t,n,r);return ae(t,o)?t:o}}function Qe(e,t,n){return 0===(n=n.filter((function(e){return 0!==e.size}))).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var r=t?function(n,r){e.update(r,p,(function(e){return e===p?n:t(e,n,r)}))}:function(t,n){e.set(n,t)},o=0;o<n.length;o++)n[o].forEach(r)})):e.constructor(n[0])}function Ze(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function et(e,t,n,r){var o=r?e:b(e);return o[t]=n,o}Pe[je]=!0,Pe.delete=Pe.remove,Pe.removeIn=Pe.deleteIn,Ie.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(ae(n,o[i][0]))return o[i][1];return r},Ie.prototype.update=function(e,t,n,r,o,i,a){for(var s=o===p,u=this.entries,c=0,l=u.length;c<l&&!ae(r,u[c][0]);c++);var f=c<l;if(f?u[c][1]===o:s)return this;if(k(a),(s||!f)&&k(i),!s||1!==u.length){if(!f&&!s&&u.length>=tt)return function(e,t,n,r){e||(e=new _);for(var o=new Le(e,me(n),[n,r]),i=0;i<t.length;i++){var a=t[i];o=o.update(e,0,void 0,a[0],a[1])}return o}(e,u,r,o);var d=e&&e===this.ownerID,h=d?u:b(u);return f?s?c===l-1?h.pop():h[c]=h.pop():h[c]=[r,o]:h.push([r,o]),d?(this.entries=h,this):new Ie(e,h)}},De.prototype.get=function(e,t,n,r){void 0===t&&(t=me(n));var o=1<<(31&(0===e?t:t>>>e)),i=this.bitmap;return 0===(i&o)?r:this.nodes[Ze(i&o-1)].get(e+5,t,n,r)},De.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=me(r));var s=31&(0===t?n:n>>>t),u=1<<s,c=this.bitmap,l=0!==(c&u);if(!l&&o===p)return this;var f=Ze(c&u-1),d=this.nodes,h=l?d[f]:void 0,v=We(h,e,t+5,n,r,o,i,a);if(v===h)return this;if(!l&&v&&d.length>=nt)return function(e,t,n,r,o){for(var i=0,a=new Array(32),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[i++]:void 0;return a[r]=o,new ze(e,i+1,a)}(e,d,c,s,v);if(l&&!v&&2===d.length&&He(d[1^f]))return d[1^f];if(l&&v&&1===d.length&&He(v))return v;var y=e&&e===this.ownerID,m=l?v?c:c^u:c|u,g=l?v?et(d,f,v,y):function(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var o=new Array(r),i=0,a=0;a<r;a++)a===t&&(i=1),o[a]=e[a+i];return o}(d,f,y):function(e,t,n,r){var o=e.length+1;if(r&&t+1===o)return e[t]=n,e;for(var i=new Array(o),a=0,s=0;s<o;s++)s===t?(i[s]=n,a=-1):i[s]=e[s+a];return i}(d,f,v,y);return y?(this.bitmap=m,this.nodes=g,this):new De(e,m,g)},ze.prototype.get=function(e,t,n,r){void 0===t&&(t=me(n));var o=31&(0===e?t:t>>>e),i=this.nodes[o];return i?i.get(e+5,t,n,r):r},ze.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=me(r));var s=31&(0===t?n:n>>>t),u=o===p,c=this.nodes,l=c[s];if(u&&!l)return this;var f=We(l,e,t+5,n,r,o,i,a);if(f===l)return this;var d=this.count;if(l){if(!f&&--d<rt)return function(e,t,n,r){for(var o=0,i=0,a=new Array(n),s=0,u=1,c=t.length;s<c;s++,u<<=1){var l=t[s];void 0!==l&&s!==r&&(o|=u,a[i++]=l)}return new De(e,o,a)}(e,c,d,s)}else d++;var h=e&&e===this.ownerID,v=et(c,s,f,h);return h?(this.count=d,this.nodes=v,this):new ze(e,d,v)},Re.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(ae(n,o[i][0]))return o[i][1];return r},Re.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=me(r));var s=o===p;if(n!==this.keyHash)return s?this:(k(a),k(i),$e(this,e,t,n,[r,o]));for(var u=this.entries,c=0,l=u.length;c<l&&!ae(r,u[c][0]);c++);var f=c<l;if(f?u[c][1]===o:s)return this;if(k(a),(s||!f)&&k(i),s&&2===l)return new Le(e,this.keyHash,u[1^c]);var d=e&&e===this.ownerID,h=d?u:b(u);return f?s?c===l-1?h.pop():h[c]=h.pop():h[c]=[r,o]:h.push([r,o]),d?(this.entries=h,this):new Re(e,this.keyHash,h)},Le.prototype.get=function(e,t,n,r){return ae(n,this.entry[0])?this.entry[1]:r},Le.prototype.update=function(e,t,n,r,o,i,a){var s=o===p,u=ae(r,this.entry[0]);return(u?o===this.entry[1]:s)?this:(k(a),s?void k(i):u?e&&e===this.ownerID?(this.entry[1]=o,this):new Le(e,this.keyHash,[r,o]):(k(i),$e(this,e,t,me(r),[r,o])))},Ie.prototype.iterate=Re.prototype.iterate=function(e,t){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===e(n[t?o-r:r]))return!1},De.prototype.iterate=ze.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[t?o-r:r];if(i&&!1===i.iterate(e,t))return!1}},Le.prototype.iterate=function(e,t){return e(this.entry)},t(Me,P),Me.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,o=t.index++;if(r.entry){if(0===o)return qe(e,r.entry)}else if(r.entries){if(o<=(n=r.entries.length-1))return qe(e,r.entries[this._reverse?n-o:o])}else if(o<=(n=r.nodes.length-1)){var i=r.nodes[this._reverse?n-o:o];if(i){if(i.entry)return qe(e,i.entry);t=this._stack=Ke(i,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var tt=8,nt=16,rt=8;function ot(e){var t=vt();if(null===e||void 0===e)return t;if(it(e))return e;var n=o(e),r=n.size;return 0===r?t:(Ne(r),r>0&&r<32?ht(0,r,5,null,new ut(n.toArray())):t.withMutations((function(e){e.setSize(r),n.forEach((function(t,n){return e.set(n,t)}))})))}function it(e){return!(!e||!e[at])}t(ot,he),ot.of=function(){return this(arguments)},ot.prototype.toString=function(){return this.__toString("List [","]")},ot.prototype.get=function(e,t){if((e=x(this,e))>=0&&e<this.size){var n=mt(this,e+=this._origin);return n&&n.array[31&e]}return t},ot.prototype.set=function(e,t){return function(e,t,n){if((t=x(e,t))!==t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?gt(e,t).set(0,n):gt(e,0,t+1).set(t,n)}));t+=e._origin;var r=e._tail,o=e._root,i=g(m);return t>=_t(e._capacity)?r=pt(r,e.__ownerID,0,t,n,i):o=pt(o,e.__ownerID,e._level,t,n,i),i.value?e.__ownerID?(e._root=o,e._tail=r,e.__hash=void 0,e.__altered=!0,e):ht(e._origin,e._capacity,e._level,o,r):e}(this,e,t)},ot.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},ot.prototype.insert=function(e,t){return this.splice(e,0,t)},ot.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):vt()},ot.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(n){gt(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])}))},ot.prototype.pop=function(){return gt(this,0,-1)},ot.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){gt(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])}))},ot.prototype.shift=function(){return gt(this,1)},ot.prototype.merge=function(){return kt(this,void 0,arguments)},ot.prototype.mergeWith=function(t){var n=e.call(arguments,1);return kt(this,t,n)},ot.prototype.mergeDeep=function(){return kt(this,Ge,arguments)},ot.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return kt(this,Xe(t),n)},ot.prototype.setSize=function(e){return gt(this,0,e)},ot.prototype.slice=function(e,t){var n=this.size;return A(e,t,n)?this:gt(this,S(e,n),T(t,n))},ot.prototype.__iterator=function(e,t){var n=0,r=dt(this,t);return new P((function(){var t=r();return t===ft?{value:void 0,done:!0}:I(e,n++,t)}))},ot.prototype.__iterate=function(e,t){for(var n,r=0,o=dt(this,t);(n=o())!==ft&&!1!==e(n,r++,this););return r},ot.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?ht(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},ot.isList=it;var at="@@__IMMUTABLE_LIST__@@",st=ot.prototype;function ut(e,t){this.array=e,this.ownerID=t}st[at]=!0,st.delete=st.remove,st.setIn=Pe.setIn,st.deleteIn=st.removeIn=Pe.removeIn,st.update=Pe.update,st.updateIn=Pe.updateIn,st.mergeIn=Pe.mergeIn,st.mergeDeepIn=Pe.mergeDeepIn,st.withMutations=Pe.withMutations,st.asMutable=Pe.asMutable,st.asImmutable=Pe.asImmutable,st.wasAltered=Pe.wasAltered,ut.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&31;if(r>=this.array.length)return new ut([],e);var o,i=0===r;if(t>0){var a=this.array[r];if((o=a&&a.removeBefore(e,t-5,n))===a&&i)return this}if(i&&!o)return this;var s=yt(this,e);if(!i)for(var u=0;u<r;u++)s.array[u]=void 0;return o&&(s.array[r]=o),s},ut.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,o=n-1>>>t&31;if(o>=this.array.length)return this;if(t>0){var i=this.array[o];if((r=i&&i.removeAfter(e,t-5,n))===i&&o===this.array.length-1)return this}var a=yt(this,e);return a.array.splice(o+1),r&&(a.array[o]=r),a};var ct,lt,ft={};function dt(e,t){var n=e._origin,r=e._capacity,o=_t(r),i=e._tail;return a(e._root,e._level,0);function a(e,s,u){return 0===s?function(e,a){var s=a===o?i&&i.array:e&&e.array,u=a>n?0:n-a,c=r-a;return c>32&&(c=32),function(){if(u===c)return ft;var e=t?--c:u++;return s&&s[e]}}(e,u):function(e,o,i){var s,u=e&&e.array,c=i>n?0:n-i>>o,l=1+(r-i>>o);return l>32&&(l=32),function(){for(;;){if(s){var e=s();if(e!==ft)return e;s=null}if(c===l)return ft;var n=t?--l:c++;s=a(u&&u[n],o-5,i+(n<<o))}}}(e,s,u)}}function ht(e,t,n,r,o,i,a){var s=Object.create(st);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function vt(){return ct||(ct=ht(0,0,5))}function pt(e,t,n,r,o,i){var a,s=r>>>n&31,u=e&&s<e.array.length;if(!u&&void 0===o)return e;if(n>0){var c=e&&e.array[s],l=pt(c,t,n-5,r,o,i);return l===c?e:((a=yt(e,t)).array[s]=l,a)}return u&&e.array[s]===o?e:(k(i),a=yt(e,t),void 0===o&&s===a.array.length-1?a.array.pop():a.array[s]=o,a)}function yt(e,t){return t&&e&&t===e.ownerID?e:new ut(e?e.array.slice():[],t)}function mt(e,t){if(t>=_t(e._capacity))return e._tail;if(t<1<<e._level+5){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&31],r-=5;return n}}function gt(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new _,o=e._origin,i=e._capacity,a=o+t,s=void 0===n?i:n<0?i+n:o+n;if(a===o&&s===i)return e;if(a>=s)return e.clear();for(var u=e._level,c=e._root,l=0;a+l<0;)c=new ut(c&&c.array.length?[void 0,c]:[],r),l+=1<<(u+=5);l&&(a+=l,o+=l,s+=l,i+=l);for(var f=_t(i),d=_t(s);d>=1<<u+5;)c=new ut(c&&c.array.length?[c]:[],r),u+=5;var h=e._tail,v=d<f?mt(e,s-1):d>f?new ut([],r):h;if(h&&d>f&&a<i&&h.array.length){for(var p=c=yt(c,r),y=u;y>5;y-=5){var m=f>>>y&31;p=p.array[m]=yt(p.array[m],r)}p.array[f>>>5&31]=h}if(s<i&&(v=v&&v.removeAfter(r,0,s)),a>=d)a-=d,s-=d,u=5,c=null,v=v&&v.removeBefore(r,0,a);else if(a>o||d<f){for(l=0;c;){var g=a>>>u&31;if(g!==d>>>u&31)break;g&&(l+=(1<<u)*g),u-=5,c=c.array[g]}c&&a>o&&(c=c.removeBefore(r,u,a-l)),c&&d<f&&(c=c.removeAfter(r,u,d-l)),l&&(a-=l,s-=l)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=u,e._root=c,e._tail=v,e.__hash=void 0,e.__altered=!0,e):ht(a,s,u,c,v)}function kt(e,t,n){for(var r=[],i=0,s=0;s<n.length;s++){var u=n[s],c=o(u);c.size>i&&(i=c.size),a(u)||(c=c.map((function(e){return re(e)}))),r.push(c)}return i>e.size&&(e=e.setSize(i)),Qe(e,t,r)}function _t(e){return e<32?0:e-1>>>5<<5}function bt(e){return null===e||void 0===e?Ot():wt(e)?e:Ot().withMutations((function(t){var n=r(e);Ne(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function wt(e){return Fe(e)&&l(e)}function xt(e,t,n,r){var o=Object.create(bt.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=n,o.__hash=r,o}function Ot(){return lt||(lt=xt(Je(),vt()))}function At(e,t,n){var r,o,i=e._map,a=e._list,s=i.get(t),u=void 0!==s;if(n===p){if(!u)return e;a.size>=32&&a.size>=2*i.size?(r=(o=a.filter((function(e,t){return void 0!==e&&s!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(r.__ownerID=o.__ownerID=e.__ownerID)):(r=i.remove(t),o=s===a.size-1?a.pop():a.set(s,void 0))}else if(u){if(n===a.get(s)[1])return e;r=i,o=a.set(s,[t,n])}else r=i.set(t,a.size),o=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=o,e.__hash=void 0,e):xt(r,o)}function St(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Tt(e){this._iter=e,this.size=e.size}function Et(e){this._iter=e,this.size=e.size}function Nt(e){this._iter=e,this.size=e.size}function Ct(e){var t=Wt(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=Ht,t.__iterateUncached=function(t,n){var r=this;return e.__iterate((function(e,n){return!1!==t(n,e,r)}),n)},t.__iteratorUncached=function(t,n){if(2===t){var r=e.__iterator(t,n);return new P((function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(1===t?0:1,n)},t}function Ft(e,t,n){var r=Wt(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,o){var i=e.get(r,p);return i===p?o:t.call(n,i,r,e)},r.__iterateUncached=function(r,o){var i=this;return e.__iterate((function(e,o,a){return!1!==r(t.call(n,e,o,a),o,i)}),o)},r.__iteratorUncached=function(r,o){var i=e.__iterator(2,o);return new P((function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return I(r,s,t.call(n,a[1],s,e),o)}))},r}function Bt(e,t){var n=Wt(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Ct(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=Ht,n.__iterate=function(t,n){var r=this;return e.__iterate((function(e,n){return t(e,n,r)}),!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function jt(e,t,n,r){var o=Wt(e);return r&&(o.has=function(r){var o=e.get(r,p);return o!==p&&!!t.call(n,o,r,e)},o.get=function(r,o){var i=e.get(r,p);return i!==p&&t.call(n,i,r,e)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return e.__iterate((function(e,i,u){if(t.call(n,e,i,u))return s++,o(e,r?i:s-1,a)}),i),s},o.__iteratorUncached=function(o,i){var a=e.__iterator(2,i),s=0;return new P((function(){for(;;){var i=a.next();if(i.done)return i;var u=i.value,c=u[0],l=u[1];if(t.call(n,l,c,e))return I(o,r?c:s++,l,i)}}))},o}function Pt(e,t,n,r){var o=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n===1/0?n=o:n|=0),A(t,n,o))return e;var i=S(t,o),a=T(n,o);if(i!==i||a!==a)return Pt(e.toSeq().cacheResult(),t,n,r);var s,u=a-i;u===u&&(s=u<0?0:u);var c=Wt(e);return c.size=0===s?s:e.size&&s||void 0,!r&&G(e)&&s>=0&&(c.get=function(t,n){return(t=x(this,t))>=0&&t<s?e.get(t+i,n):n}),c.__iterateUncached=function(t,n){var o=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,u=!0,c=0;return e.__iterate((function(e,n){if(!u||!(u=a++<i))return c++,!1!==t(e,r?n:c-1,o)&&c!==s})),c},c.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);var o=0!==s&&e.__iterator(t,n),a=0,u=0;return new P((function(){for(;a++<i;)o.next();if(++u>s)return{value:void 0,done:!0};var e=o.next();return r||1===t?e:I(t,u-1,0===t?void 0:e.value[1],e)}))},c}function It(e,t,n,r){var o=Wt(e);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,u=0;return e.__iterate((function(e,i,c){if(!s||!(s=t.call(n,e,i,c)))return u++,o(e,r?i:u-1,a)})),u},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=e.__iterator(2,i),u=!0,c=0;return new P((function(){var e,i,l;do{if((e=s.next()).done)return r||1===o?e:I(o,c++,0===o?void 0:e.value[1],e);var f=e.value;i=f[0],l=f[1],u&&(u=t.call(n,l,i,a))}while(u);return 2===o?e:I(o,i,l,e)}))},o}function Dt(e,t){var n=s(e),o=[e].concat(t).map((function(e){return a(e)?n&&(e=r(e)):e=n?Q(e):Z(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===o.length)return e;if(1===o.length){var i=o[0];if(i===e||n&&s(i)||u(e)&&u(i))return i}var c=new W(o);return n?c=c.toKeyedSeq():u(e)||(c=c.toSetSeq()),(c=c.flatten(!0)).size=o.reduce((function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}}),0),c}function zt(e,t,n){var r=Wt(e);return r.__iterateUncached=function(r,o){var i=0,s=!1;return function e(u,c){var l=this;u.__iterate((function(o,u){return(!t||c<t)&&a(o)?e(o,c+1):!1===r(o,n?u:i++,l)&&(s=!0),!s}),o)}(e,0),i},r.__iteratorUncached=function(r,o){var i=e.__iterator(r,o),s=[],u=0;return new P((function(){for(;i;){var e=i.next();if(!1===e.done){var c=e.value;if(2===r&&(c=c[1]),t&&!(s.length<t)||!a(c))return n?e:I(r,u++,c,e);s.push(i),i=c.__iterator(r,o)}else i=s.pop()}return{value:void 0,done:!0}}))},r}function Rt(e,t,n){t||(t=$t);var r=s(e),o=0,i=e.toSeq().map((function(t,r){return[r,t,o++,n?n(t,r,e):t]})).toArray();return i.sort((function(e,n){return t(e[3],n[3])||e[2]-n[2]})).forEach(r?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),r?U(i):u(e)?J(i):V(i)}function Lt(e,t,n){if(t||(t=$t),n){var r=e.toSeq().map((function(t,r){return[t,n(t,r,e)]})).reduce((function(e,n){return Mt(t,e[1],n[1])?n:e}));return r&&r[0]}return e.reduce((function(e,n){return Mt(t,e,n)?n:e}))}function Mt(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(void 0===n||null===n||n!==n)||r>0}function qt(e,t,r){var o=Wt(e);return o.size=new W(r).map((function(e){return e.size})).min(),o.__iterate=function(e,t){for(var n,r=this.__iterator(1,t),o=0;!(n=r.next()).done&&!1!==e(n.value,o++,this););return o},o.__iteratorUncached=function(e,o){var i=r.map((function(e){return e=n(e),L(o?e.reverse():e)})),a=0,s=!1;return new P((function(){var n;return s||(n=i.map((function(e){return e.next()})),s=n.some((function(e){return e.done}))),s?{value:void 0,done:!0}:I(e,a++,t.apply(null,n.map((function(e){return e.value}))))}))},o}function Kt(e,t){return G(e)?t:e.constructor(t)}function Ut(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Jt(e){return Ne(e.size),w(e)}function Vt(e){return s(e)?r:u(e)?o:i}function Wt(e){return Object.create((s(e)?U:u(e)?J:V).prototype)}function Ht(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):K.prototype.cacheResult.call(this)}function $t(e,t){return e>t?1:e<t?-1:0}function Yt(e){var t=L(e);if(!t){if(!q(e))throw new TypeError("Expected iterable or array-like: "+e);t=L(n(e))}return t}function Gt(e,t){var n,r=function(i){if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var a=Object.keys(e);!function(e,t){try{t.forEach(en.bind(void 0,e))}catch(n){}}(o,a),o.size=a.length,o._name=t,o._keys=a,o._defaultValues=e}this._map=Ce(i)},o=r.prototype=Object.create(Xt);return o.constructor=r,r}t(bt,Ce),bt.of=function(){return this(arguments)},bt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},bt.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},bt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Ot()},bt.prototype.set=function(e,t){return At(this,e,t)},bt.prototype.remove=function(e){return At(this,e,p)},bt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},bt.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],n)}),t)},bt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},bt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?xt(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},bt.isOrderedMap=wt,bt.prototype[v]=!0,bt.prototype.delete=bt.prototype.remove,t(St,U),St.prototype.get=function(e,t){return this._iter.get(e,t)},St.prototype.has=function(e){return this._iter.has(e)},St.prototype.valueSeq=function(){return this._iter.valueSeq()},St.prototype.reverse=function(){var e=this,t=Bt(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},St.prototype.map=function(e,t){var n=this,r=Ft(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},St.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?Jt(this):0,function(o){return e(o,t?--n:n++,r)}),t)},St.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(1,t),r=t?Jt(this):0;return new P((function(){var o=n.next();return o.done?o:I(e,t?--r:r++,o.value,o)}))},St.prototype[v]=!0,t(Tt,J),Tt.prototype.includes=function(e){return this._iter.includes(e)},Tt.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate((function(t){return e(t,r++,n)}),t)},Tt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(1,t),r=0;return new P((function(){var t=n.next();return t.done?t:I(e,r++,t.value,t)}))},t(Et,V),Et.prototype.has=function(e){return this._iter.includes(e)},Et.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){return e(t,t,n)}),t)},Et.prototype.__iterator=function(e,t){var n=this._iter.__iterator(1,t);return new P((function(){var t=n.next();return t.done?t:I(e,t.value,t.value,t)}))},t(Nt,U),Nt.prototype.entrySeq=function(){return this._iter.toSeq()},Nt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){if(t){Ut(t);var r=a(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}}),t)},Nt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(1,t);return new P((function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){Ut(r);var o=a(r);return I(e,o?r.get(0):r[0],o?r.get(1):r[1],t)}}}))},Tt.prototype.cacheResult=St.prototype.cacheResult=Et.prototype.cacheResult=Nt.prototype.cacheResult=Ht,t(Gt,de),Gt.prototype.toString=function(){return this.__toString(Zt(this)+" {","}")},Gt.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},Gt.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},Gt.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=Qt(this,Je()))},Gt.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+Zt(this));if(this._map&&!this._map.has(e)&&t===this._defaultValues[e])return this;var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:Qt(this,n)},Gt.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:Qt(this,t)},Gt.prototype.wasAltered=function(){return this._map.wasAltered()},Gt.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterator(e,t)},Gt.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterate(e,t)},Gt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?Qt(this,t,e):(this.__ownerID=e,this._map=t,this)};var Xt=Gt.prototype;function Qt(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function Zt(e){return e._name||e.constructor.name||"Record"}function en(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){ce(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function tn(e){return null===e||void 0===e?cn():nn(e)&&!l(e)?e:cn().withMutations((function(t){var n=i(e);Ne(n.size),n.forEach((function(e){return t.add(e)}))}))}function nn(e){return!(!e||!e[on])}Xt.delete=Xt.remove,Xt.deleteIn=Xt.removeIn=Pe.removeIn,Xt.merge=Pe.merge,Xt.mergeWith=Pe.mergeWith,Xt.mergeIn=Pe.mergeIn,Xt.mergeDeep=Pe.mergeDeep,Xt.mergeDeepWith=Pe.mergeDeepWith,Xt.mergeDeepIn=Pe.mergeDeepIn,Xt.setIn=Pe.setIn,Xt.update=Pe.update,Xt.updateIn=Pe.updateIn,Xt.withMutations=Pe.withMutations,Xt.asMutable=Pe.asMutable,Xt.asImmutable=Pe.asImmutable,t(tn,ve),tn.of=function(){return this(arguments)},tn.fromKeys=function(e){return this(r(e).keySeq())},tn.prototype.toString=function(){return this.__toString("Set {","}")},tn.prototype.has=function(e){return this._map.has(e)},tn.prototype.add=function(e){return sn(this,this._map.set(e,!0))},tn.prototype.remove=function(e){return sn(this,this._map.remove(e))},tn.prototype.clear=function(){return sn(this,this._map.clear())},tn.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(e){for(var n=0;n<t.length;n++)i(t[n]).forEach((function(t){return e.add(t)}))})):this.constructor(t[0])},tn.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return i(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.every((function(e){return e.includes(n)}))||e.remove(n)}))}))},tn.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return i(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.some((function(e){return e.includes(n)}))&&e.remove(n)}))}))},tn.prototype.merge=function(){return this.union.apply(this,arguments)},tn.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},tn.prototype.sort=function(e){return ln(Rt(this,e))},tn.prototype.sortBy=function(e,t){return ln(Rt(this,t,e))},tn.prototype.wasAltered=function(){return this._map.wasAltered()},tn.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate((function(t,r){return e(r,r,n)}),t)},tn.prototype.__iterator=function(e,t){return this._map.map((function(e,t){return t})).__iterator(e,t)},tn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},tn.isSet=nn;var rn,on="@@__IMMUTABLE_SET__@@",an=tn.prototype;function sn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function un(e,t){var n=Object.create(an);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function cn(){return rn||(rn=un(Je()))}function ln(e){return null===e||void 0===e?pn():fn(e)?e:pn().withMutations((function(t){var n=i(e);Ne(n.size),n.forEach((function(e){return t.add(e)}))}))}function fn(e){return nn(e)&&l(e)}an[on]=!0,an.delete=an.remove,an.mergeDeep=an.merge,an.mergeDeepWith=an.mergeWith,an.withMutations=Pe.withMutations,an.asMutable=Pe.asMutable,an.asImmutable=Pe.asImmutable,an.__empty=cn,an.__make=un,t(ln,tn),ln.of=function(){return this(arguments)},ln.fromKeys=function(e){return this(r(e).keySeq())},ln.prototype.toString=function(){return this.__toString("OrderedSet {","}")},ln.isOrderedSet=fn;var dn,hn=ln.prototype;function vn(e,t){var n=Object.create(hn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function pn(){return dn||(dn=vn(Ot()))}function yn(e){return null===e||void 0===e?wn():mn(e)?e:wn().unshiftAll(e)}function mn(e){return!(!e||!e[kn])}hn[v]=!0,hn.__empty=pn,hn.__make=vn,t(yn,he),yn.of=function(){return this(arguments)},yn.prototype.toString=function(){return this.__toString("Stack [","]")},yn.prototype.get=function(e,t){var n=this._head;for(e=x(this,e);n&&e--;)n=n.next;return n?n.value:t},yn.prototype.peek=function(){return this._head&&this._head.value},yn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):bn(e,t)},yn.prototype.pushAll=function(e){if(0===(e=o(e)).size)return this;Ne(e.size);var t=this.size,n=this._head;return e.reverse().forEach((function(e){t++,n={value:e,next:n}})),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):bn(t,n)},yn.prototype.pop=function(){return this.slice(1)},yn.prototype.unshift=function(){return this.push.apply(this,arguments)},yn.prototype.unshiftAll=function(e){return this.pushAll(e)},yn.prototype.shift=function(){return this.pop.apply(this,arguments)},yn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):wn()},yn.prototype.slice=function(e,t){if(A(e,t,this.size))return this;var n=S(e,this.size);if(T(t,this.size)!==this.size)return he.prototype.slice.call(this,e,t);for(var r=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):bn(r,o)},yn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?bn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},yn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},yn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new P((function(){if(r){var t=r.value;return r=r.next,I(e,n++,t)}return{value:void 0,done:!0}}))},yn.isStack=mn;var gn,kn="@@__IMMUTABLE_STACK__@@",_n=yn.prototype;function bn(e,t,n,r){var o=Object.create(_n);return o.size=e,o._head=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function wn(){return gn||(gn=bn(0))}function xn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}_n[kn]=!0,_n.withMutations=Pe.withMutations,_n.asMutable=Pe.asMutable,_n.asImmutable=Pe.asImmutable,_n.wasAltered=Pe.wasAltered,n.Iterator=P,xn(n,{toArray:function(){Ne(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(t,n){e[n]=t})),e},toIndexedSeq:function(){return new Tt(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"===typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"===typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new St(this,!0)},toMap:function(){return Ce(this.toKeyedSeq())},toObject:function(){Ne(this.size);var e={};return this.__iterate((function(t,n){e[n]=t})),e},toOrderedMap:function(){return bt(this.toKeyedSeq())},toOrderedSet:function(){return ln(s(this)?this.valueSeq():this)},toSet:function(){return tn(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Et(this)},toSeq:function(){return u(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return yn(s(this)?this.valueSeq():this)},toList:function(){return ot(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var t=e.call(arguments,0);return Kt(this,Dt(this,t))},includes:function(e){return this.some((function(t){return ae(t,e)}))},entries:function(){return this.__iterator(2)},every:function(e,t){Ne(this.size);var n=!0;return this.__iterate((function(r,o,i){if(!e.call(t,r,o,i))return n=!1,!1})),n},filter:function(e,t){return Kt(this,jt(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return Ne(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Ne(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate((function(r){n?n=!1:t+=e,t+=null!==r&&void 0!==r?r.toString():""})),t},keys:function(){return this.__iterator(0)},map:function(e,t){return Kt(this,Ft(this,e,t))},reduce:function(e,t,n){var r,o;return Ne(this.size),arguments.length<2?o=!0:r=t,this.__iterate((function(t,i,a){o?(o=!1,r=t):r=e.call(n,r,t,i,a)})),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Kt(this,Bt(this,!0))},slice:function(e,t){return Kt(this,Pt(this,e,t,!0))},some:function(e,t){return!this.every(En(e),t)},sort:function(e){return Kt(this,Rt(this,e))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return w(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,n){var r=Ce().asMutable();return e.__iterate((function(o,i){r.update(t.call(n,o,i,e),0,(function(e){return e+1}))})),r.asImmutable()}(this,e,t)},equals:function(e){return se(this,e)},entrySeq:function(){var e=this;if(e._cache)return new W(e._cache);var t=e.toSeq().map(Tn).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(En(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate((function(n,o,i){if(e.call(t,n,o,i))return r=[o,n],!1})),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(O)},flatMap:function(e,t){return Kt(this,function(e,t,n){var r=Vt(e);return e.toSeq().map((function(o,i){return r(t.call(n,o,i,e))})).flatten(!0)}(this,e,t))},flatten:function(e){return Kt(this,zt(this,e,!0))},fromEntrySeq:function(){return new Nt(this)},get:function(e,t){return this.find((function(t,n){return ae(n,e)}),void 0,t)},getIn:function(e,t){for(var n,r=this,o=Yt(e);!(n=o.next()).done;){var i=n.value;if((r=r&&r.get?r.get(i,p):p)===p)return t}return r},groupBy:function(e,t){return function(e,t,n){var r=s(e),o=(l(e)?bt():Ce()).asMutable();e.__iterate((function(i,a){o.update(t.call(n,i,a,e),(function(e){return(e=e||[]).push(r?[a,i]:i),e}))}));var i=Vt(e);return o.map((function(t){return Kt(e,i(t))}))}(this,e,t)},has:function(e){return this.get(e,p)!==p},hasIn:function(e){return this.getIn(e,p)!==p},isSubset:function(e){return e="function"===typeof e.includes?e:n(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"===typeof e.isSubset?e:n(e)).isSubset(this)},keyOf:function(e){return this.findKey((function(t){return ae(t,e)}))},keySeq:function(){return this.toSeq().map(Sn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Lt(this,e)},maxBy:function(e,t){return Lt(this,t,e)},min:function(e){return Lt(this,e?Nn(e):Bn)},minBy:function(e,t){return Lt(this,t?Nn(t):Bn,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return Kt(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return Kt(this,It(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(En(e),t)},sortBy:function(e,t){return Kt(this,Rt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return Kt(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return Kt(this,function(e,t,n){var r=Wt(e);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var a=0;return e.__iterate((function(e,o,s){return t.call(n,e,o,s)&&++a&&r(e,o,i)})),a},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var a=e.__iterator(2,o),s=!0;return new P((function(){if(!s)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var o=e.value,u=o[0],c=o[1];return t.call(n,c,u,i)?2===r?e:I(r,u,c,e):(s=!1,{value:void 0,done:!0})}))},r}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(En(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=l(e),n=s(e),r=t?1:0;return function(e,t){return t=pe(t,3432918353),t=pe(t<<15|t>>>-15,461845907),t=pe(t<<13|t>>>-13,5),t=pe((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=ye((t=pe(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(n?t?function(e,t){r=31*r+jn(me(e),me(t))|0}:function(e,t){r=r+jn(me(e),me(t))|0}:t?function(e){r=31*r+me(e)|0}:function(e){r=r+me(e)|0}),r)}(this))}});var On=n.prototype;On[f]=!0,On[j]=On.values,On.__toJS=On.toArray,On.__toStringMapper=Cn,On.inspect=On.toSource=function(){return this.toString()},On.chain=On.flatMap,On.contains=On.includes,xn(r,{flip:function(){return Kt(this,Ct(this))},mapEntries:function(e,t){var n=this,r=0;return Kt(this,this.toSeq().map((function(o,i){return e.call(t,[i,o],r++,n)})).fromEntrySeq())},mapKeys:function(e,t){var n=this;return Kt(this,this.toSeq().flip().map((function(r,o){return e.call(t,r,o,n)})).flip())}});var An=r.prototype;function Sn(e,t){return t}function Tn(e,t){return[t,e]}function En(e){return function(){return!e.apply(this,arguments)}}function Nn(e){return function(){return-e.apply(this,arguments)}}function Cn(e){return"string"===typeof e?JSON.stringify(e):String(e)}function Fn(){return b(arguments)}function Bn(e,t){return e<t?1:e>t?-1:0}function jn(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return An[d]=!0,An[j]=On.entries,An.__toJS=On.toObject,An.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+Cn(e)},xn(o,{toKeyedSeq:function(){return new St(this,!1)},filter:function(e,t){return Kt(this,jt(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return Kt(this,Bt(this,!1))},slice:function(e,t){return Kt(this,Pt(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=S(e,e<0?this.count():this.size);var r=this.slice(0,e);return Kt(this,1===n?r:r.concat(b(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(e){return Kt(this,zt(this,e,!1))},get:function(e,t){return(e=x(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,n){return n===e}),void 0,t)},has:function(e){return(e=x(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Kt(this,function(e,t){var n=Wt(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return e.__iterate((function(e,r){return(!i||!1!==n(t,i++,o))&&!1!==n(e,i++,o)}),r),i},n.__iteratorUncached=function(n,r){var o,i=e.__iterator(1,r),a=0;return new P((function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?I(n,a++,t):I(n,a++,o.value,o)}))},n}(this,e))},interleave:function(){var e=[this].concat(b(arguments)),t=qt(this.toSeq(),J.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),Kt(this,n)},keySeq:function(){return le(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return Kt(this,It(this,e,t,!1))},zip:function(){var e=[this].concat(b(arguments));return Kt(this,qt(this,Fn,e))},zipWith:function(e){var t=b(arguments);return t[0]=this,Kt(this,qt(this,e,t))}}),o.prototype[h]=!0,o.prototype[v]=!0,xn(i,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=On.includes,i.prototype.contains=i.prototype.includes,xn(U,r.prototype),xn(J,o.prototype),xn(V,i.prototype),xn(de,r.prototype),xn(he,o.prototype),xn(ve,i.prototype),{Iterable:n,Seq:K,Collection:fe,Map:Ce,OrderedMap:bt,List:ot,Stack:yn,Set:tn,OrderedSet:ln,Record:Gt,Range:le,Repeat:ue,is:ae,fromJS:re}}()},1427:function(e,t,n){var r;!function(){"use strict";var o=!("undefined"===typeof window||!window.document||!window.document.createElement),i={canUseDOM:o,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen};void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},1449:function(e,t){var n=1e3,r=6e4,o=60*r,i=24*o;function a(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,t){t=t||{};var s=typeof e;if("string"===s&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===s&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=i)return a(e,t,i,"day");if(t>=o)return a(e,t,o,"hour");if(t>=r)return a(e,t,r,"minute");if(t>=n)return a(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=i)return Math.round(e/i)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},1464:function(e,t,n){"use strict";var r=n(1403),o=n(1522),i=n.n(o),a=n(141),s=n(1525);function u(e){var t=JSON.stringify(e);return Object(s.btoa)(encodeURIComponent(t))}function c(e){var t=decodeURIComponent(Object(s.atob)(e));return JSON.parse(t)}var l={deserialize:function(e,t){var n=c(e);return r.n.fromJSON(n,t)},deserializeNode:function(e,t){var n=c(e);return r.i.fromJSON(n,t)},serialize:function(e,t){return u(e.toJSON(t))},serializeNode:function(e,t){return u(e.toJSON(t))}},f=n(1410),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.delimiter,o=void 0===n?"\n":n;return"document"===e.object||"block"===e.object&&r.a.isBlockList(e.nodes)?e.nodes.map(h).join(o):e.text}var v={deserialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.defaultBlock,o=void 0===n?"line":n,i=t.defaultMarks,a=void 0===i?[]:i,s=t.delimiter,u=void 0===s?"\n":s,c=t.toJSON,l=void 0!==c&&c;f.Set.isSet(a)&&(a=a.toArray()),o=r.i.createProperties(o),a=a.map(r.h.createProperties);var h={object:"value",document:{object:"document",data:{},nodes:e.split(u).map((function(e){return d({},o,{object:"block",data:{},nodes:[{object:"text",leaves:[{object:"leaf",text:e,marks:a}]}]})}))}},v=l?h:r.n.fromJSON(h);return v},serialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h(e.document,t)}},p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y="object"===("undefined"===typeof window?"undefined":p(window))&&"object"===("undefined"===typeof document?"undefined":p(document))&&9===document.nodeType,m=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},g=void 0;if(y){var k=!0,_=!1,b=void 0;try{for(var w,x=[["edge",/Edge\/([0-9\._]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+)\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["android",/Android\s([0-9\.]+)/],["safari",/Version\/([0-9\._]+).*Safari/]][Symbol.iterator]();!(k=(w=x.next()).done);k=!0){var O=w.value,A=m(O,2),S=A[0];if(A[1].test(window.navigator.userAgent)){g=S;break}}}catch(zt){_=!0,b=zt}finally{try{!k&&x.return&&x.return()}finally{if(_)throw b}}}var T=void 0;if(y){var E=!0,N=!1,C=void 0;try{for(var F,B=[["ios",/os ([\.\_\d]+) like mac os/i],["macos",/mac os x/i],["android",/android/i],["firefoxos",/mozilla\/[a-z\.\_\d]+ \((?:mobile)|(?:tablet)/i],["windows",/windows\s*(?:nt)?\s*([\.\_\d]+)/i]][Symbol.iterator]();!(E=(F=B.next()).done);E=!0){var j=F.value,P=m(j,2),I=P[0];if(P[1].test(window.navigator.userAgent)){T=I;break}}}catch(zt){N=!0,C=zt}finally{try{!E&&B.return&&B.return()}finally{if(N)throw C}}}var D=[];if(y){var z=!0,R=!1,L=void 0;try{for(var M,q=[["inputeventslevel1",function(e){return"inputType"in(e.InputEvent?new e.InputEvent("input"):{})}],["inputeventslevel2",function(e){var t=e.document.createElement("div");return t.contentEditable=!0,"onbeforeinput"in t}]][Symbol.iterator]();!(z=(M=q.next()).done);z=!0){var K=M.value,U=m(K,2),J=U[0];(0,U[1])(window)&&D.push(J)}}catch(zt){R=!0,L=zt}finally{try{!z&&q.return&&q.return()}finally{if(R)throw L}}}var V=[[/^9([.]0|)/,28],[/^8[.]1/,27],[/^8([.]0|)/,26],[/^7[.]1/,25],[/^7([.]0|)/,24],[/^6([.]0|)/,23],[/^5[.]1/,22],[/^5([.]0|)/,21],[/^4[.]4/,20]];var W="firefox"===g,H="safari"===g,$="ie"===g,Y="edge"===g,G="android"===T,X="ios"===T,Q="macos"===T,Z=function(){if("android"!==T)return null;var e=window.navigator.userAgent.match(/Android\s([0-9\.]+)/);if(null==e)return null;var t=e[1],n=!0,r=!1,o=void 0;try{for(var i,a=V[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,u=m(s,2),c=u[0],l=u[1];if(t.match(c))return l}}catch(zt){r=!0,o=zt}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return null}(),ee=(D.includes("inputeventslevel1"),D.includes("inputeventslevel2")||G&&(28===Z||null===Z)),te=n(1526),ne=n.n(te),re=n(1528),oe={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"},ie={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},ae={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:"ctrl+y"},se={},ue=X||Q,ce=!ue;[].concat(Object.keys(oe)).concat(Object.keys(ie)).concat(Object.keys(ae)).forEach((function(e){var t="is"+e[0].toUpperCase()+e.slice(1);if(!se[t]){var n=oe[e],r=ie[e],o=ae[e],i=n&&Object(re.isKeyHotkey)(n),a=r&&Object(re.isKeyHotkey)(r),s=o&&Object(re.isKeyHotkey)(o);se[t]=function(e){return!(!i||!i(e))||(!!(ue&&a&&a(e))||!!(ce&&s&&s(e)))}}}));var le=se,fe=n(51),de=n.n(fe),he=n(0),ve=n.n(he),pe=n(2),ye=n.n(pe);function me(e,t){function n(n,r,o,i,a){var s=r[o];return null!=s||n?null==s&&n?new Error("The "+a+" `"+o+"` is marked as required in `"+i+"`, but it was not supplied."):t(s)?null:new Error("Invalid "+a+" `"+o+"` supplied to `"+i+"`, expected a Slate `"+e+"` but received: "+s):null}function r(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(void 0,[!1].concat(t))}return r.isRequired=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(void 0,[!0].concat(t))},r}var ge={block:me("Block",(function(e){return r.a.isBlock(e)})),blocks:me("List<Block>",(function(e){return r.a.isBlockList(e)})),change:me("Change",(function(e){return r.b.isChange(e)})),data:me("Data",(function(e){return r.c.isData(e)})),document:me("Document",(function(e){return r.d.isDocument(e)})),inline:me("Inline",(function(e){return r.f.isInline(e)})),inlines:me("Inline",(function(e){return r.f.isInlineList(e)})),leaf:me("Leaf",(function(e){return r.g.isLeaf(e)})),leaves:me("List<Leaf>",(function(e){return r.g.isLeafList(e)})),mark:me("Mark",(function(e){return r.h.isMark(e)})),marks:me("Set<Mark>",(function(e){return r.h.isMarkSet(e)})),node:me("Node",(function(e){return r.i.isNode(e)})),nodes:me("List<Node>",(function(e){return r.i.isNodeList(e)})),range:me("Range",(function(e){return r.k.isRange(e)})),ranges:me("List<Range>",(function(e){return r.k.isRangeList(e)})),selection:me("Selection",(function(e){return r.l.isSelection(e)})),value:me("Value",(function(e){return r.n.isValue(e)})),text:me("Text",(function(e){return r.m.isText(e)})),texts:me("List<Text>",(function(e){return r.m.isTextList(e)}))},ke=n(1529),_e=n.n(ke),be=function(e,t){0},we=n(1530),xe=n.n(we),Oe=n(286),Ae=n.n(Oe),Se=function(e,t){return e===t};var Te=function(e,t){var n;void 0===t&&(t=Se);var r,o=[],i=!1,a=function(e,n){return t(e,o[n],n)};return function(){for(var t=arguments.length,s=new Array(t),u=0;u<t;u++)s[u]=arguments[u];return i&&n===this&&s.length===o.length&&s.every(a)||(r=e.apply(this,s),i=!0,n=this,o=s),r}};n.d(t,"a",(function(){return It}));var Ee=["onBeforeInput","onBlur","onClick","onContextMenu","onCompositionEnd","onCompositionStart","onCopy","onCut","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onInput","onFocus","onKeyDown","onKeyUp","onPaste","onSelect"],Ne={FRAGMENT:"application/x-slate-fragment",HTML:"text/html",NODE:"application/x-slate-node",RICH:"text/rtf",TEXT:"text/plain"};function Ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;r.i.isNode(e)&&(e=e.key);var n=t.document.querySelector('[data-key="'+e+'"]');if(!n)throw new Error('Unable to find a DOM node for "'+e+'". This is often because of forgetting to add `props.attributes` to a custom component.');return n}function Fe(e){var t=window.document;if(t&&t.body.createTextRange){var n=t.body.createTextRange();n.collapse(),n.select()}else e.removeAllRanges()}var Be=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},je=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ie=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},De=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},ze=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(zt){o=!0,i=zt}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Re=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},Le=/^([\w-]+)(?::(\d+))?$/;var Me={parse:function(e){var t=Le.exec(e);if(!t)throw new Error('Invalid offset key string "'+e+'".');var n=ze(t,3),r=(n[0],n[1]),o=n[2];return{key:r,index:parseInt(o,10)}},stringify:function(e){return e.key+":"+e.index}};function qe(e,t,n){Object(a.a)(!r.n.isValue(n),"As of Slate 0.42.0, the `findPoint` utility takes an `editor` instead of a `value`.");var o=function(e,t){if(1==e.nodeType&&e.childNodes.length){var n=t==e.childNodes.length,r=n?"backward":"forward";for(e=Ke(e,n?t-1:t,r);1==e.nodeType&&e.childNodes.length;){var o=n?e.childNodes.length-1:0;e=Ke(e,o,r)}t=n?e.textContent.length:0}return{node:e,offset:t}}(e,t),s=o.node,u=o.offset,c=i()(e),l=s.parentNode,f=l.closest("[data-offset-key]"),d=void 0,h=void 0;if(f){var v=c.document.createRange(),p=f.closest("[data-key]");v.setStart(p,0),v.setEnd(s,u),h=p,d=v.toString().length}else{var y=l.closest("[data-slate-void]");if(!y)return null;if(!(f=y.querySelector("[data-offset-key]")))return null;d=(h=f).textContent.length}d==h.textContent.length&&l.hasAttribute("data-slate-zero-width")&&d--;var m=f.getAttribute("data-offset-key");if(!m)return null;var g=Me.parse(m).key,k=n.value;return k.document.hasDescendant(g)?k.document.createPoint({key:g,offset:d}):null}function Ke(e,t,n){for(var r=e.childNodes,o=r[t],i=t,a=!1,s=!1;(8==o.nodeType||1==o.nodeType&&0==o.childNodes.length||1==o.nodeType&&"false"==o.getAttribute("contenteditable"))&&(!a||!s);)i>=r.length?(a=!0,i=t-1,n="backward"):i<0?(s=!0,i=t+1,n="forward"):(o=r[i],"forward"==n&&i++,"backward"==n&&i--);return o||null}var Ue=Ne.FRAGMENT,Je=Ne.HTML,Ve=Ne.TEXT;function We(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};Object(a.a)(!r.n.isValue(t),"As of Slate 0.42.0, the `cloneFragment` utility takes an `editor` instead of a `value`.");var o=i()(e.target),s=o.getSelection(),u=t.value,c=u.document,f=u.fragment,d=u.selection,h=d.start,p=d.end,y=c.getClosestVoid(h.key,t),m=c.getClosestVoid(p.key,t);if(!s.isCollapsed||y){var g=l.serializeNode(f),k=s.getRangeAt(0),_=k.cloneContents(),b=_.childNodes[0];if(_.childNodes.forEach((function(e){e.textContent&&""!==e.textContent.trim()&&(b=e)})),m){var w=k.cloneRange(),x=Ce(m,o);w.setEndAfter(x),_=w.cloneContents()}if(y&&(b=_.childNodes[0].childNodes[1].firstChild),[].slice.call(_.querySelectorAll("[data-slate-zero-width]")).forEach((function(e){var t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""})),3==b.nodeType){var O=o.document.createElement("span");O.style.whiteSpace="pre",O.appendChild(b),_.appendChild(O),b=O}b.setAttribute("data-slate-fragment",g);var A=r.n.create({document:f}),S=v.serialize(A),T=o.document.createElement("div");if(T.appendChild(_),e.clipboardData&&e.clipboardData.setData&&!$)return e.preventDefault(),e.clipboardData.setData(Ve,S),e.clipboardData.setData(Ue,g),e.clipboardData.setData(Je,T.innerHTML),void n();var E=e.target.closest("[data-slate-editor]");T.setAttribute("contenteditable",!0),T.style.position="absolute",T.style.left="-9999px",E.appendChild(T),s.selectAllChildren(T),o.requestAnimationFrame((function(){E.removeChild(T),Fe(s),s.addRange(k),n()}))}}function He(e,t){Object(a.a)(!r.n.isValue(t),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`.");var n=e.closest("[data-key]");if(!n)return null;var o=n.getAttribute("data-key");return o&&t.value.document.getNode(o)||null}function $e(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=Ce(e.key,t),r=0,o=void 0,i=t.document.createNodeIterator(n,NodeFilter.SHOW_TEXT,(function(){return NodeFilter.FILTER_ACCEPT}),!1);o=i.nextNode();){var a=o.textContent.length,s=r+a;if(e.offset<=s){var u=e.offset-r;return{node:o,offset:u>=0?u:0}}r=s}return null}function Ye(e,t){Object(a.a)(!r.n.isValue(t),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`.");var n=e.anchorNode||e.startContainer;if(!n)return null;var o=i()(n);(e instanceof o.Range||o.StaticRange&&e instanceof o.StaticRange)&&(e={anchorNode:e.startContainer,anchorOffset:e.startOffset,focusNode:e.endContainer,focusOffset:e.endOffset});var s=e,u=s.anchorNode,c=s.anchorOffset,l=s.focusNode,f=s.focusOffset,d=s.isCollapsed,h=t.value,v=qe(u,c,t),p=d?v:qe(l,f,t);if(!v||!p)return null;if($||Y){var y=$e(v),m=$e(p);e={anchorNode:y.node,anchorOffset:y.offset,focusNode:m.node,focusOffset:m.offset}}return h.document.createRange({anchor:v,focus:p})}function Ge(e,t){Object(a.a)(!r.n.isValue(t),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`."),e.nativeEvent&&(e=e.nativeEvent);var n=e,o=n.x,s=n.y,u=n.target;if(null==o||null==s)return null;var c=t.value.document,l=He(u,t);if(!l)return null;if(t.query("isVoid",l)){var f=u.getBoundingClientRect(),d="inline"==l.object?o-f.left<f.left+f.width-o:s-f.top<f.top+f.height-s,h=l.getFirstText(),v=c.createRange();if(d){var p=c.getPreviousText(h.key);if(p)return v.moveToEndOfNode(p)}var y=c.getNextText(h.key);return y?v.moveToStartOfNode(y):null}var m=i()(u),g=void 0;if(m.document.caretRangeFromPoint)g=m.document.caretRangeFromPoint(o,s);else if(m.document.caretPositionFromPoint){var k=m.document.caretPositionFromPoint(o,s);(g=m.document.createRange()).setStart(k.offsetNode,k.offset),g.setEnd(k.offsetNode,k.offset)}else if(m.document.body.createTextRange){g=m.document.body.createTextRange();try{g.moveToPoint(o,s)}catch(b){return null}}var _=Ye(g,t);return _||null}var Xe=Ne.FRAGMENT,Qe=Ne.HTML,Ze=Ne.NODE,et=Ne.RICH,tt=Ne.TEXT,nt=/ data-slate-fragment="([^\s"]+)"/;function rt(e){!$&&e.nativeEvent&&(e=e.nativeEvent);var t=e.dataTransfer||e.clipboardData,n=ot(t,Xe),r=ot(t,Ze),o=ot(t,Qe),i=ot(t,et),a=ot(t,tt),s=void 0;if(!n&&o&&~o.indexOf(' data-slate-fragment="')){var u=nt.exec(o),c=ze(u,2),f=(c[0],c[1]);f&&(n=f)}if(a){var d=function(e){var t="SLATE-DATA-EMBED::";if(e.substring(0,t.length)!=t)return{TEXT:e};try{return JSON.parse(e.substring(t.length))}catch(zt){throw new Error("Unable to parse custom Slate drag event data.")}}(a);d[Xe]&&(n=d[Xe]),d[Ze]&&(r=d[Ze]),d[tt]&&(a=d[tt])}n&&(n=l.deserializeNode(n)),r&&(r=l.deserializeNode(r));try{t.items&&t.items.length?s=Array.from(t.items).map((function(e){return"file"==e.kind?e.getAsFile():null})).filter((function(e){return e})):t.files&&t.files.length&&(s=Array.from(t.files))}catch(zt){t.files&&t.files.length&&(s=Array.from(t.files))}var h={files:s,fragment:n,html:o,node:r,rich:i,text:a};return h.type=function(e){return e.fragment?"fragment":e.node?"node":e.rich&&e.html?"html":e.rich&&e.text?"text":e.files&&e.files.length?"files":e.html?"html":e.text?"text":"unknown"}(h),h}function ot(e,t){return e.types&&e.types.length?-1!==Array.from(e.types).indexOf(t)&&e.getData(t)||null:t==tt&&e.getData("Text")||null}var it=Ne.TEXT;function at(e,t,n){var r=Ne[t.toUpperCase()];if(!r)throw new Error('Cannot set unknown transfer type "'+r+'".');e.nativeEvent&&(e=e.nativeEvent);var o=e.dataTransfer||e.clipboardData;try{o.setData(r,n),o.setData("text",o.getData("text"))}catch(zt){var i="SLATE-DATA-EMBED::",a=o.getData(it),s={};if(a.substring(0,i.length)===i)try{s=JSON.parse(a.substring(i.length))}catch(c){throw new Error("Failed to parse Slate data from `DataTransfer` object.")}else s[it]=a;s[r]=n;var u=""+i+JSON.stringify(s);o.setData(it,u)}}var st=ne()("slate:after");function ut(){var e=null;return{onBeforeInput:function(e,t,n){var r=t.editor,o=t.value;if(!!e.nativeEvent)return e.preventDefault(),t.insertText(e.data),n();var i=e.getTargetRanges(),a=ze(i,1)[0];if(!a)return n();st("onBeforeInput",{event:e}),e.preventDefault();var s=o.document,u=o.selection,c=Ye(a,r);switch(e.inputType){case"deleteByDrag":case"deleteByCut":case"deleteContent":case"deleteContentBackward":case"deleteContentForward":t.deleteAtRange(c);break;case"deleteWordBackward":t.deleteWordBackwardAtRange(c);break;case"deleteWordForward":t.deleteWordForwardAtRange(c);break;case"deleteSoftLineBackward":case"deleteHardLineBackward":t.deleteLineBackwardAtRange(c);break;case"deleteSoftLineForward":case"deleteHardLineForward":t.deleteLineForwardAtRange(c);break;case"insertLineBreak":case"insertParagraph":s.hasVoidParent(u.start.path,r)?t.moveToStartOfNextText():t.splitBlockAtRange(c);break;case"insertFromYank":case"insertReplacementText":case"insertText":var l=null==e.data?e.dataTransfer.getData("text/plain"):e.data;if(null==l)break;t.insertTextAtRange(c,l,u.marks),u.marks&&o.document!=t.value.document&&t.select({marks:null})}n()},onBlur:function(e,t,n){st("onBlur",{event:e}),t.blur(),n()},onClick:function(e,t,n){var r=t.editor;if(r.readOnly)return n();var o=r.value.document,i=He(e.target,r);if(!i)return n();st("onClick",{event:e});var a=o.getAncestors(i.key);i&&(t.isVoid(i)||a.some((function(e){return t.isVoid(e)})))&&t.focus().moveToEndOfNode(i),n()},onCopy:function(e,t,n){st("onCopy",{event:e}),We(e,t.editor),n()},onCut:function(e,t,n){st("onCut",{event:e});var r=t.editor;We(e,r,(function(){var e=t.value,n=e.endBlock,o=e.endInline,i=e.selection.isCollapsed,a=n&&t.isVoid(n)&&i,s=o&&t.isVoid(o)&&i;a?r.change((function(e){return e.removeNodeByKey(n.key)})):s?r.change((function(e){return e.removeNodeByKey(o.key)})):r.change((function(e){return e.delete()}))})),n()},onDragEnd:function(t,n,r){st("onDragEnd",{event:t}),e=null,r()},onDragStart:function(t,n,r){st("onDragStart",{event:t}),e=!0;var o=n.editor,i=o.value,a=i.document,s=He(t.target,o),u=a.getAncestors(s.key),c=s&&(n.isVoid(s)||u.some((function(e){return n.isVoid(e)}))),f=i.blocks.some((function(e){return e.key===s.key}));c&&!f&&n.moveToRangeOfNode(s);var d=n.value.fragment;at(t,"fragment",l.serializeNode(d)),r()},onDrop:function(t,n,r){var o=n.editor,a=n.value,s=a.document,u=a.selection,c=i()(t.target),l=Ge(t,o);if(!l)return r();st("onDrop",{event:t});var f=rt(t),d=f.type,h=f.fragment,v=f.text;if(n.focus(),e&&u.end.key==l.end.key&&u.end.offset<l.end.offset&&(l=l.moveForward(u.start.key==u.end.key?0-u.end.offset+u.start.offset:0-u.end.offset)),e&&n.delete(),n.select(l),"text"==d||"html"==d){var p=l.anchor,y=s.hasVoidParent(p.key,o);if(y){for(var m=s.getNode(p.key);y&&(m=s.getNextText(m.key));)y=s.hasVoidParent(m.key,o);m&&n.moveToStartOfNode(m)}v&&v.split("\n").forEach((function(e,t){t>0&&n.splitBlock(),n.insertText(e)}))}"fragment"==d&&n.insertFragment(h);var g=Ce(s.getNode(l.focus.key),c);g&&g.dispatchEvent(new MouseEvent("mouseup",{view:c,bubbles:!0,cancelable:!0})),r()},onInput:function(e,t,n){var r=i()(e.target),o=t.editor,a=t.value,s=r.getSelection().anchorNode,u=qe(s,0,o);if(!u)return n();var c=a.document,l=a.selection,f=c.getDescendant(u.key),d=c.getClosestBlock(f.key),h=f.getLeaves(),v=d.getLastText(),p=h.last(),y=0,m=0,g=h.find((function(e){if(y=m,(m+=e.text.length)>u.offset)return!0}))||p,k=g.text,_=s.textContent,b=f==v,w=g==p,x=_.charAt(_.length-1);if(b&&w&&"\n"==x&&(_=_.slice(0,-1)),_==k)return n();st("onInput",{event:e});var O=_.length-k.length,A=l.moveToEnd().moveForward(O),S=l.moveAnchorTo(u.key,y).moveFocusTo(u.key,m);S=c.resolveRange(S),t.insertTextAtRange(S,_,g.marks).select(A),n()},onKeyDown:function(e,t,n){st("onKeyDown",{event:e});var r=t.editor,o=t.value,i=o.document,a=o.selection,s=i.hasVoidParent(a.start.path,r);if(le.isSplitBlock(e)&&!X)return s?t.moveToStartOfNextText():t.splitBlock();if(le.isDeleteBackward(e)&&!X)return t.deleteCharBackward();if(le.isDeleteForward(e)&&!X)return t.deleteCharForward();if(le.isDeleteLineBackward(e))return t.deleteLineBackward();if(le.isDeleteLineForward(e))return t.deleteLineForward();if(le.isDeleteWordBackward(e))return t.deleteWordBackward();if(le.isDeleteWordForward(e))return t.deleteWordForward();if(le.isRedo(e))return t.redo();if(le.isUndo(e))return t.undo();if(le.isMoveLineBackward(e))return e.preventDefault(),t.moveToStartOfBlock();if(le.isMoveLineForward(e))return e.preventDefault(),t.moveToEndOfBlock();if(le.isExtendLineBackward(e))return e.preventDefault(),t.moveFocusToStartOfBlock();if(le.isExtendLineForward(e))return e.preventDefault(),t.moveFocusToEndOfBlock();if(le.isMoveBackward(e))return e.preventDefault(),a.isCollapsed?t.moveBackward():t.moveToStart();if(le.isMoveForward(e))return e.preventDefault(),a.isCollapsed?t.moveForward():t.moveToEnd();if(le.isMoveWordBackward(e))return e.preventDefault(),t.moveWordBackward();if(le.isMoveWordForward(e))return e.preventDefault(),t.moveWordForward();if(le.isExtendBackward(e)){var u=o.previousText,c=o.startText,l=u&&i.hasVoidParent(u.key,r);if(s||l||""==c.text)return e.preventDefault(),t.moveFocusBackward()}if(le.isExtendForward(e)){var f=o.nextText,d=o.startText,h=f&&i.hasVoidParent(f.key,r);if(s||h||""==d.text)return e.preventDefault(),t.moveFocusForward()}n()},onPaste:function(e,t,n){st("onPaste",{event:e});var r=t.value,o=rt(e),i=o.type,a=o.fragment,s=o.text;if("fragment"==i&&t.insertFragment(a),"text"==i||"html"==i){if(!s)return n();var u=r.document,c=r.selection,l=r.startBlock;if(t.isVoid(l))return n();var f=l,d=u.getInsertMarksAtRange(c),h=v.deserialize(s,{defaultBlock:f,defaultMarks:d}).document;t.insertFragment(h)}n()},onSelect:function(e,t,n){st("onSelect",{event:e});var r=i()(e.target),o=t.editor,a=t.value,s=a.document,u=r.getSelection();if(u.rangeCount){var c=Ye(u,o);if(c){var l=c,f=l.anchor,d=l.focus,h=s.getNode(f.key),v=s.getNode(d.key),p=s.getClosestInline(f.key),y=s.getClosestInline(d.key),m=s.getClosestBlock(d.key),g=s.getClosestBlock(f.key);if(g&&!t.isVoid(g)&&0==f.offset&&m&&t.isVoid(m)&&0!=d.offset&&(c=c.setFocus(d.setOffset(0))),p&&!t.isVoid(p)&&f.offset==h.text.length){var k=s.getClosestBlock(f.key).getNextText(f.key);k&&(c=c.moveAnchorTo(k.key,0))}if(y&&!t.isVoid(y)&&d.offset==v.text.length){var _=s.getClosestBlock(d.key).getNextText(d.key);_&&(c=c.moveFocusTo(_.key,0))}var b=s.createSelection(c);b=(b=b.setIsFocused(!0)).set("marks",a.selection.marks),t.select(b),n()}}else t.blur()}}}var ct=ne()("slate:before");function lt(){var e=null,t=0,n=!1,r=!1,o=!1;return{onBeforeInput:function(e,t,n){var r=t.editor,o=!!e.nativeEvent;r.readOnly||o&&ee||(ct("onBeforeInput",{event:e}),n())},onBlur:function(t,n,o){var a=n.editor;if(!r&&!a.readOnly){var s=t.relatedTarget,u=t.target,c=i()(u);if(e!==c.document.activeElement){if(s){var l=de.a.findDOMNode(a);if(s===l)return;if(s.hasAttribute("data-slate-spacer"))return;var f=He(s,a);if(l.contains(s)&&f&&!n.isVoid(f))return}ct("onBlur",{event:t}),o()}}},onClick:function(e,t,n){ct("onClick",{event:e}),n()},onCompositionEnd:function(e,r,o){var i=r.editor,a=t;window.requestAnimationFrame((function(){t>a||(n=!1,i.state.isComposing&&i.setState({isComposing:!1}))})),ct("onCompositionEnd",{event:e}),o()},onCompositionStart:function(e,r,o){n=!0,t++;var i=r.editor;i.state.isComposing||i.setState({isComposing:!0}),r.value.selection.isCollapsed||r.delete(),ct("onCompositionStart",{event:e}),o()},onCopy:function(e,t,n){var o=i()(e.target);r=!0,o.requestAnimationFrame((function(){return r=!1})),ct("onCopy",{event:e}),n()},onCut:function(e,t,n){if(!t.editor.readOnly){var o=i()(e.target);r=!0,o.requestAnimationFrame((function(){return r=!1})),ct("onCut",{event:e}),n()}},onDragEnd:function(e,t,n){o=!1,ct("onDragEnd",{event:e}),n()},onDragEnter:function(e,t,n){ct("onDragEnter",{event:e}),n()},onDragExit:function(e,t,n){ct("onDragExit",{event:e}),n()},onDragLeave:function(e,t,n){ct("onDragLeave",{event:e}),n()},onDragOver:function(e,t,n){var r=t.editor,i=He(e.target,r);t.isVoid(i)&&e.preventDefault(),$&&e.preventDefault(),o||(o=!0,$||(e.nativeEvent.dataTransfer.dropEffect="move")),ct("onDragOver",{event:e}),n()},onDragStart:function(e,t,n){o=!0,ct("onDragStart",{event:e}),n()},onDrop:function(e,t,n){t.editor.readOnly||(e.preventDefault(),ct("onDrop",{event:e}),n())},onFocus:function(t,n,o){var a=n.editor;if(!r&&!a.readOnly){var s=de.a.findDOMNode(a),u=i()(t.target);e=u.document.activeElement,W&&t.target!=s?s.focus():(ct("onFocus",{event:t}),o())}},onInput:function(e,t,r){n||t.value.selection.isBlurred||(ct("onInput",{event:e}),r())},onKeyDown:function(e,t,r){t.editor.readOnly||(n?le.isCompose(e)&&e.preventDefault():(!X&&(le.isBold(e)||le.isDeleteBackward(e)||le.isDeleteForward(e)||le.isDeleteLineBackward(e)||le.isDeleteLineForward(e)||le.isDeleteWordBackward(e)||le.isDeleteWordForward(e)||le.isItalic(e)||le.isRedo(e)||le.isSplitBlock(e)||le.isTransposeCharacter(e)||le.isUndo(e))&&e.preventDefault(),ct("onKeyDown",{event:e}),r()))},onPaste:function(e,t,n){t.editor.readOnly||(e.preventDefault(),ct("onPaste",{event:e}),n())},onSelect:function(t,o,a){if(!r&&!n&&!o.editor.readOnly){var s=i()(t.target);e=s.document.activeElement,ct("onSelect",{event:t}),a()}}}}function ft(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.plugins,n=void 0===t?[]:t,r=lt(),o=ut();return[r].concat(Re(n),[o])}var dt=ne()("slate:leaves"),ht=function(e){function t(){var e,n,r;Be(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=De(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),vt.call(r),De(r,n)}return Ie(t,e),je(t,[{key:"shouldComponentUpdate",value:function(e){return e.index!=this.props.index||e.marks!=this.props.marks||e.text!=this.props.text||e.parent!=this.props.parent}},{key:"render",value:function(){this.debug("render",this);var e=this.props,t=e.node,n=e.index,r=Me.stringify({key:t.key,index:n});return ve.a.createElement("span",{"data-offset-key":r},this.renderMarks())}},{key:"renderMarks",value:function(){var e=this.props,t=e.marks,n=e.node,r=e.offset,o=e.text,i=e.editor,a=this.renderText(),s={"data-slate-leaf":!0};return t.reduce((function(e,a){var u={editor:i,mark:a,marks:t,node:n,offset:r,text:o,children:e,attributes:s};return i.run("renderMark",u)||e}),a)}},{key:"renderText",value:function(){var e=this.props,t=e.block,n=e.node,r=e.editor,o=e.parent,i=e.text,a=e.index,s=e.leaves;if(r.query("isVoid",o))return ve.a.createElement("span",{"data-slate-zero-width":"z"},"\ufeff");if(""===i&&"block"===o.object&&""===o.text&&o.nodes.last()===n)return ve.a.createElement("span",{"data-slate-zero-width":"n"},"\ufeff",ve.a.createElement("br",null));if(""===i)return ve.a.createElement("span",{"data-slate-zero-width":"z"},"\ufeff");var u=t.getLastText(),c=i.charAt(i.length-1),l=n===u,f=a===s.size-1;return l&&f&&"\n"===c?i+"\n":i}}]),t}(ve.a.Component);ht.propTypes={block:ge.block.isRequired,editor:ye.a.object.isRequired,index:ye.a.number.isRequired,leaves:ge.leaves.isRequired,marks:ge.marks.isRequired,node:ge.node.isRequired,offset:ye.a.number.isRequired,parent:ge.node.isRequired,text:ye.a.string.isRequired};var vt=function(){var e=this;this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];dt.apply(void 0,[t,e.props.node.key+"-"+e.props.index].concat(r))}},pt=ne()("slate:node"),yt=function(e){function t(){var e,n,r;Be(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=De(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),mt.call(r),De(r,n)}return Ie(t,e),je(t,[{key:"render",value:function(){var e=this;this.debug("render",this);var t=this.props,n=t.decorations,o=t.editor,i=t.node,a=t.style,s=o.value.document,u=i.key,c=n.filter((function(e){var t=e.start,n=e.end;if(t.key===u||n.key===u)return!0;if(t.key===n.key)return!1;var o=s.assertPath(u);return-1!==r.j.compare(o,t.path)&&1!==r.j.compare(o,n.path)})),l=0===c.size?i.getLeaves():i.getLeaves(c),f=0,d=l.map((function(t,n){var r=e.renderLeaf(l,t,n,f);return f+=t.text.length,r}));return ve.a.createElement("span",{"data-key":u,style:a},d)}}]),t}(ve.a.Component);yt.propTypes={block:ge.block,decorations:_e.a.list.isRequired,editor:ye.a.object.isRequired,node:ge.node.isRequired,parent:ge.node.isRequired,style:ye.a.object},yt.defaultProps={style:null};var mt=function(){var e=this;this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=e.props.node,a=i.key;pt.apply(void 0,[t,a+" (text)"].concat(r))},this.shouldComponentUpdate=function(t){var n=t,r=e.props;if(n.node!=r.node)return!0;if("block"==n.parent.object){var o=r.parent.nodes.last(),i=n.parent.nodes.last();if(r.node==o&&n.node!=i)return!0}return!n.decorations.equals(r.decorations)},this.renderLeaf=function(t,n,r,o){var i=e.props,a=i.block,s=i.node,u=i.parent,c=i.editor,l=n.text,f=n.marks;return ve.a.createElement(ht,{key:s.key+"-"+r,block:a,editor:c,index:r,marks:f,node:s,offset:o,parent:u,leaves:t,text:l})}},gt=ne()("slate:void"),kt=function(e){function t(){var e,n,r;Be(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=De(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),_t.call(r),De(r,n)}return Ie(t,e),je(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.node,r=e.readOnly,o="block"==n.object?"div":"span",i=ve.a.createElement(o,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},this.renderText()),a=ve.a.createElement(o,{contentEditable:!!r&&null},t);return this.debug("render",{props:e}),ve.a.createElement(o,{"data-slate-void":!0,"data-key":n.key,contentEditable:!(!r&&"block"!=n.object)&&null},r?null:i,a)}}]),t}(ve.a.Component);kt.propTypes={block:ge.block,children:ye.a.any.isRequired,editor:ye.a.object.isRequired,node:ge.node.isRequired,parent:ge.node.isRequired,readOnly:ye.a.bool.isRequired};var _t=function(){var e=this;this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=e.props.node,a=i.key,s=i.type,u=a+" ("+s+")";gt.apply(void 0,[t,""+u].concat(r))},this.renderText=function(){var t=e.props,n=t.block,r=t.decorations,o=t.node,i=t.readOnly,a=t.editor,s=o.getFirstText();return ve.a.createElement(yt,{block:"block"==o.object?o:n,decorations:r,editor:a,key:s.key,node:s,parent:o,readOnly:i})}};function bt(e,t){var n=Object(f.Set)().asMutable(),r=[];return function(e,t){if(t.isEmpty())return e.nodes.toArray().map((function(e,t){return{child:e,index:t}}));var n=(o={},i=e.key,a=0,i in o?Object.defineProperty(o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a,o),r=1;var o,i,a;e.forEachDescendant((function(e){n[e.key]=r,r+=1}));var s=e.nodes.toArray(),u=s.map((function(e,t){return{child:e,index:t,order:n[e.key]}}));return t.forEach((function(e){var t=n[e.start.key],o=void 0===t?0:function(e,t,n){var r=e.findIndex((function(e){return n<t[e.key]}));if(r<=0)return 0;var o=e[r-1];return t[o.key]}(s,n,t);u.push({isRangeStart:!0,order:o-.5,decoration:e});var i=(n[e.end.key]||r)+.5;u.push({isRangeEnd:!0,order:i,decoration:e})})),u.sort((function(e,t){return e.order>t.order?1:-1}))}(e,t).forEach((function(e){e.isRangeStart?n.add(e.decoration):e.isRangeEnd?n.remove(e.decoration):r.push(n.toList())})),r}var wt=ne()("slate:node"),xt=function(e){function t(){var e,n,r;Be(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=De(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),Ot.call(r),De(r,n)}return Ie(t,e),je(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.editor.run("shouldNodeComponentUpdate",t,e),r=e,o=t;if(null!=n){if(n)return!0;be(!1!==n,"Returning false in `shouldNodeComponentUpdate` does not disable Slate's internal `shouldComponentUpdate` logic. If you want to prevent updates, use React's `shouldComponentUpdate` instead.")}return r.readOnly!=o.readOnly||(r.node!=o.node||(!(!r.isSelected&&!o.isSelected)||(!(!r.isFocused&&!o.isFocused)||!r.decorations.equals(o.decorations))))}},{key:"render",value:function(){var e=this;this.debug("render",this);var t=this.props,n=t.editor,r=t.isSelected,o=t.isFocused,i=t.node,a=t.decorations,s=t.parent,u=t.readOnly,c=n.value.selection,l=i.getSelectionIndexes(c,r),f=a.concat(i.getDecorations(n)),d=bt(i,f),h=[];i.nodes.forEach((function(t,n){var r=!!l&&l.start<=n&&n<l.end;h.push(e.renderNode(t,r,d[n]))}));var v={"data-key":i.key};"block"==i.object&&"block"!=i.nodes.first().object&&("rtl"==i.getTextDirection()&&(v.dir="rtl"));var p={key:i.key,editor:n,isFocused:o,isSelected:r,node:i,parent:s,readOnly:u},y=n.run("renderPlaceholder",p);y&&(y=ve.a.cloneElement(y,{key:i.key+"-placeholder"}),h=[y].concat(Re(h)));var m=n.run("renderNode",Pe({},p,{attributes:v,children:h}));return n.query("isVoid",i)?ve.a.createElement(kt,this.props,m):m}}]),t}(ve.a.Component);xt.propTypes={block:ge.block,decorations:_e.a.list.isRequired,editor:ye.a.object.isRequired,isFocused:ye.a.bool.isRequired,isSelected:ye.a.bool.isRequired,node:ge.node.isRequired,parent:ge.node.isRequired,readOnly:ye.a.bool.isRequired};var Ot=function(){var e=this;this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=e.props.node,a=i.key,s=i.type;wt.apply(void 0,[t,a+" ("+s+")"].concat(r))},this.renderNode=function(t,n,r){var o=e.props,i=o.block,a=o.editor,s=o.node,u=o.readOnly,c=o.isFocused,l="text"==t.object?yt:xt;return ve.a.createElement(l,{block:"block"==s.object?s:i,decorations:r,editor:a,isSelected:n,isFocused:c&&n,key:t.key,node:t,parent:s,readOnly:u})}};function At(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=e.anchor,r=e.focus,o=e.isBackward,i=e.isCollapsed,a=$e(n,t),s=i?a:$e(r,t);if(!a||!s)return null;var u=t.document.createRange(),c=o?s:a,l=o?a:s;return u.setStart(c.node,c.offset),u.setEnd(l.node,l.offset),u}var St=["auto","overlay","scroll"],Tt=X&&!!window.navigator.userAgent.match(/os 11_/i);function Et(e){if(!Tt&&e.anchorNode){var t=i()(e.anchorNode),n=function(e,t){for(var n=e.parentNode,r=void 0;!r&&n.parentNode;){var o=t.getComputedStyle(n).overflowY;if(St.includes(o)){r=n;break}n=n.parentNode}return r||t.document.body}(e.anchorNode,t),r=n==t.document.body||n==t.document.documentElement,o=xe()(e),a=e.getRangeAt(0).cloneRange();a.collapse(o);var s=a.getBoundingClientRect();H&&a.collapsed&&0==s.top&&0==s.height&&(0==a.startOffset?a.setEnd(a.endContainer,1):a.setStart(a.startContainer,a.startOffset-1),0==(s=a.getBoundingClientRect()).top&&0==s.height&&a.getClientRects().length&&(s=a.getClientRects()[0]));var u=void 0,c=void 0,l=void 0,f=void 0,d=0,h=0,v=0,p=0,y=0,m=0,g=0,k=0;if(r){u=t.innerWidth,c=t.innerHeight,l=t.pageYOffset,f=t.pageXOffset}else{var _=n.offsetWidth,b=n.offsetHeight,w=n.scrollTop,x=n.scrollLeft,O=t.getComputedStyle(n),A=O.borderTopWidth,S=O.borderBottomWidth,T=O.borderLeftWidth,E=O.borderRightWidth,N=O.paddingTop,C=O.paddingBottom,F=O.paddingLeft,B=O.paddingRight,j=n.getBoundingClientRect();u=_,c=b,d=j.top+parseInt(A,10),h=j.left+parseInt(T,10),v=parseInt(A,10)+parseInt(S,10),p=parseInt(T,10)+parseInt(E,10),y=parseInt(N,10),m=parseInt(C,10),g=parseInt(F,10),k=parseInt(B,10),l=w,f=x}var P=s.top+l-d,I=s.left+f-h,D=f,z=l;I<f?D=I-g:I+s.width+p>f+u&&(D=I+p+k-u),P<l?z=P-y:P+s.height+v>l+c&&(z=P+v+m+s.height-c),r?t.scrollTo(D,z):(n.scrollTop=z,n.scrollLeft=D)}}var Nt=/Permission denied to access property "nodeType"/,Ct=ne()("slate:content"),Ft=function(e){function t(){var e,n,r;Be(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=De(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.tmp={isUpdatingSelection:!1},r.handlers=Ee.reduce((function(e,t){return e[t]=function(e){return r.onEvent(t,e)},e}),{}),r.updateSelection=function(){var e=r.props.editor.value.selection,t=e.isBackward,n=i()(r.element),o=n.getSelection();if(o){var a=o.rangeCount,s=o.anchorNode;if(a||!e.isBlurred){if(e.isBlurred){if(!r.isInEditor(s))return;return Fe(o),r.element.blur(),void Ct("updateSelection",{selection:e,native:o})}if(!e.isUnset){var u=!!a&&o.getRangeAt(0),c=At(e,n);if(c){var l=c.startContainer,f=c.startOffset,d=c.endContainer,h=c.endOffset;u&&(l==u.startContainer&&f==u.startOffset&&d==u.endContainer&&h==u.endOffset||l==u.endContainer&&f==u.endOffset&&d==u.startContainer&&h==u.startOffset)||(r.tmp.isUpdatingSelection=!0,Fe(o),o.setBaseAndExtent?t?o.setBaseAndExtent(c.endContainer,c.endOffset,c.startContainer,c.startOffset):o.setBaseAndExtent(c.startContainer,c.startOffset,c.endContainer,c.endOffset):o.addRange(c),Et(o),setTimeout((function(){W&&r.element&&r.element.focus(),r.tmp.isUpdatingSelection=!1})),Ct("updateSelection",{selection:e,native:o}))}else be(!1,"Unable to find a native DOM range from the current selection.")}}}},r.ref=function(e){r.element=e},r.isInEditor=function(e){var t=r.element,n=void 0;try{if(8===e.nodeType)return!1;n=3===e.nodeType?e.parentNode:e}catch(zt){if(W&&Nt.test(zt.message))return!1;throw zt}return(n.isContentEditable||n.closest("[data-slate-void]"))&&(n===t||n.closest("[data-slate-editor]")===t)},r.onNativeSelectionChange=Ae()((function(e){r.props.readOnly||i()(e.target).document.activeElement===r.element&&r.props.onEvent("onSelect",e)}),100),r.renderNode=function(e,t,n){var o=r.props,i=o.editor,a=o.readOnly,s=i.value,u=s.document,c=s.selection.isFocused;return ve.a.createElement(xt,{block:null,editor:i,decorations:n,isSelected:t,isFocused:c&&t,key:e.key,node:e,parent:u,readOnly:a})},De(r,n)}return Ie(t,e),je(t,[{key:"componentDidMount",value:function(){i()(this.element).document.addEventListener("selectionchange",this.onNativeSelectionChange),ee&&this.element.addEventListener("beforeinput",this.handlers.onBeforeInput),this.updateSelection()}},{key:"componentWillUnmount",value:function(){var e=i()(this.element);e&&e.document.removeEventListener("selectionchange",this.onNativeSelectionChange),ee&&this.element.removeEventListener("beforeinput",this.handlers.onBeforeInput)}},{key:"componentDidUpdate",value:function(){this.updateSelection()}},{key:"onEvent",value:function(e,t){if(Ct("onEvent",e),!this.tmp.isUpdatingSelection||"onSelect"!=e&&"onBlur"!=e&&"onFocus"!=e){if("onSelect"==e){var n=this.props.editor,r=n.value.selection,o=Ye(i()(t.target).getSelection(),n);if(o&&o.equals(r.toRange()))return void this.updateSelection()}if("onDragEnd"==e||"onDragEnter"==e||"onDragExit"==e||"onDragLeave"==e||"onDragOver"==e||"onDragStart"==e||"onDrop"==e)if(t.target.closest("[data-slate-editor]")!==this.element)return;("onBeforeInput"!=e&&"onBlur"!=e&&"onCompositionEnd"!=e&&"onCompositionStart"!=e&&"onCopy"!=e&&"onCut"!=e&&"onFocus"!=e&&"onInput"!=e&&"onKeyDown"!=e&&"onKeyUp"!=e&&"onPaste"!=e&&"onSelect"!=e||this.isInEditor(t.target))&&this.props.onEvent(e,t)}}},{key:"render",value:function(){var e=this,t=this.props,n=this.handlers,r=t.className,o=t.readOnly,i=t.editor,a=t.tabIndex,s=t.role,u=t.tagName,c=t.spellCheck,l=i.value,f=u,d=l.document,h=l.selection,v=l.decorations,p=d.getSelectionIndexes(h),y=d.getDecorations(i).concat(v),m=bt(d,y),g=d.nodes.toArray().map((function(t,n){var r=!!p&&p.start<=n&&n<p.end;return e.renderNode(t,r,m[n])})),k=Pe({outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},o?{}:{WebkitUserModify:"read-write-plaintext-only"},t.style);return Ct("render",{props:t}),ve.a.createElement(f,Pe({},n,{"data-slate-editor":!0,ref:this.ref,"data-key":d.key,contentEditable:!o||null,suppressContentEditableWarning:!0,className:r,autoCorrect:t.autoCorrect?"on":"off",spellCheck:c,style:k,role:o?null:s||"textbox",tabIndex:a,"data-gramm":!1}),g)}}]),t}(ve.a.Component);Ft.propTypes={autoCorrect:ye.a.bool.isRequired,className:ye.a.string,editor:ye.a.object.isRequired,readOnly:ye.a.bool.isRequired,role:ye.a.string,spellCheck:ye.a.bool.isRequired,style:ye.a.object,tabIndex:ye.a.number,tagName:ye.a.string},Ft.defaultProps={style:{},tagName:"div"};var Bt=[].concat(Re(Ee),["commands","decorateNode","queries","renderEditor","renderMark","renderNode","renderPlaceholder","schema"]);function jt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.plugins,n=void 0===t?[]:t;function o(e,t){var n=e.editor;return ve.a.createElement(Ft,{onEvent:n.event,autoCorrect:e.autoCorrect,className:e.className,editor:n,readOnly:e.readOnly,role:e.role,spellCheck:e.spellCheck,style:e.style,tabIndex:e.tabIndex,tagName:e.tagName})}function i(e,t){var n=e.attributes,r=e.children,o=e.node.object;if("block"!=o&&"inline"!=o)return null;var i="block"==o?"div":"span";return ve.a.createElement(i,Pe({},n,{style:{position:"relative"}}),r)}function a(e,t){var n=e.editor,o=e.node;if(!n.props.placeholder)return null;if(n.state.isComposing)return null;if("block"!=o.object)return null;if(!r.m.isTextList(o.nodes))return null;if(""!=o.text)return null;if(n.value.document.getBlocks().size>1)return null;return ve.a.createElement("span",{contentEditable:!1,style:{pointerEvents:"none",display:"inline-block",width:"0",maxWidth:"100%",whiteSpace:"nowrap",opacity:"0.333"}},n.props.placeholder)}var s=Bt.reduce((function(t,n){return n in e&&(t[n]=e[n]),t}),{}),u=ft({plugins:[s].concat(Re(n))}),c={renderEditor:o,renderNode:i,renderPlaceholder:a};return[u,c]}var Pt=ne()("slate:editor"),It=function(e){function t(){var e,n,r;Be(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=De(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),Dt.call(r),De(r,n)}return Ie(t,e),je(t,[{key:"componentDidMount",value:function(){this.tmp.mounted=!0,this.tmp.updates++,this.props.autoFocus&&this.change((function(e){return e.focus()})),this.tmp.change&&(this.props.onChange(this.tmp.change),this.tmp.change=null)}},{key:"componentDidUpdate",value:function(){this.tmp.updates++,this.tmp.change&&(this.props.onChange(this.tmp.change),this.tmp.change=null)}},{key:"render",value:function(){Pt("render",this);var e=Pe({},this.props,{editor:this}),t=e.commands,n=e.plugins,r=e.queries,o=e.schema;this.resolveController(n,o,t,r);var i=e.options,a=e.readOnly,s=e.value;return this.controller.setReadOnly(a),this.controller.setValue(s,i),this.controller.run("renderEditor",e)}},{key:"readOnly",get:function(){return this.controller.readOnly}},{key:"value",get:function(){return this.controller.value}},{key:"schema",get:function(){Object(a.a)(!1,"As of Slate 0.42.0, the `editor.schema` property no longer exists, and its functionality has been folded into the editor itself. Use the `editor` instead.")}},{key:"stack",get:function(){Object(a.a)(!1,"As of Slate 0.42.0, the `editor.stack` property no longer exists, and its functionality has been folded into the editor itself. Use the `editor` instead.")}}]),t}(ve.a.Component);It.propTypes=Pe({autoCorrect:ye.a.bool,autoFocus:ye.a.bool,className:ye.a.string,onChange:ye.a.func,options:ye.a.object,placeholder:ye.a.any,plugins:ye.a.array,readOnly:ye.a.bool,role:ye.a.string,schema:ye.a.object,spellCheck:ye.a.bool,style:ye.a.object,tabIndex:ye.a.number,value:ge.value.isRequired},Ee.reduce((function(e,t){return e[t]=ye.a.func,e}),{})),It.defaultProps={autoFocus:!1,autoCorrect:!0,onChange:function(){},options:{},plugins:[],readOnly:!1,schema:{},spellCheck:!0};var Dt=function(){var e=this;this.state={},this.tmp={mounted:!1,change:null,resolves:0,updates:0},this.onControllerChange=function(t){e.tmp.mounted?e.props.onChange(t):e.tmp.change=t},this.resolveController=Te((function(){be(e.tmp.resolves<5||e.tmp.resolves!==e.tmp.updates,"A Slate <Editor> component is re-resolving the `plugins`, `schema`, `commands` or `queries` on each update, which leads to poor performance. This is often due to passing in a new references for these props with each render by declaring them inline in your render function. Do not do this! Declare them outside your render function, or memoize them instead."),e.tmp.resolves++;var t=jt(e.props),n={onChange:e.onControllerChange,plugins:[t]};e.controller=new r.e(n,{editor:e,normalize:!1})})),this.change=function(){var t;return(t=e.controller).change.apply(t,arguments)},this.command=function(){var t;return(t=e.controller).command.apply(t,arguments)},this.event=function(){var t;return(t=e.controller).event.apply(t,arguments)},this.onChange=function(){var t;return(t=e.controller).onChange.apply(t,arguments)},this.query=function(){var t;return(t=e.controller).query.apply(t,arguments)},this.run=function(){var t;return(t=e.controller).run.apply(t,arguments)},this.blur=function(){e.change((function(e){return e.blur()}))},this.focus=function(){e.change((function(e){return e.focus()}))}}},1517:function(e,t,n){"use strict";var r=n(1518);function o(e){return!0===r(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,n;return!1!==o(e)&&("function"===typeof(t=e.constructor)&&(!1!==o(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}},1518:function(e,t,n){"use strict";e.exports=function(e){return null!=e&&"object"===typeof e&&!1===Array.isArray(e)}},1519:function(e,t,n){"use strict";(function(r){function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.log=function(){var e;return"object"===("undefined"===typeof console?"undefined":o(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))})),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(n){}!e&&"undefined"!==typeof r&&"env"in r&&(e=Object({NODE_ENV:"production",PUBLIC_URL:"/admin",REACT_APP_ENV:"browser"}).DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(1520)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n(154))},1520:function(e,t,n){"use strict";e.exports=function(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var n;function a(){if(a.enabled){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var i=a,s=Number(new Date),u=s-(n||s);i.diff=u,i.prev=n,i.curr=s,n=s,t[0]=r.coerce(t[0]),"string"!==typeof t[0]&&t.unshift("%O");var c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return e;c++;var o=r.formatters[n];if("function"===typeof o){var a=t[c];e=o.call(i,a),t.splice(c,1),c--}return e})),r.formatArgs.call(i,t);var l=i.log||r.log;l.apply(i,t)}}return a.namespace=e,a.enabled=r.enabled(e),a.useColors=r.useColors(),a.color=t(e),a.destroy=o,a.extend=i,"function"===typeof r.init&&r.init(a),r.instances.push(a),a}function o(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function i(e,t){return r(this.namespace+("undefined"===typeof t?":":t)+e)}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){r.enable("")},r.enable=function(e){var t;r.save(e),r.names=[],r.skips=[];var n=("string"===typeof e?e:"").split(/[\s,]+/),o=n.length;for(t=0;t<o;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var i=r.instances[t];i.enabled=r.enabled(i.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(1449),Object.keys(e).forEach((function(t){r[t]=e[t]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},1521:function(e,t,n){"use strict";var r,o;r=new RegExp("^[^\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]*[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]"),o=new RegExp("^[^A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]"),e.exports=function(e){return e=e.toString(),o.test(e)?"rtl":r.test(e)?"ltr":"neutral"}},1522:function(e,t,n){var r=n(1523);e.exports=function(e){if(t=e,t&&t.window===t)return e;var t;var n=r(e);if(o){n.parentWindow.execScript("document._parentWindow = window;","Javascript");var i=n._parentWindow;return n._parentWindow=null,i}return n.defaultView||n.parentWindow};var o=n(1524)},1523:function(e,t){e.exports=function e(t){if(n(t))return t;if(n(t.ownerDocument))return t.ownerDocument;if(n(t.document))return t.document;if(t.parentNode)return e(t.parentNode);if(t.commonAncestorContainer)return e(t.commonAncestorContainer);if(t.startContainer)return e(t.startContainer);if(t.anchorNode)return e(t.anchorNode)};function n(e){return e&&9===e.nodeType}},1524:function(e,t){e.exports=!!document.attachEvent&&window!==document.parentWindow},1525:function(e,t,n){"use strict";t.atob=self.atob.bind(self),t.btoa=self.btoa.bind(self)},1526:function(e,t,n){"use strict";(function(r){function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.log=function(){var e;return"object"===("undefined"===typeof console?"undefined":o(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))})),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(n){}!e&&"undefined"!==typeof r&&"env"in r&&(e=Object({NODE_ENV:"production",PUBLIC_URL:"/admin",REACT_APP_ENV:"browser"}).DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(1527)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n(154))},1527:function(e,t,n){"use strict";e.exports=function(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var n;function a(){if(a.enabled){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var i=a,s=Number(new Date),u=s-(n||s);i.diff=u,i.prev=n,i.curr=s,n=s,t[0]=r.coerce(t[0]),"string"!==typeof t[0]&&t.unshift("%O");var c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return e;c++;var o=r.formatters[n];if("function"===typeof o){var a=t[c];e=o.call(i,a),t.splice(c,1),c--}return e})),r.formatArgs.call(i,t);var l=i.log||r.log;l.apply(i,t)}}return a.namespace=e,a.enabled=r.enabled(e),a.useColors=r.useColors(),a.color=t(e),a.destroy=o,a.extend=i,"function"===typeof r.init&&r.init(a),r.instances.push(a),a}function o(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function i(e,t){return r(this.namespace+("undefined"===typeof t?":":t)+e)}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){r.enable("")},r.enable=function(e){var t;r.save(e),r.names=[],r.skips=[];var n=("string"===typeof e?e:"").split(/[\s,]+/),o=n.length;for(t=0;t<o;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var i=r.instances[t];i.enabled=r.enabled(i.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(1449),Object.keys(e).forEach((function(t){r[t]=e[t]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},1528:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var r="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),o={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},i={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:r?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},a={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},s=1;s<20;s++)a["f"+s]=111+s;function u(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map((function(e){return c(e,t)})),o=function(e){return r.some((function(t){return l(t,e)}))};return null==n?o:o(n)}function c(e,t){var n=t&&t.byKey,r={},i=(e=e.replace("++","+add")).split("+"),a=i.length;for(var s in o)r[o[s]]=!1;var u=!0,c=!1,l=void 0;try{for(var h,v=i[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){var p=h.value,y=p.endsWith("?");y&&(p=p.slice(0,-1));var m=d(p),g=o[m];1!==a&&g||(n?r.key=m:r.which=f(p)),g&&(r[g]=!y||null)}}catch(k){c=!0,l=k}finally{try{!u&&v.return&&v.return()}finally{if(c)throw l}}return r}function l(e,t){for(var n in e){var r=e[n],o=void 0;if(null!=r&&((null!=(o="key"===n?t.key.toLowerCase():"which"===n?91===r&&93===t.which?91:t.which:t[n])||!1!==r)&&o!==r))return!1}return!0}function f(e){return e=d(e),a[e]||e.toUpperCase().charCodeAt(0)}function d(e){return e=e.toLowerCase(),e=i[e]||e}t.default=u,t.isHotkey=u,t.isCodeHotkey=function(e,t){return u(e,t)},t.isKeyHotkey=function(e,t){return u(e,{byKey:!0},t)},t.parseHotkey=c,t.compareHotkey=l,t.toKeyCode=f,t.toKeyName=d},1529:function(e,t,n){"use strict";var r,o=n(1410),i=function(){invariant(!1,"ImmutablePropTypes type checking code is stripped in production.")};i.isRequired=i;var a=function(){return i};function s(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":e instanceof o.Iterable?"Immutable."+e.toSource().split(" ")[0]:t}function u(e){function t(t,n,r,o,i,a){for(var s=arguments.length,u=Array(s>6?s-6:0),c=6;c<s;c++)u[c-6]=arguments[c];if(a=a||r,o=o||"<<anonymous>>",null!=n[r])return e.apply(void 0,[n,r,o,i,a].concat(u));var l=i;return t?new Error("Required "+l+" `"+a+"` was not specified in `"+o+"`."):void 0}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function c(e,t){return n="Iterable."+e,r=function(e){return o.Iterable.isIterable(e)&&t(e)},u((function(e,t,o,i,a){var u=e[t];if(!r(u)){var c=s(u);return new Error("Invalid "+i+" `"+a+"` of type `"+c+"` supplied to `"+o+"`, expected `"+n+"`.")}return null}));var n,r}(r={listOf:a,mapOf:a,orderedMapOf:a,setOf:a,orderedSetOf:a,stackOf:a,iterableOf:a,recordOf:a,shape:a,contains:a,mapContains:a,orderedMapContains:a,list:i,map:i,orderedMap:i,set:i,orderedSet:i,stack:i,seq:i,record:i,iterable:i}).iterable.indexed=c("Indexed",o.Iterable.isIndexed),r.iterable.keyed=c("Keyed",o.Iterable.isKeyed),e.exports=r},1530:function(e,t){e.exports=function(e){var t=e.anchorNode,n=e.anchorOffset,r=e.focusNode,o=e.focusOffset,i=t.compareDocumentPosition(r);return!(4===i||0===i&&n<o)}}}]);