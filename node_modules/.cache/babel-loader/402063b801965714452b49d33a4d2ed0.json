{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\nimport _get from \"lodash/get\";\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n    query listPublishedPages($search: String) {\\n        pageBuilder {\\n            pages: listPublishedPages(search: $search) {\\n                data {\\n                    parent\\n                    published\\n                    title\\n                }\\n            }\\n        }\\n    }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    query getPublishedPage($parent: ID) {\\n        pageBuilder {\\n            page: getPublishedPage(parent: $parent) {\\n                data {\\n                    parent\\n                    published\\n                    title\\n                }\\n            }\\n        }\\n    }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport * as React from \"react\";\nimport { AutoComplete } from \"@webiny/ui/AutoComplete\";\nimport gql from \"graphql-tag\";\nimport { Query } from \"react-apollo\";\nimport { useAutocomplete } from \"@webiny/app/hooks/useAutocomplete\"; // We utilize the same \"listPages\" GraphQL field.\n\nvar GET_PAGE = gql(_templateObject());\nvar LIST_PUBLISHED_PAGES = gql(_templateObject2());\nexport function PagesAutocomplete(props) {\n  var autoComplete = useAutocomplete(LIST_PUBLISHED_PAGES);\n  return /*#__PURE__*/React.createElement(Query, {\n    skip: !props.value,\n    variables: {\n      parent: props.value\n    },\n    query: GET_PAGE\n  }, function (_ref) {\n    var data = _ref.data;\n\n    var value = _get(data, \"pageBuilder.page.data\");\n\n    return /*#__PURE__*/React.createElement(AutoComplete, Object.assign({}, props, autoComplete, {\n      valueProp: \"parent\",\n      textProp: \"title\",\n      value: value\n    }));\n  });\n}","map":null,"metadata":{},"sourceType":"module"}