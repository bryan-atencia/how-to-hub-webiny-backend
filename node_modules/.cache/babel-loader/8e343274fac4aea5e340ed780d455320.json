{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\"),\n    _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: !0\n}), exports.useHotkeys = useHotkeys, exports.Hotkeys = Hotkeys;\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\")),\n    _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\")),\n    _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\")),\n    _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\")),\n    React = _interopRequireWildcard(require(\"react\")),\n    _isHotkey = _interopRequireDefault(require(\"is-hotkey\")),\n    state = {\n  listenerAttached: !1,\n  zIndex: null,\n  handlers: {}\n};\n\nfunction triggerHotkeys(a) {\n  if (null !== state.zIndex) {\n    var b = state.handlers[state.zIndex];\n\n    for (var c in b) if ((0, _isHotkey.default)(c, a)) {\n      b[c](a);\n      break;\n    }\n  }\n}\n\nfunction registerZIndex(a) {\n  var b = a.zIndex,\n      c = a.keys;\n\n  if ((null === state.zIndex || state.zIndex < b) && (state.zIndex = b), state.handlers[b] || (state.handlers[b] = {}), c && 0 !== Object.keys(c).length) {\n    for (var d in c) {\n      if (d in state.handlers[b]) throw Error(\"Shortcut \\\"\".concat(d, \"\\\" already registered on zIndex \").concat(b, \".\"));\n      state.handlers[b][d] = c[d];\n    }\n\n    state.listenerAttached || (document.body.addEventListener(\"keydown\", triggerHotkeys), state.listenerAttached = !0);\n  }\n}\n\nfunction unregisterZIndex(a) {\n  var b = a.zIndex,\n      c = a.keys;\n\n  if (state.handlers && state.handlers[b]) {\n    for (var e in c) delete state.handlers[b][e];\n\n    0 === Object.keys(state.handlers[b]).length && delete state.handlers[b];\n  }\n\n  if (0 < Object.keys(state.handlers).length) {\n    var d;\n    state.zIndex = (d = window.Math).max.apply(d, (0, _toConsumableArray2.default)(Object.keys(state.handlers)));\n  } else state.zIndex = null, state.listenerAttached && (document.body.removeEventListener(\"keydown\", triggerHotkeys), state.listenerAttached = !1);\n}\n\nvar useEffect = React.useEffect,\n    useRef = React.useRef;\n\nfunction useHotkeys(a) {\n  var b = a.disabled,\n      c = a.zIndex,\n      d = a.keys,\n      e = {\n    prevProps: useRef(),\n    firstRender: useRef(!0)\n  };\n  useEffect(function () {\n    (e.firstRender.current || e.prevProps.current.disabled !== b) && (e.firstRender.current = !1, b ? unregisterZIndex(a) : registerZIndex(a)), b || \"object\" !== (0, _typeof2.default)(d) || Object.assign(state.handlers[c], d), e.prevProps.current = (0, _objectSpread2.default)({}, a);\n  }), useEffect(function () {\n    return function () {\n      b || unregisterZIndex(a);\n    };\n  }, []);\n}\n\nfunction Hotkeys(a) {\n  var b = a.children,\n      c = (0, _objectWithoutProperties2.default)(a, [\"children\"]);\n  return useHotkeys(c), React.createElement(React.Fragment, null, b);\n}","map":null,"metadata":{},"sourceType":"script"}