{"ast":null,"code":"import _get from \"lodash/get\";\nimport React from \"react\";\nimport { GET_PUBLISHED_FORM } from \"./graphql\";\nimport { Query } from \"react-apollo\";\nimport FormRender from \"./FormRender\";\n\nvar FormLoad = function FormLoad(props) {\n  var variables = {\n    slug: null,\n    version: null,\n    parent: null,\n    id: null\n  };\n\n  if (props.slug) {\n    variables.slug = props.slug;\n\n    if (props.version) {\n      variables.version = props.version;\n    }\n  } else if (props.parentId) {\n    variables.parent = props.parentId;\n  } else {\n    variables.id = props.revisionId;\n  }\n\n  return /*#__PURE__*/React.createElement(Query, {\n    query: GET_PUBLISHED_FORM,\n    variables: variables\n  }, function (_ref) {\n    var data = _ref.data,\n        loading = _ref.loading;\n\n    if (loading) {\n      // TODO: handle loading\n      return null;\n    }\n\n    var formData = _get(data, \"forms.getPublishedForm.data\");\n\n    if (!formData) {\n      // TODO: handle cannot load form\n      return /*#__PURE__*/React.createElement(\"span\", null, \"Form not found.\");\n    }\n\n    return /*#__PURE__*/React.createElement(FormRender, Object.assign({}, props, {\n      data: formData\n    }));\n  });\n};\n\nexport default FormLoad;","map":null,"metadata":{},"sourceType":"module"}