{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _isEqual from \"lodash/isEqual\";\nimport React from \"react\";\nimport { get } from \"dot-prop-immutable\";\nimport { getPlugins } from \"@webiny/plugins\";\nvar Node = \"div\";\n\nvar combineClassNames = function combineClassNames() {\n  for (var _len = arguments.length, styles = new Array(_len), _key = 0; _key < _len; _key++) {\n    styles[_key] = arguments[_key];\n  }\n\n  return styles.filter(function (s) {\n    return s !== \"\" && s !== \"css-0\";\n  }).join(\" \");\n};\n\nvar ElementRoot = /*#__PURE__*/function (_React$Component) {\n  _inherits(ElementRoot, _React$Component);\n\n  var _super = _createSuper(ElementRoot);\n\n  function ElementRoot(props) {\n    var _this;\n\n    _classCallCheck(this, ElementRoot);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"stylePlugins\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"attributePlugins\", void 0);\n\n    _this.stylePlugins = getPlugins(\"pb-render-page-element-style\");\n    _this.attributePlugins = getPlugins(\"pb-render-page-element-attributes\");\n    return _this;\n  }\n\n  _createClass(ElementRoot, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(props) {\n      return !_isEqual(props.element.data, this.props.element.data);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          element = _this$props.element,\n          _this$props$style = _this$props.style,\n          style = _this$props$style === void 0 ? {} : _this$props$style,\n          children = _this$props.children,\n          _this$props$className = _this$props.className,\n          className = _this$props$className === void 0 ? null : _this$props$className;\n      var shallowElement = {\n        id: element.id,\n        type: element.type,\n        data: element.data\n      };\n      var finalStyle = this.stylePlugins.reduce(function (style, pl) {\n        return pl.renderStyle({\n          element: shallowElement,\n          style: style\n        });\n      }, style);\n      var attributes = this.attributePlugins.reduce(function (attributes, pl) {\n        return pl.renderAttributes({\n          element: shallowElement,\n          attributes: attributes\n        });\n      }, {});\n      var classNames = get(element, \"data.settings.className\", \"\");\n\n      var getAllClasses = function getAllClasses() {\n        for (var _len2 = arguments.length, extraClasses = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          extraClasses[_key2] = arguments[_key2];\n        }\n\n        return [className].concat(extraClasses, _toConsumableArray(classNames.split(\" \"))).filter(function (v) {\n          return v && v !== \"css-0\";\n        }).join(\" \");\n      };\n\n      if (typeof children === \"function\") {\n        return children({\n          getAllClasses: getAllClasses,\n          combineClassNames: combineClassNames,\n          elementStyle: finalStyle,\n          elementAttributes: attributes,\n          customClasses: classNames.split(\" \")\n        });\n      }\n\n      return /*#__PURE__*/React.createElement(Node, Object.assign({\n        className: getAllClasses(),\n        style: finalStyle\n      }, attributes), children);\n    }\n  }]);\n\n  return ElementRoot;\n}(React.Component);\n\nexport { ElementRoot };","map":null,"metadata":{},"sourceType":"module"}