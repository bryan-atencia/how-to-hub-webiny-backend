{"ast":null,"code":"import _set from \"lodash/set\";\nimport _get from \"lodash/get\";\nimport { SAVE_FORM_VIEW } from \"./graphql\"; // TODO: `client` is not part of FbFormRenderComponentProps but is injected by `FormRender`\n\nvar saveFormView = function saveFormView(_ref) {\n  var data = _ref.data,\n      client = _ref.client; // SSR?\n\n  if (!window || !data) {\n    return;\n  }\n\n  if (_get(window, \"localStorage.form_view_\" + data.id)) {\n    return;\n  }\n\n  _set(window, \"localStorage.form_view_\" + data.id, 1);\n\n  client.mutate({\n    mutation: SAVE_FORM_VIEW,\n    variables: {\n      id: data.id\n    }\n  });\n};\n\nexport default (function (props) {\n  var data = props.data,\n      preview = props.preview;\n\n  if (!data || preview) {\n    return;\n  }\n\n  saveFormView(props);\n});","map":null,"metadata":{},"sourceType":"module"}