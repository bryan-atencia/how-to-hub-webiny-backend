{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport React from \"react\";\nimport { createTemplate } from \"@webiny/app-template\";\nimport { ApolloProvider } from \"react-apollo\"; // App structure imports\n\nimport { UiProvider } from \"@webiny/app/contexts/Ui\";\nimport { I18NProvider } from \"@webiny/app-i18n/contexts/I18N\";\nimport { SecurityProvider } from \"@webiny/app-security/contexts/Security\";\nimport { CircularProgress } from \"@webiny/ui/Progress\";\nimport { AppInstaller } from \"@webiny/app-admin/components/Install/AppInstaller\";\nimport { ThemeProvider } from \"@webiny/app-admin/contexts/Theme\"; // Other plugins\n\nimport { fileUploadPlugin, imagePlugin } from \"@webiny/app/plugins\";\nimport adminPlugins from \"@webiny/app-admin/plugins\";\nimport welcomeScreenPlugins from \"@webiny/app-plugin-admin-welcome-screen\";\nimport i18nPlugins from \"@webiny/app-i18n/admin/plugins\";\nimport securityPlugins from \"@webiny/app-security/admin/plugins\";\nimport cognito from \"@webiny/app-plugin-security-cognito\";\nimport cognitoTheme from \"@webiny/app-plugin-security-cognito-theme/admin\";\nimport fileManagerPlugins from \"@webiny/app-file-manager/admin\"; // ApolloClient\n\nimport { createApolloClient } from \"./apolloClient\";\nimport { NetworkError } from \"./apolloClient/NetworkError\"; // Router\n\nimport { BrowserRouter, Route, Redirect } from \"@webiny/react-router\";\nexport default createTemplate(function (opts) {\n  var appStructure = [{\n    type: \"app-template-renderer\",\n    name: \"app-template-renderer-apollo\",\n    render: function render(children) {\n      return /*#__PURE__*/React.createElement(ApolloProvider, {\n        client: createApolloClient()\n      }, /*#__PURE__*/React.createElement(NetworkError, null, children));\n    }\n  }, {\n    type: \"app-template-renderer\",\n    name: \"app-template-renderer-router\",\n    render: function render(children) {\n      return /*#__PURE__*/React.createElement(BrowserRouter, {\n        basename: process.env.PUBLIC_URL\n      }, children, /*#__PURE__*/React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        render: function render() {\n          return /*#__PURE__*/React.createElement(Redirect, {\n            to: opts.defaultRoute || \"/\"\n          });\n        }\n      }));\n    }\n  }, {\n    type: \"app-template-renderer\",\n    name: \"app-template-renderer-ui\",\n    render: function render(children) {\n      return /*#__PURE__*/React.createElement(UiProvider, null, children);\n    }\n  }, {\n    type: \"app-template-renderer\",\n    name: \"app-template-renderer-i18n\",\n    render: function render(children) {\n      return /*#__PURE__*/React.createElement(I18NProvider, {\n        loader: /*#__PURE__*/React.createElement(CircularProgress, {\n          label: \"Loading locales...\"\n        })\n      }, children);\n    }\n  }, {\n    type: \"app-template-renderer\",\n    name: \"app-template-renderer-app-installer\",\n    render: function render(children) {\n      var securityProvider = /*#__PURE__*/React.createElement(SecurityProvider, {\n        loader: /*#__PURE__*/React.createElement(CircularProgress, {\n          label: \"Checking user...\"\n        })\n      });\n      return /*#__PURE__*/React.createElement(AppInstaller, {\n        security: securityProvider\n      }, children);\n    }\n  }, {\n    type: \"app-template-renderer\",\n    name: \"app-template-renderer-admin-theme\",\n    render: function render(children) {\n      return /*#__PURE__*/React.createElement(ThemeProvider, null, children);\n    }\n  }];\n  var otherPlugins = [welcomeScreenPlugins(), fileUploadPlugin(), imagePlugin(), adminPlugins(), i18nPlugins(), securityPlugins(), cognito(opts.cognito), cognitoTheme(), fileManagerPlugins()].concat(_toConsumableArray(opts.plugins || []));\n  return [].concat(appStructure, _toConsumableArray(otherPlugins));\n});","map":null,"metadata":{},"sourceType":"module"}