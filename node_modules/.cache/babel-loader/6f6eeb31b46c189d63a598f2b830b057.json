{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport * as React from \"react\";\nimport store from \"store\";\nimport observe from \"store/plugins/observe\";\nstore.addPlugin(observe);\nvar LOCAL_STORAGE_KEY = \"webiny_pb_page_zoom\";\n\nvar Zoom = /*#__PURE__*/function (_React$Component) {\n  _inherits(Zoom, _React$Component);\n\n  var _super = _createSuper(Zoom);\n\n  function Zoom(props) {\n    var _this;\n\n    _classCallCheck(this, Zoom);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"watchId\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"setZoomLevel\", function (zoom) {\n      store.set(LOCAL_STORAGE_KEY, zoom);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getZoomLevel\", function () {\n      var zoom = store.get(LOCAL_STORAGE_KEY);\n\n      if (!zoom) {\n        switch (true) {\n          case window.innerWidth < 1600:\n            return 0.75;\n\n          case window.innerWidth < 1200:\n            return 0.5;\n\n          default:\n            return 1;\n        }\n      }\n\n      return zoom;\n    });\n\n    _this.state = {\n      zoom: _this.getZoomLevel()\n    };\n    return _this;\n  }\n\n  _createClass(Zoom, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.watchId = store.observe(LOCAL_STORAGE_KEY, /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(zoom) {\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _this2.setState({\n                    zoom: parseFloat(zoom)\n                  });\n\n                case 1:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      store.unobserve(this.watchId);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var children = this.props.children;\n      return children({\n        zoom: this.state.zoom,\n        setZoom: this.setZoomLevel\n      });\n    }\n  }]);\n\n  return Zoom;\n}(React.Component);\n\nexport default Zoom;","map":null,"metadata":{},"sourceType":"module"}