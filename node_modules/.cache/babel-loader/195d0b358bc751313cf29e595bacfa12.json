{"ast":null,"code":"import React, { useEffect } from \"react\";\nimport { connect } from \"@webiny/app-page-builder/editor/redux\";\nimport classSet from \"classnames\";\nimport { ActionCreators } from \"redux-undo\";\nimport HTML5Backend from \"react-dnd-html5-backend\";\nimport { DndProvider } from \"react-dnd\";\nimport { getUi } from \"@webiny/app-page-builder/editor/selectors\";\nimport { useKeyHandler } from \"@webiny/app-page-builder/editor/hooks/useKeyHandler\";\nimport \"./Editor.scss\"; // Components\n\nimport EditorBar from \"./Bar\";\nimport EditorToolbar from \"./Toolbar\";\nimport EditorContent from \"./Content\";\nimport DragPreview from \"./DragPreview\";\nimport Dialogs from \"./Dialogs\";\n\nvar EditorComponent = function EditorComponent(_ref) {\n  var isDragging = _ref.isDragging,\n      isResizing = _ref.isResizing,\n      undo = _ref.undo,\n      redo = _ref.redo,\n      slateFocused = _ref.slateFocused;\n\n  var _useKeyHandler = useKeyHandler(),\n      addKeyHandler = _useKeyHandler.addKeyHandler,\n      removeKeyHandler = _useKeyHandler.removeKeyHandler;\n\n  useEffect(function () {\n    addKeyHandler(\"mod+z\", function (e) {\n      if (!slateFocused) {\n        e.preventDefault();\n        undo();\n      }\n    });\n    addKeyHandler(\"mod+shift+z\", function (e) {\n      if (!slateFocused) {\n        e.preventDefault();\n        redo();\n      }\n    });\n    return function () {\n      removeKeyHandler(\"mod+z\");\n      removeKeyHandler(\"mod+shift+z\");\n    };\n  });\n  var classes = {\n    \"pb-editor\": true,\n    \"pb-editor-dragging\": isDragging,\n    \"pb-editor-resizing\": isResizing\n  };\n  return /*#__PURE__*/React.createElement(DndProvider, {\n    backend: HTML5Backend\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classSet(classes)\n  }, /*#__PURE__*/React.createElement(EditorBar, null), /*#__PURE__*/React.createElement(EditorToolbar, null), /*#__PURE__*/React.createElement(EditorContent, null), /*#__PURE__*/React.createElement(Dialogs, null), /*#__PURE__*/React.createElement(DragPreview, null)));\n};\n\nexport var Editor = connect(function (state) {\n  var ui = getUi(state);\n  return {\n    slateFocused: ui.slateFocused,\n    isDragging: ui.dragging,\n    isResizing: ui.resizing\n  };\n}, {\n  undo: ActionCreators.undo,\n  redo: ActionCreators.redo\n})(EditorComponent);","map":null,"metadata":{},"sourceType":"module"}