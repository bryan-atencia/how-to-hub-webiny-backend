{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport React, { useCallback } from \"react\";\nimport { useApolloClient } from \"react-apollo\";\nimport { SplitView, LeftPanel, RightPanel } from \"@webiny/app-admin/components/SplitView\";\nimport { FloatingActionButton } from \"@webiny/app-admin/components/FloatingActionButton\";\nimport { CrudProvider } from \"@webiny/app-admin/contexts/Crud\";\nimport CategoriesDataList from \"./CategoriesDataList\";\nimport CategoriesForm from \"./CategoriesForm\";\nimport { READ_CATEGORY, LIST_CATEGORIES, LIST_CATEGORIES_BY_NAME, CREATE_CATEGORY, UPDATE_CATEGORY, DELETE_CATEGORY } from \"./graphql\";\n\nvar Categories = function Categories() {\n  var client = useApolloClient();\n  var onCompleted = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return client.query({\n              query: LIST_CATEGORIES_BY_NAME,\n              fetchPolicy: \"network-only\"\n            });\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), []);\n  return /*#__PURE__*/React.createElement(CrudProvider, {\n    delete: {\n      mutation: DELETE_CATEGORY,\n      options: {\n        onCompleted: onCompleted\n      }\n    },\n    read: READ_CATEGORY,\n    create: {\n      mutation: CREATE_CATEGORY,\n      options: {\n        onCompleted: onCompleted\n      }\n    },\n    update: {\n      mutation: UPDATE_CATEGORY,\n      options: {\n        onCompleted: onCompleted\n      }\n    },\n    list: {\n      query: LIST_CATEGORIES,\n      variables: {\n        sort: {\n          savedOn: -1\n        }\n      }\n    }\n  }, function (_ref2) {\n    var actions = _ref2.actions;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SplitView, null, /*#__PURE__*/React.createElement(LeftPanel, null, /*#__PURE__*/React.createElement(CategoriesDataList, null)), /*#__PURE__*/React.createElement(RightPanel, null, /*#__PURE__*/React.createElement(CategoriesForm, null))), /*#__PURE__*/React.createElement(FloatingActionButton, {\n      onClick: actions.resetForm\n    }));\n  });\n};\n\nexport default Categories;","map":null,"metadata":{},"sourceType":"module"}