{"ast":null,"code":"import React from \"react\";\nimport { Grid, Cell } from \"@webiny/ui/Grid\";\nimport { Input } from \"@webiny/ui/Input\";\nimport { Select } from \"@webiny/ui/Select\";\nimport { getPlugins } from \"@webiny/plugins\";\nimport { validation } from \"@webiny/validation\";\nexport default {\n  type: \"cms-editor-field-validator\",\n  name: \"cms-editor-field-validator-pattern\",\n  validator: {\n    name: \"pattern\",\n    label: \"Pattern\",\n    description: \"Entered value must match a specific pattern.\",\n    defaultMessage: \"Invalid value.\",\n    defaultSettings: {\n      preset: \"custom\"\n    },\n    renderSettings: function renderSettings(_ref) {\n      var Bind = _ref.Bind,\n          setValue = _ref.setValue,\n          setMessage = _ref.setMessage,\n          data = _ref.data;\n      var inputsDisabled = data.settings.preset !== \"custom\";\n      var presetPlugins = getPlugins(\"cms-editor-field-validator-pattern\"); // TODO: @ts-adrian neda mi da dolje posaljem\n\n      var selectOptions = presetPlugins.map(function (item) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          key: item.pattern.name,\n          value: item.pattern.name\n        }, item.pattern.label);\n      });\n      return /*#__PURE__*/React.createElement(Grid, null, /*#__PURE__*/React.createElement(Cell, {\n        span: 3\n      }, /*#__PURE__*/React.createElement(Bind, {\n        name: \"settings.preset\",\n        validators: validation.create(\"required\"),\n        afterChange: function afterChange(value) {\n          if (value === \"custom\") {\n            setMessage(\"Invalid value.\");\n            return;\n          }\n\n          setValue(\"settings.regex\", null);\n          setValue(\"settings.flags\", null);\n          var selectedPatternPlugin = presetPlugins.find(function (item) {\n            return item.pattern.name === value;\n          });\n          setMessage(selectedPatternPlugin.pattern.message);\n        }\n      }, /*#__PURE__*/React.createElement(Select, {\n        label: \"Preset\"\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"custom\"\n      }, \"Custom\"), selectOptions))), /*#__PURE__*/React.createElement(Cell, {\n        span: 7\n      }, /*#__PURE__*/React.createElement(Bind, {\n        name: \"settings.regex\",\n        validators: validation.create(\"required\")\n      }, /*#__PURE__*/React.createElement(Input, {\n        disabled: inputsDisabled,\n        label: \"Regex\",\n        description: \"Regex to test the value\"\n      }))), /*#__PURE__*/React.createElement(Cell, {\n        span: 2\n      }, /*#__PURE__*/React.createElement(Bind, {\n        name: \"settings.flags\",\n        validators: validation.create(\"required\")\n      }, /*#__PURE__*/React.createElement(Input, {\n        disabled: inputsDisabled,\n        label: \"Flags\",\n        description: \"Regex flags\"\n      }))));\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module"}