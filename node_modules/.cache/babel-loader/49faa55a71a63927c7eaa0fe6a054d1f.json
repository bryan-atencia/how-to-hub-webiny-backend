{"ast":null,"code":"import _get from \"lodash/get\";\nimport React, { useEffect } from \"react\";\nimport { css } from \"emotion\";\nimport { useHandler } from \"@webiny/app/hooks/useHandler\";\n\nfunction appendSDK(props) {\n  var element = props.element;\n\n  var _ref = _get(element, \"data.source\") || {},\n      url = _ref.url;\n\n  if (!url || window[\"PinUtils\"]) {\n    return Promise.resolve();\n  }\n\n  return new Promise(function (resolve) {\n    var script = document.createElement(\"script\");\n    script.type = \"text/javascript\";\n    script.src = encodeURI(\"https://assets.pinterest.com/js/pinit.js\");\n    script.setAttribute(\"async\", \"\");\n    script.setAttribute(\"charset\", \"utf-8\");\n    script.onload = resolve;\n    document.body.appendChild(script);\n  });\n}\n\nfunction initEmbed(props) {\n  var element = props.element;\n  var node = document.getElementById(element.id); // @ts-ignore\n\n  if (node && window.PinUtils) {\n    // @ts-ignore\n    window.PinUtils.build();\n  }\n}\n\nvar centerAlign = /*#__PURE__*/css({\n  textAlign: \"center\"\n}, \"label:centerAlign;\");\nexport default (function (props) {\n  var _ref2 = _get(props.element, \"data.source\") || {},\n      url = _ref2.url;\n\n  useEffect(function () {\n    appendSDK(props).then(function () {\n      return initEmbed(props);\n    });\n  }, []);\n  var renderEmbed = useHandler(props, function (_ref3) {\n    var element = _ref3.element;\n    return function renderEmbed() {\n      var data = _get(element, \"data.source\");\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        id: element.id,\n        className: centerAlign\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        \"data-pin-do\": \"embedPin\",\n        \"data-pin-width\": data.size || \"small\",\n        href: data.url\n      }));\n    };\n  });\n  return url ? renderEmbed() : null;\n});","map":null,"metadata":{},"sourceType":"module"}