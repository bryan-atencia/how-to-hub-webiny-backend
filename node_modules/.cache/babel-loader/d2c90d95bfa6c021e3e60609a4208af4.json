{"ast":null,"code":"import * as React from \"react\";\nimport { ReactComponent as UnderlineIcon } from \"@svgr/webpack!@webiny/app-page-builder/editor/assets/icons/format_underlined.svg\";\nimport { isKeyHotkey } from \"is-hotkey\";\nvar isUnderlineHotkey = isKeyHotkey(\"mod+u\");\n\nvar hasMark = function hasMark(value, type) {\n  return Boolean(value.activeMarks.find(function (mark) {\n    return mark.type === type;\n  }));\n};\n\nvar onClickMark = function onClickMark(type, onChange, editor) {\n  editor.change(function (change) {\n    return onChange(change.toggleMark(type));\n  });\n};\n\nvar mark = \"underline\";\nexport default (function () {\n  return {\n    menu: [{\n      name: \"pb-editor-slate-menu-item-underline\",\n      type: \"pb-editor-slate-menu-item\",\n      render: function render(_ref) {\n        var MenuButton = _ref.MenuButton,\n            editor = _ref.editor,\n            onChange = _ref.onChange;\n        var isActive = hasMark(editor.value, mark);\n        return (\n          /*#__PURE__*/\n          // eslint-disable-next-line react/jsx-no-bind\n          React.createElement(MenuButton, {\n            onClick: function onClick() {\n              return onClickMark(mark, onChange, editor);\n            },\n            active: isActive\n          }, /*#__PURE__*/React.createElement(UnderlineIcon, null))\n        );\n      }\n    }],\n    editor: [{\n      name: \"pb-editor-slate-editor-underline\",\n      type: \"pb-editor-slate-editor\",\n      slate: {\n        onKeyDown: function onKeyDown(event, change, next) {\n          // Decide what to do based on the key code...\n          if (isUnderlineHotkey(event)) {\n            event.preventDefault();\n            change.toggleMark(mark);\n            return true;\n          }\n\n          return next();\n        },\n        renderMark: function renderMark(props, next) {\n          if (props.mark.type === mark) {\n            return /*#__PURE__*/React.createElement(\"u\", props.attributes, props.children);\n          }\n\n          return next();\n        }\n      }\n    }]\n  };\n});","map":null,"metadata":{},"sourceType":"module"}