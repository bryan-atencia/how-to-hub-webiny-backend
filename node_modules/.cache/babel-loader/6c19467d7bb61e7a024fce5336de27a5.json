{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction _templateObject10() {\n  var data = _taggedTemplateLiteral([\"Created:\"]);\n\n  _templateObject10 = function _templateObject10() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"Tags:\"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"Type:\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"Size:\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"Name:\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"File deleted successfully.\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"Delete image\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"Download file\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"You're about to delete file {name}. Are you sure you want to continue?\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"Delete file\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n/* eslint-disable */\n\n\nimport React from \"react\";\nimport bytes from \"bytes\";\nimport { css } from \"emotion\";\nimport { Drawer, DrawerContent } from \"@webiny/ui/Drawer\";\nimport { IconButton } from \"@webiny/ui/Button\";\nimport getFileTypePlugin from \"./getFileTypePlugin\";\nimport get from \"lodash.get\";\nimport Tags from \"./FileDetails/Tags\";\nimport Name from \"./FileDetails/Name\";\nimport { Tooltip } from \"@webiny/ui/Tooltip\";\nimport { useHotkeys } from \"react-hotkeyz\";\nimport { ReactComponent as DownloadIcon } from \"@svgr/webpack!./icons/round-cloud_download-24px.svg\";\nimport { ReactComponent as DeleteIcon } from \"@svgr/webpack!./icons/delete.svg\";\nimport TimeAgo from \"timeago-react\";\nimport { useFileManager } from \"./FileManagerContext\";\nimport { useMutation } from \"react-apollo\";\nimport { useSnackbar } from \"@webiny/app-admin/hooks/useSnackbar\";\nimport { ConfirmationDialog } from \"@webiny/ui/ConfirmationDialog\";\nimport { DELETE_FILE } from \"./graphql\";\nimport { i18n } from \"@webiny/app/i18n\";\nvar t = i18n.ns(\"app-admin/file-manager/file-details\");\nvar style = {\n  wrapper: /*#__PURE__*/css({\n    padding: 10,\n    height: \"100%\",\n    overflow: \"auto\"\n  }, \"label:wrapper;\"),\n  header: /*#__PURE__*/css({\n    fontSize: 18,\n    textAlign: \"center\",\n    padding: 10,\n    fontWeight: 600,\n    color: \"var(--mdc-theme-on-surface)\"\n  }, \"label:header;\"),\n  preview: /*#__PURE__*/css({\n    backgroundColor: \"var(--mdc-theme-background)\",\n    padding: 10,\n    position: \"relative\",\n    width: 200,\n    height: 200,\n    margin: \"0 auto\",\n    img: {\n      maxHeight: 200,\n      maxWidth: 200,\n      width: \"auto\",\n      position: \"absolute\",\n      top: \"50%\",\n      left: \"50%\",\n      transform: \"translateX(-50%) translateY(-50%)\",\n      backgroundColor: \"#fff\"\n    }\n  }, \"label:preview;\"),\n  download: /*#__PURE__*/css({\n    textAlign: \"center\",\n    margin: \"0 auto\",\n    width: \"100%\"\n  }, \"label:download;\"),\n  list: /*#__PURE__*/css({\n    textAlign: \"left\",\n    color: \"var(--mdc-theme-on-surface)\",\n    li: {\n      padding: 10,\n      lineHeight: \"22px\",\n      \"li-title\": {\n        fontWeight: 600,\n        display: \"block\"\n      },\n      \"li-content\": {\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        width: \"100%\",\n        display: \"block\"\n      }\n    }\n  }, \"label:list;\")\n};\nexport default function FileDetails(props) {\n  var file = props.file,\n      uploadFile = props.uploadFile,\n      validateFiles = props.validateFiles;\n  var filePlugin = getFileTypePlugin(file);\n  var actions = get(filePlugin, \"fileDetails.actions\") || [];\n\n  var _useFileManager = useFileManager(),\n      hideFileDetails = _useFileManager.hideFileDetails;\n\n  useHotkeys({\n    zIndex: 55,\n    disabled: !file,\n    keys: {\n      esc: hideFileDetails\n    }\n  });\n\n  var _useMutation = useMutation(DELETE_FILE, {\n    refetchQueries: [\"ListFiles\"]\n  }),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      deleteFile = _useMutation2[0];\n\n  var _useSnackbar = useSnackbar(),\n      showSnackbar = _useSnackbar.showSnackbar;\n\n  var fileDeleteConfirmationProps = {\n    title: t(_templateObject()),\n    message: file && /*#__PURE__*/React.createElement(\"span\", null, t(_templateObject2())({\n      name: file.name\n    }))\n  };\n  return /*#__PURE__*/React.createElement(Drawer, {\n    dir: \"rtl\",\n    modal: true,\n    open: file,\n    onClose: hideFileDetails\n  }, file && /*#__PURE__*/React.createElement(\"div\", {\n    className: style.wrapper,\n    dir: \"ltr\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: style.header\n  }, \"File details\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: style.preview\n  }, filePlugin.render({\n    file: file,\n    uploadFile: uploadFile,\n    validateFiles: validateFiles\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: style.download\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Tooltip, {\n    content: /*#__PURE__*/React.createElement(\"span\", null, t(_templateObject3())),\n    placement: \"bottom\"\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    onClick: function onClick() {\n      return window.open(file.src, \"_blank\");\n    },\n    icon: /*#__PURE__*/React.createElement(DownloadIcon, {\n      style: {\n        margin: \"0 8px 0 0\"\n      }\n    })\n  })), actions.map(function (Component, index) {\n    return /*#__PURE__*/React.createElement(Component, Object.assign({\n      key: index\n    }, props));\n  }), /*#__PURE__*/React.createElement(ConfirmationDialog, fileDeleteConfirmationProps, function (_ref) {\n    var showConfirmation = _ref.showConfirmation;\n    return /*#__PURE__*/React.createElement(Tooltip, {\n      content: /*#__PURE__*/React.createElement(\"span\", null, t(_templateObject4())),\n      placement: \"bottom\"\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      icon: /*#__PURE__*/React.createElement(DeleteIcon, {\n        style: {\n          margin: \"0 8px 0 0\"\n        }\n      }),\n      onClick: function onClick() {\n        return showConfirmation( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return deleteFile({\n                    variables: {\n                      id: file.id\n                    }\n                  });\n\n                case 2:\n                  showSnackbar(t(_templateObject5()));\n\n                case 3:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        })));\n      }\n    }));\n  }))), /*#__PURE__*/React.createElement(DrawerContent, {\n    dir: \"ltr\"\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: style.list\n  }, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"li-title\", null, t(_templateObject6())), /*#__PURE__*/React.createElement(Name, props)), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"li-title\", null, t(_templateObject7())), /*#__PURE__*/React.createElement(\"li-content\", null, bytes.format(file.size))), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"li-title\", null, t(_templateObject8())), /*#__PURE__*/React.createElement(\"li-content\", null, file.type)), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"li-title\", null, t(_templateObject9())), /*#__PURE__*/React.createElement(Tags, props)), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"li-title\", null, t(_templateObject10())), /*#__PURE__*/React.createElement(\"li-content\", null, /*#__PURE__*/React.createElement(TimeAgo, {\n    datetime: file.createdOn\n  })))))));\n}","map":null,"metadata":{},"sourceType":"module"}