{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"Manage environments\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"None\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"Change environment\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from \"react\";\nimport { css } from \"emotion\";\nimport { i18n } from \"@webiny/app/i18n\";\nimport { Dialog, DialogTitle, DialogContent } from \"@webiny/ui/Dialog\";\nimport { useCms } from \"@webiny/app-headless-cms/admin/hooks\";\nimport { ButtonDefault, ButtonIcon } from \"@webiny/ui/Button\";\nimport { useRouter } from \"@webiny/react-router\";\nimport { ReactComponent as DoneIcon } from \"@svgr/webpack!@webiny/app-headless-cms/admin/icons/done-24px.svg\";\nimport { ReactComponent as ForwardIcon } from \"@svgr/webpack!@webiny/app-headless-cms/admin/icons/arrow_forward-24px.svg\";\nimport { List, ListItem, ListItemText, ListItemTextPrimary, ListItemTextSecondary, ListItemGraphic } from \"@webiny/ui/List\";\nvar t = i18n.ns(\"app-headless-cms/admin/components/environment-selector-dialog\");\nvar narrowDialog = /*#__PURE__*/css({\n  \".mdc-dialog__surface\": {\n    width: 400,\n    minWidth: 400\n  }\n}, \"label:narrowDialog;\");\nvar centeredBottomButton = /*#__PURE__*/css({\n  textAlign: \"center\",\n  width: \"100%\"\n}, \"label:centeredBottomButton;\");\nvar listWrapper = /*#__PURE__*/css({\n  marginBottom: 10,\n  display: \"flex\",\n  flexDirection: \"column\",\n  \".mdc-list .mdc-list-item\": {\n    borderBottom: \"1px solid var(--mdc-theme-on-background)\"\n  },\n  \".mdc-list .mdc-list-item:last-child\": {\n    borderBottom: \"none\"\n  }\n}, \"label:listWrapper;\");\n\nvar NewContentModelDialog = function NewContentModelDialog(_ref) {\n  var open = _ref.open,\n      onClose = _ref.onClose,\n      onSelectViewAll = _ref.onSelectViewAll,\n      onSelectEnvironment = _ref.onSelectEnvironment;\n\n  var _useCms = useCms(),\n      _useCms$environments = _useCms.environments,\n      currentEnvironment = _useCms$environments.currentEnvironment,\n      environments = _useCms$environments.environments,\n      selectEnvironment = _useCms$environments.selectEnvironment;\n\n  var _useRouter = useRouter(),\n      history = _useRouter.history;\n\n  return /*#__PURE__*/React.createElement(Dialog, {\n    open: open,\n    onClose: onClose,\n    className: narrowDialog,\n    \"data-testid\": \"environment-selector-modal\"\n  }, /*#__PURE__*/React.createElement(DialogTitle, null, t(_templateObject())), /*#__PURE__*/React.createElement(DialogContent, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: listWrapper\n  }, /*#__PURE__*/React.createElement(List, {\n    twoLine: true\n  }, environments.map(function (item) {\n    var selected = currentEnvironment && item.id === currentEnvironment.id;\n    return /*#__PURE__*/React.createElement(ListItem, {\n      key: item.id,\n      onClick: function onClick() {\n        if (selected) {\n          return;\n        }\n\n        if (typeof onSelectEnvironment === \"function\") {\n          onSelectEnvironment({\n            onClose: onClose\n          });\n        } else {\n          selectEnvironment(item);\n          onClose();\n        }\n      }\n    }, /*#__PURE__*/React.createElement(ListItemGraphic, null, selected && /*#__PURE__*/React.createElement(DoneIcon, {\n      style: {\n        color: \"var(--mdc-theme-primary)\"\n      }\n    })), /*#__PURE__*/React.createElement(ListItemText, null, /*#__PURE__*/React.createElement(ListItemTextPrimary, null, item.name), /*#__PURE__*/React.createElement(ListItemTextSecondary, null, \"Alias:\", \" \", item.environmentAlias ? item.environmentAlias.name : t(_templateObject2()))));\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: centeredBottomButton\n  }, /*#__PURE__*/React.createElement(ButtonDefault, {\n    onClick: function onClick() {\n      if (typeof onSelectViewAll === \"function\") {\n        onSelectViewAll({\n          onClose: onClose,\n          redirect: function redirect() {\n            return history.push(\"/settings/cms/environments\");\n          }\n        });\n      } else {\n        onClose(); // Give the dialog a chance to close properly.\n\n        setTimeout(function () {\n          return history.push(\"/settings/cms/environments\");\n        }, 250);\n      }\n    }\n  }, /*#__PURE__*/React.createElement(ButtonIcon, {\n    icon: /*#__PURE__*/React.createElement(ForwardIcon, null)\n  }), t(_templateObject3())))));\n};\n\nexport default NewContentModelDialog;","map":null,"metadata":{},"sourceType":"module"}