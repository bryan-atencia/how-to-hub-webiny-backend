{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"Translated text ({locale})\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"Default locale.\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"Save all\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport * as React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { useHotkeys } from \"react-hotkeyz\";\nimport { Input } from \"@webiny/ui/Input\";\nimport { Grid, Cell } from \"@webiny/ui/Grid\";\nimport I18NRichTextEditor from \"./I18NRichTextEditor\";\nimport { OverlayLayout } from \"@webiny/app-admin/components/OverlayLayout\";\nimport { Form } from \"@webiny/form\";\nimport { useI18N } from \"@webiny/app-i18n/hooks/useI18N\";\nimport { SplitView, LeftPanel, RightPanel } from \"@webiny/app-admin/components/SplitView\";\nimport { List, ListItem } from \"@webiny/ui/List\";\nimport { Typography } from \"@webiny/ui/Typography\";\nimport { ButtonPrimary, ButtonIcon } from \"@webiny/ui/Button\";\nimport { ReactComponent as DoneIcon } from \"@svgr/webpack!./icons/baseline-done-24px.svg\";\nimport { SimpleForm, SimpleFormContent, SimpleFormHeader } from \"@webiny/app-admin/components/SimpleForm\";\nimport { listItem, ListItemTitle, listStyle, TitleContent } from \"./I18NInputLocalesOverlayStyled\";\nimport { i18n } from \"@webiny/app/i18n\";\nvar t = i18n.namespace(\"@webiny/app-i18n/components/translations-overlay\");\n\nvar Content = function Content(_ref) {\n  var richText = _ref.richText,\n      onClose = _ref.onClose,\n      values = _ref.values,\n      onSubmit = _ref.onSubmit;\n  useHotkeys({\n    zIndex: 121,\n    keys: {\n      esc: function esc(event) {\n        event.stopPropagation();\n        onClose();\n      }\n    }\n  });\n\n  var _useI18N = useI18N(),\n      getLocales = _useI18N.getLocales;\n\n  var _React$useState = React.useState(0),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      activeLocaleIndex = _React$useState2[0],\n      setActiveLocaleIndex = _React$useState2[1];\n  /**\n   * In case the i18n dialog is triggered from another dialog, like in the form editor,\n   * OverlayLayout has to be displayed in front of the settings dialog which has a z-index of 20\n   */\n\n\n  return /*#__PURE__*/React.createElement(Form, {\n    submitOnEnter: true,\n    data: values,\n    onSubmit: onSubmit\n  }, function (_ref2) {\n    var Bind = _ref2.Bind,\n        submit = _ref2.submit;\n    return /*#__PURE__*/React.createElement(OverlayLayout, {\n      onExited: onClose,\n      style: {\n        zIndex: 21\n      },\n      barRight: /*#__PURE__*/React.createElement(ButtonPrimary, {\n        onClick: submit\n      }, /*#__PURE__*/React.createElement(ButtonIcon, {\n        icon: /*#__PURE__*/React.createElement(DoneIcon, null)\n      }), t(_templateObject()))\n    }, /*#__PURE__*/React.createElement(SplitView, null, /*#__PURE__*/React.createElement(LeftPanel, {\n      span: 3\n    }, /*#__PURE__*/React.createElement(List, {\n      twoLine: true,\n      className: listStyle\n    }, getLocales().map(function (locale, localeIndex) {\n      return /*#__PURE__*/React.createElement(ListItem, {\n        key: locale.id,\n        className: listItem,\n        onClick: function onClick() {\n          return setActiveLocaleIndex(localeIndex);\n        }\n      }, /*#__PURE__*/React.createElement(TitleContent, null, /*#__PURE__*/React.createElement(ListItemTitle, null, locale.code), /*#__PURE__*/React.createElement(Typography, {\n        use: \"subtitle2\"\n      }, locale.default && t(_templateObject2()))));\n    }))), /*#__PURE__*/React.createElement(RightPanel, {\n      span: 9\n    }, /*#__PURE__*/React.createElement(SimpleForm, null, /*#__PURE__*/React.createElement(SimpleFormHeader, {\n      title: t(_templateObject3())({\n        locale: getLocales()[activeLocaleIndex].code\n      })\n    }), /*#__PURE__*/React.createElement(SimpleFormContent, null, /*#__PURE__*/React.createElement(Grid, null, /*#__PURE__*/React.createElement(Cell, {\n      span: 12\n    }, richText ? /*#__PURE__*/React.createElement(Bind, {\n      name: \"\".concat(activeLocaleIndex, \".value\")\n    }, /*#__PURE__*/React.createElement(I18NRichTextEditor, {\n      label: getLocales()[activeLocaleIndex].code\n    })) : /*#__PURE__*/React.createElement(Bind, {\n      name: \"\".concat(activeLocaleIndex, \".value\")\n    }, /*#__PURE__*/React.createElement(Input, {\n      rows: 4,\n      label: getLocales()[activeLocaleIndex].code\n    })))))))));\n  });\n};\n\nvar I18NInputLocalesOverlay = /*#__PURE__*/function (_React$Component) {\n  _inherits(I18NInputLocalesOverlay, _React$Component);\n\n  var _super = _createSuper(I18NInputLocalesOverlay);\n\n  function I18NInputLocalesOverlay(props) {\n    var _this;\n\n    _classCallCheck(this, I18NInputLocalesOverlay);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"container\", void 0);\n\n    if (!window) {\n      return _possibleConstructorReturn(_this);\n    }\n\n    _this.container = window.document.getElementById(\"i18n-input-locales-container\");\n\n    if (!_this.container) {\n      _this.container = document.createElement(\"div\");\n\n      _this.container.setAttribute(\"id\", \"i18n-input-locales-container\");\n\n      var container = _this.container;\n      document.body && document.body.appendChild(container);\n    }\n\n    return _this;\n  }\n\n  _createClass(I18NInputLocalesOverlay, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          open = _this$props.open,\n          rest = _objectWithoutProperties(_this$props, [\"open\"]);\n\n      if (!open) {\n        return null;\n      }\n\n      return /*#__PURE__*/ReactDOM.createPortal( /*#__PURE__*/React.createElement(Content, rest), this.container);\n    }\n  }]);\n\n  return I18NInputLocalesOverlay;\n}(React.Component);\n\nexport default I18NInputLocalesOverlay;","map":null,"metadata":{},"sourceType":"module"}