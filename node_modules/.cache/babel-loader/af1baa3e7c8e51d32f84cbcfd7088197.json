{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/objectSpread2\";\nimport _get from \"lodash/get\";\nimport React, { useCallback } from \"react\";\nimport { css } from \"emotion\";\nimport styled from \"@emotion/styled\";\nimport { useHandlers } from \"@webiny/app/hooks/useHandlers\";\nimport { connect } from \"@webiny/app-page-builder/editor/redux\";\nimport DropZone from \"@webiny/app-page-builder/editor/components/DropZone\";\nimport Resizer from \"@webiny/app-page-builder/editor/components/Resizer\";\nimport Element from \"@webiny/app-page-builder/editor/components/Element\";\nimport { dropElement } from \"@webiny/app-page-builder/editor/actions\";\nimport { getIsDragging } from \"@webiny/app-page-builder/editor/selectors\";\nimport ResizeHandle from \"./ResizeHandle\";\nvar ColumnContainer = /*#__PURE__*/styled(\"div\", {\n  target: \"e1w915fo0\",\n  label: \"ColumnContainer\"\n})({\n  position: \"relative\",\n  display: \"flex\",\n  \"&:hover\": {\n    \">.resize-handle\": {\n      display: \"block !important\"\n    }\n  }\n});\nvar noPointer = /*#__PURE__*/css({\n  \"> *\": {\n    pointerEvents: \"none\"\n  }\n}, \"label:noPointer;\");\nvar RowChild = /*#__PURE__*/React.memo(function (props) {\n  var onResize = props.onResize,\n      onResizeStop = props.onResizeStop,\n      target = props.target,\n      resizing = props.resizing,\n      element = props.element,\n      index = props.index,\n      leftElement = props.leftElement,\n      _props$last = props.last,\n      last = _props$last === void 0 ? false : _props$last;\n  var resize = useCallback(function (diff) {\n    return onResize(diff);\n  }, [onResize]);\n\n  var _useHandlers = useHandlers(props, {\n    resizeStart: function resizeStart(_ref) {\n      var onResizeStart = _ref.onResizeStart,\n          element = _ref.element,\n          leftElement = _ref.leftElement;\n      return function () {\n        onResizeStart(leftElement, element);\n      };\n    },\n    dropElementLeft: function dropElementLeft(_ref2) {\n      var target = _ref2.target,\n          index = _ref2.index,\n          dropElement = _ref2.dropElement;\n      return function (source) {\n        dropElement({\n          source: source,\n          target: _objectSpread(_objectSpread({}, target), {}, {\n            position: index\n          })\n        });\n      };\n    },\n    dropElementRight: function dropElementRight(_ref3) {\n      var target = _ref3.target,\n          count = _ref3.count,\n          dropElement = _ref3.dropElement;\n      return function (source) {\n        dropElement({\n          source: source,\n          target: _objectSpread(_objectSpread({}, target), {}, {\n            position: count\n          })\n        });\n      };\n    }\n  }),\n      resizeStart = _useHandlers.resizeStart,\n      dropElementLeft = _useHandlers.dropElementLeft,\n      dropElementRight = _useHandlers.dropElementRight;\n\n  return /*#__PURE__*/React.createElement(ColumnContainer, {\n    \"data-type\": \"row-column-container\",\n    style: {\n      width: _get(element, \"data.width\", 100) + \"%\",\n      position: \"relative\"\n    }\n  }, index > 0 && /*#__PURE__*/React.createElement(Resizer, {\n    axis: \"x\",\n    onResizeStart: resizeStart,\n    onResizeStop: onResizeStop,\n    onResize: resize\n  }, function (resizeProps) {\n    return /*#__PURE__*/React.createElement(ResizeHandle, Object.assign({}, resizeProps, {\n      leftWidth: leftElement.data.width,\n      rightWidth: element.data.width\n    }));\n  }), /*#__PURE__*/React.createElement(DropZone.Left, {\n    type: target.type,\n    onDrop: dropElementLeft\n  }), /*#__PURE__*/React.createElement(Element, {\n    id: element.id,\n    className: resizing && noPointer\n  }), last && /*#__PURE__*/React.createElement(DropZone.Right, {\n    type: target.type,\n    onDrop: dropElementRight\n  }));\n});\nexport default connect(function (state) {\n  return {\n    isDragging: getIsDragging(state)\n  };\n}, {\n  dropElement: dropElement\n})(RowChild);","map":null,"metadata":{},"sourceType":"module"}