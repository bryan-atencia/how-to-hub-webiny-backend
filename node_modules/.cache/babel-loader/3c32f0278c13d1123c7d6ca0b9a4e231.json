{"ast":null,"code":"import React from \"react\";\nimport { css } from \"emotion\";\nimport { useRouter } from \"@webiny/react-router\";\nimport { Query } from \"react-apollo\";\nimport { Dialog, DialogTitle, DialogContent, DialogActions } from \"@webiny/ui/Dialog\";\nimport { List, ListItem, ListItemText, ListItemTextPrimary, ListItemTextSecondary } from \"@webiny/ui/List\";\nimport { ButtonDefault } from \"@webiny/ui/Button\";\nimport { LIST_CATEGORIES_BY_NAME } from \"./graphql\";\nvar narrowDialog = /*#__PURE__*/css({\n  \".mdc-dialog__surface\": {\n    width: 400,\n    minWidth: 400\n  }\n}, \"label:narrowDialog;\");\n\nvar CategoriesDialog = function CategoriesDialog(_ref) {\n  var open = _ref.open,\n      onClose = _ref.onClose,\n      onSelect = _ref.onSelect,\n      children = _ref.children;\n\n  var _useRouter = useRouter(),\n      history = _useRouter.history;\n\n  return /*#__PURE__*/React.createElement(Dialog, {\n    open: open,\n    onClose: onClose,\n    className: narrowDialog,\n    \"data-testid\": \"pb-new-page-category-modal\"\n  }, children, /*#__PURE__*/React.createElement(DialogTitle, null, \"Select a category\"), /*#__PURE__*/React.createElement(DialogContent, null, /*#__PURE__*/React.createElement(List, {\n    twoLine: true\n  }, /*#__PURE__*/React.createElement(Query, {\n    query: LIST_CATEGORIES_BY_NAME\n  }, function (_ref2) {\n    var data = _ref2.data,\n        loading = _ref2.loading;\n\n    if (loading) {\n      return /*#__PURE__*/React.createElement(\"span\", null, \"Loading categories...\");\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, data.pageBuilder.categories.data.map(function (item) {\n      return /*#__PURE__*/React.createElement(ListItem, {\n        key: item.id,\n        onClick: function onClick() {\n          return onSelect(item);\n        }\n      }, /*#__PURE__*/React.createElement(ListItemText, null, /*#__PURE__*/React.createElement(ListItemTextPrimary, null, item.name), /*#__PURE__*/React.createElement(ListItemTextSecondary, null, item.url)));\n    }));\n  }))), /*#__PURE__*/React.createElement(DialogActions, null, /*#__PURE__*/React.createElement(ButtonDefault, {\n    onClick: function onClick() {\n      return history.push(\"/page-builder/categories\");\n    }\n  }, \"+ Create new category\")));\n};\n\nexport default CategoriesDialog;","map":null,"metadata":{},"sourceType":"module"}