{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/objectSpread2\";\nimport React from \"react\";\nimport { useFormEditor } from \"@webiny/app-form-builder/admin/components/FormEditor/Context\";\nimport { getPlugins } from \"@webiny/plugins\";\nimport styled from \"@emotion/styled\";\nimport { css } from \"emotion\";\nimport { Icon } from \"@webiny/ui/Icon\";\nimport { Accordion, AccordionItem } from \"@webiny/ui/Accordion\";\nimport { ReactComponent as HandleIcon } from \"@svgr/webpack!./icons/round-drag_indicator-24px.svg\";\nimport Draggable from \"./Draggable\";\nvar FieldContainer = /*#__PURE__*/styled(\"div\", {\n  target: \"e3hzdr60\",\n  label: \"FieldContainer\"\n})({\n  padding: \"10px 15px\",\n  marginBottom: 20,\n  display: \"flex\",\n  width: \"100%\",\n  backgroundColor: \"var(--mdc-theme-on-background)\",\n  borderRadius: 15,\n  boxSizing: \"border-box\",\n  cursor: \"grab\",\n  opacity: 1,\n  transition: \"opacity 225ms\",\n  \"&:hover\": {\n    opacity: 0.8\n  },\n  \"&:last-child\": {\n    marginBottom: 0\n  }\n});\nvar FieldLabel = /*#__PURE__*/styled(\"div\", {\n  target: \"e3hzdr61\",\n  label: \"FieldLabel\"\n})({\n  textTransform: \"uppercase\",\n  lineHeight: \"145%\",\n  color: \"var(--mdc-theme-on-surface)\"\n});\nvar FieldHandle = /*#__PURE__*/styled(\"div\", {\n  target: \"e3hzdr62\",\n  label: \"FieldHandle\"\n})({\n  marginRight: 15,\n  color: \"var(--mdc-theme-on-surface)\"\n});\nvar FormAccordionContent = /*#__PURE__*/styled(\"div\", {\n  target: \"e3hzdr63\",\n  label: \"FormAccordionContent\"\n})({\n  marginLeft: -40\n});\nvar accordionItem = /*#__PURE__*/css({\n  \"&.webiny-ui-accordion-item\": {\n    \".webiny-ui-accordion-item__list-item\": {\n      height: \"14px\",\n      borderRadius: \"15px !important\",\n      padding: \"15px 20px 14px 20px\",\n      textTransform: \"uppercase\",\n      backgroundColor: \"var(--mdc-theme-on-background)\",\n      marginBottom: 20,\n      \".webiny-ui-accordion-item__title\": {\n        \">div\": {\n          fontWeight: 400\n        }\n      }\n    },\n    \".webiny-ui-accordion-item__content\": {\n      border: \"1px solid var(--mdc-theme-on-background)\",\n      borderRadius: 15,\n      paddingTop: 60,\n      marginTop: -65,\n      marginBottom: 20\n    }\n  }\n}, \"label:accordionItem;\");\n\nvar Field = function Field(_ref) {\n  var onFieldDragStart = _ref.onFieldDragStart,\n      _ref$fieldType = _ref.fieldType,\n      name = _ref$fieldType.name,\n      label = _ref$fieldType.label;\n  return /*#__PURE__*/React.createElement(Draggable, {\n    beginDrag: {\n      ui: \"field\",\n      name: name\n    }\n  }, function (_ref2) {\n    var drag = _ref2.drag;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: drag,\n      style: {\n        marginBottom: 10\n      },\n      onDragStart: onFieldDragStart\n    }, /*#__PURE__*/React.createElement(FieldContainer, null, /*#__PURE__*/React.createElement(FieldHandle, null, /*#__PURE__*/React.createElement(Icon, {\n      icon: /*#__PURE__*/React.createElement(HandleIcon, null)\n    })), /*#__PURE__*/React.createElement(FieldLabel, null, label)));\n  });\n};\n\nexport var Fields = function Fields(_ref3) {\n  var onFieldDragStart = _ref3.onFieldDragStart;\n\n  var _useFormEditor = useFormEditor(),\n      getField = _useFormEditor.getField;\n\n  function getGroups() {\n    var presetFieldPlugins = getPlugins(\"form-editor-field-type\").filter(function (pl) {\n      return pl.field.group;\n    }).filter(function (pl) {\n      if (pl.field.unique) {\n        return !getField({\n          name: pl.field.name\n        });\n      }\n\n      return true;\n    });\n    return getPlugins(\"form-editor-field-group\").map(function (pl) {\n      return _objectSpread(_objectSpread({}, pl.group), {}, {\n        name: pl.name,\n        fields: presetFieldPlugins.filter(function (f) {\n          return f.field.group === pl.name;\n        }).map(function (pl) {\n          return pl.field;\n        })\n      });\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Field, {\n    fieldType: {\n      name: \"custom\",\n      label: \"Custom field\"\n    },\n    onFieldDragStart: onFieldDragStart\n  }), /*#__PURE__*/React.createElement(Accordion, {\n    elevation: 0\n  }, getGroups().map(function (group) {\n    return /*#__PURE__*/React.createElement(AccordionItem, {\n      key: group.name,\n      title: group.title,\n      icon: null,\n      className: accordionItem\n    }, /*#__PURE__*/React.createElement(FormAccordionContent, null, !group.fields.length && /*#__PURE__*/React.createElement(\"span\", null, \"No fields are available at the moment!\"), group.fields.map(function (fieldType) {\n      return /*#__PURE__*/React.createElement(Field, {\n        key: fieldType.name,\n        fieldType: fieldType,\n        onFieldDragStart: onFieldDragStart\n      });\n    })));\n  })));\n};","map":null,"metadata":{},"sourceType":"module"}