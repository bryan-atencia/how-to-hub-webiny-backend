{"ast":null,"code":"import _get from \"lodash/get\";\nimport React from \"react\";\nimport { css } from \"emotion\";\nimport { useRouter } from \"@webiny/react-router\";\nimport { ButtonDefault } from \"@webiny/ui/Button\";\nimport { Icon } from \"@webiny/ui/Icon\";\nimport { ReactComponent as DownButton } from \"@svgr/webpack!@webiny/app-page-builder/admin/assets/round-arrow_drop_down-24px.svg\";\nimport { MenuItem } from \"@rmwc/menu\";\nimport { Typography } from \"@webiny/ui/Typography\";\nimport { Menu } from \"@webiny/ui/Menu\";\nimport { usePageDetails } from \"@webiny/app-page-builder/admin/hooks/usePageDetails\";\nvar buttonStyle = /*#__PURE__*/css({\n  \"&.mdc-button\": {\n    color: \"var(--mdc-theme-text-primary-on-background) !important\"\n  }\n}, \"label:buttonStyle;\");\nvar menuList = /*#__PURE__*/css({\n  \".mdc-list-item\": {\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"baseline\",\n    textAlign: \"left\"\n  }\n}, \"label:menuList;\");\n\nvar RevisionSelector = function RevisionSelector() {\n  var _usePageDetails = usePageDetails(),\n      page = _usePageDetails.page;\n\n  var _useRouter = useRouter(),\n      location = _useRouter.location,\n      history = _useRouter.history;\n\n  var query = new URLSearchParams(location.search);\n  return /*#__PURE__*/React.createElement(Menu, {\n    className: menuList,\n    onSelect: function onSelect(evt) {\n      query.set(\"id\", page.revisions[evt.detail.index].id);\n      history.push({\n        search: query.toString()\n      });\n    },\n    handle: /*#__PURE__*/React.createElement(ButtonDefault, {\n      className: buttonStyle\n    }, \"v\", page.version, \" \", /*#__PURE__*/React.createElement(Icon, {\n      icon: /*#__PURE__*/React.createElement(DownButton, null)\n    }))\n  }, (_get(page, \"revisions\") || []).map(function (rev) {\n    var status = \"draft\";\n\n    if (rev.published) {\n      status = \"published\";\n    }\n\n    if (rev.locked && !rev.published) {\n      status = \"locked\";\n    }\n\n    return /*#__PURE__*/React.createElement(MenuItem, {\n      key: rev.id\n    }, /*#__PURE__*/React.createElement(Typography, {\n      use: \"body2\"\n    }, \"v\", rev.version), /*#__PURE__*/React.createElement(Typography, {\n      use: \"caption\"\n    }, \"(\", status, \")\"));\n  }));\n};\n\nexport default RevisionSelector;","map":null,"metadata":{},"sourceType":"module"}