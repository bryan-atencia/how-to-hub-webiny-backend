{"ast":null,"code":"import _get from \"lodash/get\";\nimport React from \"react\";\nimport { css } from \"emotion\";\nimport { useRouter } from \"@webiny/react-router\";\nimport { ButtonDefault } from \"@webiny/ui/Button\";\nimport { Icon } from \"@webiny/ui/Icon\";\nimport { ReactComponent as DownButton } from \"@svgr/webpack!@webiny/app-headless-cms/admin/icons/round-arrow_drop_down-24px.svg\";\nimport { Typography } from \"@webiny/ui/Typography\";\nimport { Menu, MenuItem } from \"@webiny/ui/Menu\";\nvar buttonStyle = /*#__PURE__*/css({\n  \"&.mdc-button\": {\n    color: \"var(--mdc-theme-text-primary-on-background) !important\"\n  }\n}, \"label:buttonStyle;\");\nvar menuStyles = /*#__PURE__*/css({\n  width: 150,\n  right: 0,\n  \".mdc-list-item\": {\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"baseline\",\n    textAlign: \"left\"\n  }\n}, \"label:menuStyles;\");\n\nvar RevisionSelector = function RevisionSelector(_ref) {\n  var content = _ref.content,\n      getLoading = _ref.getLoading,\n      revisionsList = _ref.revisionsList;\n\n  var _useRouter = useRouter(),\n      location = _useRouter.location,\n      history = _useRouter.history;\n\n  var query = new URLSearchParams(location.search);\n  var currentRevision = {\n    version: _get(content, \"meta.version\", 1),\n    status: _get(content, \"meta.status\", \"draft\")\n  };\n\n  var allRevisions = _get(revisionsList, \"data.content.data.meta.revisions\", [{\n    id: \"new\",\n    meta: {\n      version: 1,\n      status: \"draft\"\n    }\n  }]);\n\n  return /*#__PURE__*/React.createElement(Menu, {\n    className: menuStyles,\n    handle: /*#__PURE__*/React.createElement(ButtonDefault, {\n      className: buttonStyle,\n      disabled: getLoading()\n    }, \"v\", currentRevision.version, \" (\", currentRevision.status, \")\", \" \", /*#__PURE__*/React.createElement(Icon, {\n      icon: /*#__PURE__*/React.createElement(DownButton, null)\n    }))\n  }, allRevisions.map(function (revision) {\n    return /*#__PURE__*/React.createElement(MenuItem, {\n      key: revision.id,\n      onClick: function onClick() {\n        query.set(\"id\", revision.id);\n        history.push({\n          search: query.toString()\n        });\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      use: \"body2\"\n    }, \"v\", revision.meta.version), /*#__PURE__*/React.createElement(Typography, {\n      use: \"caption\"\n    }, \"(\", revision.meta.status, \")\"));\n  }));\n};\n\nexport default RevisionSelector;","map":null,"metadata":{},"sourceType":"module"}