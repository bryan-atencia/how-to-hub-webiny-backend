{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState } from \"react\";\nimport { useQuery } from \"react-apollo\";\nimport { get } from \"dot-prop-immutable\";\nimport { LIST_ELEMENTS } from \"@webiny/app-page-builder/admin/graphql/pages\";\nimport createElementPlugin from \"../../utils/createElementPlugin\";\nimport createBlockPlugin from \"../../utils/createBlockPlugin\";\nexport var useSavedElements = function useSavedElements() {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      ready = _useState2[0],\n      setReady = _useState2[1];\n\n  var _useQuery = useQuery(LIST_ELEMENTS, {\n    skip: ready\n  }),\n      data = _useQuery.data,\n      loading = _useQuery.loading;\n\n  if (ready) {\n    return true;\n  }\n\n  if (loading) {\n    return false;\n  }\n\n  var elements = get(data, \"pageBuilder.elements.data\");\n\n  if (!ready) {\n    elements.forEach(function (el) {\n      if (el.type === \"element\") {\n        createElementPlugin(el);\n      } else {\n        createBlockPlugin(el);\n      }\n    });\n    setReady(true);\n  }\n\n  return ready;\n};","map":null,"metadata":{},"sourceType":"module"}