{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    {\\n        networkError\\n    }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from \"react\";\nimport { useQuery } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport { Alert } from \"@webiny/ui/Alert\";\nimport { Elevation } from \"@webiny/ui/Elevation\";\nimport { css } from \"emotion\";\nimport styled from \"@emotion/styled\";\nvar GET_ERROR = gql(_templateObject());\nvar errorStyle = /*#__PURE__*/css({\n  margin: 50,\n  padding: \"15px 25px 5px 25px\",\n  boxSizing: \"border-box\"\n}, \"label:errorStyle;\");\nvar Code = /*#__PURE__*/styled(\"span\", {\n  target: \"ezc5eti0\",\n  label: \"Code\"\n})({\n  padding: \"2px 5px\",\n  margin: \"0 2px\",\n  borderRadius: \"5px\",\n  color: \"var(--webiny-theme-color-on-primary)\",\n  backgroundColor: \"var(--webiny-theme-color-primary)\"\n});\nvar Paragraph = /*#__PURE__*/styled(\"span\", {\n  target: \"ezc5eti1\",\n  label: \"Paragraph\"\n})({\n  lineHeight: 1.8\n});\n\nvar NetworkError = function NetworkError(_ref) {\n  var children = _ref.children;\n\n  var _useQuery = useQuery(GET_ERROR, {\n    fetchPolicy: \"cache-only\"\n  }),\n      data = _useQuery.data;\n\n  if (!process.env.REACT_APP_GRAPHQL_API_URL && process.env.NODE_ENV === \"production\") {\n    return /*#__PURE__*/React.createElement(Elevation, {\n      className: errorStyle,\n      z: 2\n    }, /*#__PURE__*/React.createElement(Alert, {\n      type: \"danger\",\n      title: \"GraphQL API is unavailable\"\n    }, /*#__PURE__*/React.createElement(Paragraph, null, \"Looks like you've deployed your apps before deploying an API for them.\", /*#__PURE__*/React.createElement(\"br\", null), \"Make sure you deploy a matching API environment before deploying your apps by running\", /*#__PURE__*/React.createElement(Code, null, \"yarn webiny deploy api --env=your-env\"), \". This is necessary for your apps to be built correctly.\", /*#__PURE__*/React.createElement(\"br\", null), \"Once your API is deployed, deploy your apps by running\", /*#__PURE__*/React.createElement(Code, null, \"yarn webiny deploy apps --env=your-env\"), \".\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(Paragraph, null, \"For step by step instructions on deploying your apps, visit our\", \" \", /*#__PURE__*/React.createElement(\"a\", {\n      target: \"_blank\",\n      rel: \"noreferrer\",\n      href: \"https://docs.webiny.com/docs/get-started/going-live\"\n    }, \"Going Live guide\"), \".\")));\n  }\n\n  if (!process.env.REACT_APP_GRAPHQL_API_URL && process.env.NODE_ENV === \"development\") {\n    return /*#__PURE__*/React.createElement(Elevation, {\n      className: errorStyle,\n      z: 2\n    }, /*#__PURE__*/React.createElement(Alert, {\n      type: \"danger\",\n      title: \"GraphQL API is unavailable\"\n    }, /*#__PURE__*/React.createElement(Paragraph, null, \"Looks like you've started your app before deploying an API for it.\", /*#__PURE__*/React.createElement(\"br\", null), \"Make sure you deploy a \", /*#__PURE__*/React.createElement(Code, null, \"local\"), \" environment of your API by running\", /*#__PURE__*/React.createElement(Code, null, \"yarn webiny deploy api --env=local\"), \". This is necessary to run local React apps.\", /*#__PURE__*/React.createElement(\"br\", null), \"Once your API is deployed, restart this app via your terminal by running\", \" \", /*#__PURE__*/React.createElement(Code, null, \"yarn start\"), \" again.\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(Paragraph, null, \"For step by step instructions on getting started with Webiny, visit our\", \" \", /*#__PURE__*/React.createElement(\"a\", {\n      target: \"_blank\",\n      rel: \"noreferrer\",\n      href: \"https://docs.webiny.com/docs/get-started/quick-start\"\n    }, \"Quick Start guide\"), \".\")));\n  }\n\n  return data && data.networkError ? /*#__PURE__*/React.createElement(Elevation, {\n    className: errorStyle,\n    z: 2\n  }, /*#__PURE__*/React.createElement(Alert, {\n    type: \"danger\",\n    title: \"GraphQL API is unavailable\"\n  }, /*#__PURE__*/React.createElement(Paragraph, null, \"Your API seems to be unavailable!\", /*#__PURE__*/React.createElement(\"br\", null), \"Make sure your API is working by visiting\", \" \", /*#__PURE__*/React.createElement(\"a\", {\n    href: process.env.REACT_APP_GRAPHQL_API_URL,\n    target: \"_blank\",\n    rel: \"noreferrer\"\n  }, process.env.REACT_APP_GRAPHQL_API_URL), \".\", /*#__PURE__*/React.createElement(\"br\", null), \"If you've recently deployed your API, please allow \", /*#__PURE__*/React.createElement(Code, null, \"~10 minutes\"), \" \", \"for your API URL to become available.\"))) : children;\n};\n\nexport { NetworkError, GET_ERROR };","map":null,"metadata":{},"sourceType":"module"}