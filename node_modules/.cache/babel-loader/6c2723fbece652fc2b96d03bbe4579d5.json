{"ast":null,"code":"import React, { useEffect, useRef, useMemo } from \"react\";\nimport { Form } from \"@webiny/form\";\nimport { Grid, Cell } from \"@webiny/ui/Grid\";\nimport { CircularProgress } from \"@webiny/ui/Progress\";\nimport { getPlugins } from \"@webiny/plugins\";\nimport RenderFieldElement from \"./ContentFormRender/RenderFieldElement\";\nimport styled from \"@emotion/styled\";\nvar FormWrapper = /*#__PURE__*/styled(\"div\", {\n  target: \"e1jm1wcw0\",\n  label: \"FormWrapper\"\n})({\n  height: \"70vh\",\n  overflow: \"auto\"\n});\nexport var ContentFormRender = function ContentFormRender(_ref) {\n  var getFields = _ref.getFields,\n      getDefaultValues = _ref.getDefaultValues,\n      _ref$loading = _ref.loading,\n      loading = _ref$loading === void 0 ? false : _ref$loading,\n      content = _ref.content,\n      contentModel = _ref.contentModel,\n      onSubmit = _ref.onSubmit,\n      onChange = _ref.onChange,\n      locale = _ref.locale,\n      _ref$onForm = _ref.onForm,\n      onForm = _ref$onForm === void 0 ? null : _ref$onForm; // All form fields - an array of rows where each row is an array that contain fields.\n\n  var fields = getFields();\n  var ref = useRef(null);\n  useEffect(function () {\n    typeof onForm === \"function\" && onForm(ref.current);\n  }, []);\n  var renderPlugins = useMemo(function () {\n    return getPlugins(\"cms-editor-field-renderer\");\n  }, []);\n  return /*#__PURE__*/React.createElement(Form, {\n    onChange: onChange,\n    onSubmit: onSubmit,\n    data: content ? content : getDefaultValues(),\n    ref: ref\n  }, function (_ref2) {\n    var Bind = _ref2.Bind;\n    return /*#__PURE__*/React.createElement(FormWrapper, {\n      \"data-testid\": \"cms-content-form\"\n    }, loading && /*#__PURE__*/React.createElement(CircularProgress, null), /*#__PURE__*/React.createElement(Grid, null, fields.map(function (row, rowIndex) {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        key: rowIndex\n      }, row.map(function (field) {\n        return /*#__PURE__*/React.createElement(Cell, {\n          span: Math.floor(12 / row.length),\n          key: field._id\n        }, /*#__PURE__*/React.createElement(RenderFieldElement, {\n          field: field,\n          Bind: Bind,\n          locale: locale,\n          renderPlugins: renderPlugins,\n          contentModel: contentModel\n        }));\n      }));\n    })));\n  });\n};","map":null,"metadata":{},"sourceType":"module"}