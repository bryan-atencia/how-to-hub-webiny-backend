{"ast":null,"code":"import * as React from \"react\";\nimport { Form } from \"@webiny/form\";\nimport { validation } from \"@webiny/validation\";\nimport { ButtonPrimary, ButtonDefault } from \"@webiny/ui/Button\";\nimport { Input } from \"@webiny/ui/Input\";\nimport { Grid, Cell } from \"@webiny/ui/Grid\";\nimport { Typography } from \"@webiny/ui/Typography\";\nimport { Alert } from \"@webiny/ui/Alert\";\nimport { Elevation } from \"@webiny/ui/Elevation\";\nimport StateContainer from \"./StateContainer\";\nimport { alignRight, InnerContent, Title } from \"./StyledComponents\";\nimport { CircularProgress } from \"@webiny/ui/Progress\";\n\nvar ForgotPassword = function ForgotPassword(_ref) {\n  var requestCode = _ref.requestCode,\n      setPassword = _ref.setPassword,\n      codeSent = _ref.codeSent,\n      error = _ref.error,\n      loading = _ref.loading,\n      authProps = _ref.authProps;\n\n  var _ref2 = authProps.authData || {},\n      _ref2$username = _ref2.username,\n      username = _ref2$username === void 0 ? \"\" : _ref2$username;\n\n  return /*#__PURE__*/React.createElement(StateContainer, null, /*#__PURE__*/React.createElement(Form, {\n    data: {\n      username: username\n    },\n    onSubmit: function onSubmit(_ref3) {\n      var username = _ref3.username;\n      return codeSent ? setPassword({\n        username: username\n      }) : requestCode({\n        username: username\n      });\n    },\n    submitOnEnter: true\n  }, function (_ref4) {\n    var Bind = _ref4.Bind,\n        submit = _ref4.submit,\n        data = _ref4.data;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Elevation, {\n      z: 2\n    }, /*#__PURE__*/React.createElement(InnerContent, null, loading && /*#__PURE__*/React.createElement(CircularProgress, null), /*#__PURE__*/React.createElement(Title, null, /*#__PURE__*/React.createElement(\"h1\", null, /*#__PURE__*/React.createElement(Typography, {\n      use: \"headline4\"\n    }, \"Password recovery\")), /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(Typography, {\n      use: \"subtitle2\"\n    }, \"request a password reset code\"))), error && /*#__PURE__*/React.createElement(Grid, null, /*#__PURE__*/React.createElement(Cell, {\n      span: 12\n    }, /*#__PURE__*/React.createElement(Alert, {\n      title: \"Something went wrong\",\n      type: \"danger\"\n    }, error))), !codeSent ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Grid, null, /*#__PURE__*/React.createElement(Cell, {\n      span: 12\n    }, /*#__PURE__*/React.createElement(Bind, {\n      name: \"username\",\n      validators: validation.create(\"required\"),\n      beforeChange: function beforeChange(val, cb) {\n        return cb(val.toLowerCase());\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      label: \"Email\",\n      outlined: true,\n      description: \"A reset code will be sent to your email.\"\n    })))), /*#__PURE__*/React.createElement(Grid, null, /*#__PURE__*/React.createElement(Cell, {\n      span: 12,\n      className: alignRight\n    }, /*#__PURE__*/React.createElement(ButtonPrimary, {\n      onClick: submit\n    }, \"Send me the code\")))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Grid, null, /*#__PURE__*/React.createElement(Cell, {\n      span: 12\n    }, /*#__PURE__*/React.createElement(Typography, {\n      use: \"body1\"\n    }, \"We have sent you a code to reset your password!\", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), \"Click the \\\"Resend code\\\" button below to resend the code in case you haven't received it the first time.\"))), /*#__PURE__*/React.createElement(Grid, null, /*#__PURE__*/React.createElement(Cell, {\n      span: 12,\n      className: alignRight\n    }, /*#__PURE__*/React.createElement(ButtonDefault, {\n      onClick: function onClick() {\n        return requestCode({\n          username: data.username\n        });\n      }\n    }, \"Resend code\"), /*#__PURE__*/React.createElement(ButtonPrimary, {\n      onClick: submit\n    }, \"I got the code!\")))))), /*#__PURE__*/React.createElement(Grid, null, /*#__PURE__*/React.createElement(Cell, {\n      span: 12,\n      style: {\n        textAlign: \"center\"\n      }\n    }, \"Want to sign in? \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      onClick: function onClick() {\n        return authProps.changeState(\"signIn\");\n      }\n    }, \"Sign in\"))));\n  }));\n};\n\nexport default ForgotPassword;","map":null,"metadata":{},"sourceType":"module"}