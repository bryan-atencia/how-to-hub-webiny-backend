{"ast":null,"code":"import _get from \"lodash/get\";\nimport React from \"react\";\nimport { Query } from \"react-apollo\";\nimport { renderPlugins } from \"@webiny/app/plugins\";\nimport { useRouter } from \"@webiny/react-router\";\nimport styled from \"@emotion/styled\";\nimport { Elevation } from \"@webiny/ui/Elevation\";\nimport { GET_FORM } from \"@webiny/app-form-builder/admin/viewsGraphql\";\nimport { useSnackbar } from \"@webiny/app-admin/hooks/useSnackbar\";\nimport { Tabs } from \"@webiny/ui/Tabs\";\nvar EmptySelect = /*#__PURE__*/styled(\"div\", {\n  target: \"e1edn85r0\",\n  label: \"EmptySelect\"\n})({\n  width: \"100%\",\n  height: \"100%\",\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  color: \"var(--mdc-theme-on-surface)\",\n  \".select-form\": {\n    maxWidth: 400,\n    padding: \"50px 100px\",\n    textAlign: \"center\",\n    display: \"block\",\n    borderRadius: 2,\n    backgroundColor: \"var(--mdc-theme-surface)\"\n  }\n});\nvar DetailsContainer = /*#__PURE__*/styled(\"div\", {\n  target: \"e1edn85r1\",\n  label: \"DetailsContainer\"\n})({\n  height: \"calc(100% - 10px)\",\n  overflow: \"hidden\",\n  position: \"relative\",\n  nav: {\n    backgroundColor: \"var(--mdc-theme-surface)\"\n  }\n});\n\nvar EmptyFormDetails = function EmptyFormDetails() {\n  return /*#__PURE__*/React.createElement(EmptySelect, null, /*#__PURE__*/React.createElement(Elevation, {\n    z: 2,\n    className: \"select-form\"\n  }, \"Select a form on the left side, or click the green button to create a new one.\"));\n};\n\nvar FormDetails = function FormDetails(_ref) {\n  var refreshForms = _ref.refreshForms;\n\n  var _useRouter = useRouter(),\n      location = _useRouter.location,\n      history = _useRouter.history;\n\n  var _useSnackbar = useSnackbar(),\n      showSnackbar = _useSnackbar.showSnackbar;\n\n  var query = new URLSearchParams(location.search);\n  var formId = query.get(\"id\");\n\n  if (!formId) {\n    return /*#__PURE__*/React.createElement(EmptyFormDetails, null);\n  }\n\n  return /*#__PURE__*/React.createElement(Query, {\n    query: GET_FORM,\n    variables: {\n      id: formId\n    },\n    onCompleted: function onCompleted(data) {\n      var error = _get(data, \"forms.form.error.message\");\n\n      if (error) {\n        query.delete(\"id\");\n        history.push({\n          search: query.toString()\n        });\n        showSnackbar(error);\n      }\n    }\n  }, function (_ref2) {\n    var data = _ref2.data,\n        loading = _ref2.loading;\n    var form = _get(data, \"forms.form.data\") || null;\n    return /*#__PURE__*/React.createElement(DetailsContainer, null, form && /*#__PURE__*/React.createElement(Tabs, null, renderPlugins(\"forms-form-details-revision-content\", {\n      refreshForms: refreshForms,\n      form: form,\n      loading: loading\n    }, {\n      wrapper: false\n    })));\n  });\n};\n\nexport default FormDetails;","map":null,"metadata":{},"sourceType":"module"}