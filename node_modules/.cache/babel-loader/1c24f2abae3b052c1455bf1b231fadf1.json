{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect, useRef, useCallback } from \"react\";\nimport Downshift from \"downshift\";\nimport { Elevation } from \"@webiny/ui/Elevation\";\nimport { ReactComponent as FormatHeadingIcon } from \"@svgr/webpack!@webiny/app-i18n/admin/assets/icons/format_size.svg\";\nimport { useHandler } from \"@webiny/app/hooks/useHandler\";\nimport { Item, Button, List, dropDownDialog, iconStyle } from \"./Styled\";\nimport theme from \"./theme\";\nimport { Editor, Transforms } from \"slate\";\n\nvar TypographySelector = function TypographySelector(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      showMenu = _useState2[0],\n      setShowMenu = _useState2[1];\n\n  var dropdown = useRef();\n  useEffect(function () {\n    if (showMenu) {\n      var domRect = dropdown.current.getBoundingClientRect();\n\n      if (domRect.right > window.innerWidth) {\n        dropdown.current.style.left = window.innerWidth - domRect.right + \"px\";\n      }\n    }\n  });\n  var setBlock = useHandler(props, function (_ref) {\n    var editor = _ref.editor;\n    return function (type) {\n      Transforms.setNodes(editor, {\n        type: type\n      });\n    };\n  });\n  var onStateChange = useCallback(function (_ref2) {\n    var isOpen = _ref2.isOpen;\n    return setShowMenu(isOpen);\n  }, []);\n  var editor = props.editor;\n\n  var _Editor$nodes = Editor.nodes(editor, {\n    match: function match(n) {\n      return Editor.isBlock(editor, n);\n    }\n  }),\n      _Editor$nodes2 = _slicedToArray(_Editor$nodes, 1),\n      match = _Editor$nodes2[0];\n\n  var blockType = match ? match[0].type : \"paragraph\";\n  var style = theme.typography[blockType] || theme.typography.paragraph;\n  return /*#__PURE__*/React.createElement(Downshift, {\n    selectedItem: blockType,\n    onChange: setBlock,\n    onStateChange: onStateChange\n  }, function (_ref3) {\n    var isOpen = _ref3.isOpen,\n        getToggleButtonProps = _ref3.getToggleButtonProps,\n        getItemProps = _ref3.getItemProps,\n        selectedItem = _ref3.selectedItem;\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Button, getToggleButtonProps(), /*#__PURE__*/React.createElement(FormatHeadingIcon, {\n      className: iconStyle\n    }), style.label), isOpen && /*#__PURE__*/React.createElement(Elevation, {\n      z: 2,\n      className: dropDownDialog\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: dropdown\n    }, /*#__PURE__*/React.createElement(List, null, Object.keys(theme.typography).map(function (name) {\n      var style = theme.typography[name];\n      return /*#__PURE__*/React.createElement(Item, Object.assign({}, getItemProps({\n        item: name,\n        isSelected: selectedItem === name\n      }), {\n        key: name\n      }), /*#__PURE__*/React.createElement(style.component || \"span\", {}, style.label));\n    })))));\n  });\n};\n\nexport default TypographySelector;","map":null,"metadata":{},"sourceType":"module"}