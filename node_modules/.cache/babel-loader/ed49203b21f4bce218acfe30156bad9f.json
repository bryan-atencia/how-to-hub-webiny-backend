{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/objectSpread2\";\nimport _pick from \"lodash/pick\";\nimport * as React from \"react\";\nimport { SplitView, LeftPanel, RightPanel } from \"@webiny/app-admin/components/SplitView\";\nimport { FloatingActionButton } from \"@webiny/app-admin/components/FloatingActionButton\";\nimport GroupsDataList from \"./GroupsDataList\";\nimport GroupsForm from \"./GroupsForm\";\nimport { READ_GROUP, LIST_GROUPS, CREATE_GROUP, UPDATE_GROUP, DELETE_GROUP } from \"./graphql\";\nimport { CrudProvider } from \"@webiny/app-admin/contexts/Crud\";\n\nvar Groups = function Groups(_ref) {\n  var scopes = _ref.scopes,\n      formProps = _ref.formProps,\n      listProps = _ref.listProps;\n\n  var variables = function variables(data) {\n    return {\n      data: _objectSpread(_objectSpread({}, _pick(data, [\"name\", \"slug\", \"description\"])), {}, {\n        roles: (data.roles || []).map(function (x) {\n          return x.id;\n        })\n      })\n    };\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CrudProvider, {\n    delete: DELETE_GROUP,\n    read: READ_GROUP,\n    list: {\n      query: LIST_GROUPS,\n      variables: {\n        sort: {\n          savedOn: -1\n        }\n      }\n    },\n    update: {\n      mutation: UPDATE_GROUP,\n      variables: variables\n    },\n    create: {\n      mutation: CREATE_GROUP,\n      variables: variables\n    }\n  }, function (_ref2) {\n    var actions = _ref2.actions;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SplitView, null, /*#__PURE__*/React.createElement(LeftPanel, null, /*#__PURE__*/React.createElement(GroupsDataList, listProps)), /*#__PURE__*/React.createElement(RightPanel, null, /*#__PURE__*/React.createElement(GroupsForm, Object.assign({\n      scopes: scopes\n    }, formProps)))), /*#__PURE__*/React.createElement(FloatingActionButton, {\n      \"data-testid\": \"new-record-button\",\n      onClick: actions.resetForm\n    }));\n  }));\n};\n\nexport default Groups;","map":null,"metadata":{},"sourceType":"module"}