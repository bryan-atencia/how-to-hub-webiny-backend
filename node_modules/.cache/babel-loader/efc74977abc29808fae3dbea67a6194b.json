{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport * as React from \"react\";\nimport noop from \"lodash/noop\";\nimport { Dialog, DialogButton, DialogCancel, DialogActions, DialogTitle, DialogContent } from \"./../Dialog\";\nimport { CircularProgress } from \"../Progress\";\n/**\n * Use ConfirmationDialog component to display a list of choices, once the handler is triggered.\n */\n\nvar ConfirmationDialog = /*#__PURE__*/function (_React$Component) {\n  _inherits(ConfirmationDialog, _React$Component);\n\n  var _super = _createSuper(ConfirmationDialog);\n\n  function ConfirmationDialog() {\n    var _this;\n\n    _classCallCheck(this, ConfirmationDialog);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"__isMounted\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"callbacks\", {\n      onAccept: noop,\n      onCancel: noop\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      show: false,\n      loading: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"showConfirmation\", function (onAccept, onCancel) {\n      _this.callbacks = {\n        onAccept: onAccept,\n        onCancel: onCancel\n      };\n\n      _this.setState({\n        show: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"hideConfirmation\", function () {\n      _this.setState({\n        show: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAccept\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var onAccept;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              onAccept = _this.callbacks.onAccept;\n\n              if (!(typeof onAccept === \"function\")) {\n                _context.next = 6;\n                break;\n              }\n\n              _this.setState({\n                loading: true\n              });\n\n              _context.next = 5;\n              return onAccept();\n\n            case 5:\n              if (_this.__isMounted) {\n                _this.setState({\n                  loading: false,\n                  show: false\n                });\n              }\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"onCancel\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var onCancel;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              onCancel = _this.callbacks.onCancel;\n\n              if (!(typeof onCancel === \"function\")) {\n                _context2.next = 4;\n                break;\n              }\n\n              _context2.next = 4;\n              return onCancel();\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    })));\n\n    return _this;\n  }\n\n  _createClass(ConfirmationDialog, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.__isMounted = true;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.__isMounted = false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Dialog, {\n        open: this.state.show,\n        onClose: this.hideConfirmation,\n        \"data-testid\": this.props[\"data-testid\"]\n      }, this.state.loading ? this.props.loading : null, /*#__PURE__*/React.createElement(DialogTitle, null, this.props.title), /*#__PURE__*/React.createElement(DialogContent, null, this.props.message), /*#__PURE__*/React.createElement(DialogActions, null, /*#__PURE__*/React.createElement(DialogCancel, {\n        onClick: this.onCancel\n      }, \"Cancel\"), /*#__PURE__*/React.createElement(DialogButton, {\n        \"data-testid\": \"confirmationdialog-confirm-action\",\n        onClick: this.onAccept,\n        disabled: this.props.disableConfirm\n      }, \"Confirm\"))), this.props.children({\n        showConfirmation: this.showConfirmation\n      }));\n    }\n  }]);\n\n  return ConfirmationDialog;\n}(React.Component);\n\n_defineProperty(ConfirmationDialog, \"defaultProps\", {\n  title: \"Confirmation\",\n  message: \"Are you sure you want to continue?\",\n  loading: /*#__PURE__*/React.createElement(CircularProgress, null)\n});\n\nexport { ConfirmationDialog };","map":null,"metadata":{},"sourceType":"module"}