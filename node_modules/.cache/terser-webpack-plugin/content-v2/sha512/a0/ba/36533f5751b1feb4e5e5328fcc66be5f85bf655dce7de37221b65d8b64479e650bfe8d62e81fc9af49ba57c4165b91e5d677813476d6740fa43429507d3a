{"code":"(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[11],{1392:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(77),a=n.n(r);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=!1,o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.targetId=null,this.internalMonitor=t.getMonitor()}var t,n,r;return t=e,(n=[{key:\"receiveHandlerId\",value:function(e){this.targetId=e}},{key:\"getHandlerId\",value:function(){return this.targetId}},{key:\"subscribeToStateChange\",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:\"canDrop\",value:function(){if(!this.targetId)return!1;a()(!l,\"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor\");try{return l=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{l=!1}}},{key:\"isOver\",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:\"getItemType\",value:function(){return this.internalMonitor.getItemType()}},{key:\"getItem\",value:function(){return this.internalMonitor.getItem()}},{key:\"getDropResult\",value:function(){return this.internalMonitor.getDropResult()}},{key:\"didDrop\",value:function(){return this.internalMonitor.didDrop()}},{key:\"getInitialClientOffset\",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:\"getInitialSourceClientOffset\",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:\"getSourceClientOffset\",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:\"getClientOffset\",value:function(){return this.internalMonitor.getClientOffset()}},{key:\"getDifferenceFromInitialOffset\",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&i(t.prototype,n),r&&i(t,r),e}()},1393:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return c}));var r=n(692),a=n.n(r),i=n(1408),l=n(1404);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.hooks=Object(i.a)({dropTarget:function(e,t){n.clearDropTarget(),n.dropTargetOptions=t,Object(l.a)(e)?n.dropTargetRef=e:n.dropTargetNode=e,n.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}var t,n,r;return t=e,(n=[{key:\"reconnect\",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}},{key:\"receiveHandlerId\",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:\"didHandlerIdChange\",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:\"didDropTargetChange\",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:\"didOptionsChange\",value:function(){return!a()(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:\"disconnectDropTarget\",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:\"clearDropTarget\",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}},{key:\"connectTarget\",get:function(){return this.dropTarget}},{key:\"dropTargetOptions\",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:\"dropTarget\",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}}])&&o(t.prototype,n),r&&o(t,r),e}()},1407:function(e,t,n){\"use strict\";var r=n(0),a=n(77),i=n.n(a),l=n(1405),o=n(1390),c=n(1396),u=n(1400),d=n(1393),s=n(1392);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&\"[object Arguments]\"!==Object.prototype.toString.call(e))return;var n=[],r=!0,a=!1,i=void 0;try{for(var l,o=e[Symbol.iterator]();!(r=(l=o.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(c){a=!0,i=c}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&\"[object Arguments]\"!==Object.prototype.toString.call(e))return;var n=[],r=!0,a=!1,i=void 0;try{for(var l,o=e[Symbol.iterator]();!(r=(l=o.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(c){a=!0,i=c}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}function g(e){var t=Object(r.useRef)(e);t.current=e,i()(null!=e.accept,\"accept must be defined\");var n=m(function(){var e=Object(u.a)();return[Object(r.useMemo)((function(){return new s.a(e)}),[e]),Object(r.useMemo)((function(){return new d.a(e.getBackend())}),[e])]}(),2),a=n[0],g=n[1];!function(e,t,n){var a=Object(u.a)(),i=Object(r.useMemo)((function(){return{canDrop:function(){var n=e.current.canDrop;return!n||n(t.getItem(),t)},hover:function(){var n=e.current.hover;n&&n(t.getItem(),t)},drop:function(){var n=e.current.drop;if(n)return n(t.getItem(),t)}}}),[t]);Object(o.a)((function(){var r=f(Object(c.b)(e.current.accept,i,a),2),l=r[0],o=r[1];return t.receiveHandlerId(l),n.receiveHandlerId(l),o}),[t,n])}(t,a,g);var p=Object(l.a)(a,t.current.collect||function(){return{}},(function(){return g.reconnect()})),b=Object(r.useMemo)((function(){return g.hooks.dropTarget()}),[g]);return Object(o.a)((function(){g.dropTargetOptions=e.options||null,g.reconnect()}),[e.options]),[p,b]}n.d(t,\"a\",(function(){return g}))},1611:function(e,t,n){\"use strict\";n.r(t);var r=n(0),a=n.n(r),i=n(1415),l=n(1438),o=n(480),c=n(158),u=n(378),d=n(26),s=n(41),f=n(127),m=n(72),g=n(8),p=Object(g.a)({boxShadow:\"1px 0px 5px 0px rgba(128,128,128,1)\"},\"label:topBar;\");function b(){return a.a.createElement(f.a,{className:p,fixed:!0},a.a.createElement(f.e,{style:{width:\"50%\"},alignEnd:!0},Object(m.d)(\"form-editor-default-bar-left\")),a.a.createElement(f.e,{style:{width:\"50%\"},alignEnd:!0},Object(m.d)(\"form-editor-default-bar-right\")))}var v=n(15),h=n(65),y=n(21),E=n(85),O=n(37),x=n(1),j=n.n(x),w=n(16),k=n.n(w),C=n(57),D=n.n(C),T=n(9),I=n.n(T),S=n(1407),F=r.memo((function(e){var t=e.children,n=e.onDrop,r=e.isVisible,a=void 0===r?function(){return!0}:r,i=Object(S.a)({accept:\"element\",collect:function(e){return{isOver:e.isOver()&&e.isOver({shallow:!0}),item:e.getItem()}},drop:function(e,t){\"function\"===typeof n&&n(t.getItem())}}),l=k()(i,2),o=l[0],c=o.item,u=o.isOver,d=l[1];return c&&!a(c)?null:t({isDragging:Boolean(c),isOver:u,item:c,drop:d})})),z=Object(v.a)(\"div\",{target:\"erxnwwe0\",label:\"Container\"})((function(e){var t=e.isOver;return{backgroundColor:\"transparent\",boxSizing:\"border-box\",height:\"100%\",minHeight:100,position:\"relative\",userSelect:\"none\",width:\"100%\",border:t?\"2px dashed var(--mdc-theme-primary)\":\"2px dashed var(--mdc-theme-secondary)\",opacity:t?1:.6}})),A=Object(v.a)(\"div\",{target:\"erxnwwe1\",label:\"Add\"})((function(e){return{position:\"absolute\",top:\"50%\",left:\"50%\",transform:\"translate(-50%,-50%)\",margin:0,color:e.isOver?\"var(--mdc-theme-primary)\":\"var(--mdc-theme-secondary)\"}}));function M(e){var t=e.onDrop,n=e.children;return r.createElement(F,{onDrop:t},(function(e){var t=e.isOver,a=e.drop;return r.createElement(\"div\",{ref:a,style:{width:\"100%\",height:\"100%\"}},r.createElement(z,{isOver:t},r.createElement(A,{isOver:t},n)))}))}var B=n(7),H=n.n(B),V=Object(v.a)(\"div\",{target:\"e5k6cvq0\",label:\"InnerDiv\"})({height:15,width:\"100%\",zIndex:3,borderRadius:0,boxSizing:\"border-box\",display:\"none\",border:\"1px dashed black\",borderSpacing:5}),R=Object(v.a)(\"div\",{target:\"e5k6cvq1\",label:\"BackgroundColorDiv\"})({width:\"100%\",height:\"100%\"}),P=Object(v.a)(\"div\",{target:\"e5k6cvq2\",label:\"OuterDiv\"})({margin:0,padding:0,width:\"calc(100% + 2px)\",zIndex:10,backgroundColor:\"transparent\",position:\"absolute\",display:\"flex\",justifyContent:\"center\"},(function(e){var t;return t={},H()(t,e.last?\"bottom\":\"top\",-15),H()(t,V,H()({borderColor:e.isOver?\"var(--mdc-theme-primary)\":\"var(--mdc-theme-secondary)\",display:e.isDragging?\"block\":\"none\"},R,{opacity:.5,backgroundColor:e.isOver?\"var(--mdc-theme-primary)\":\"var(--mdc-theme-secondary)\"})),t})),L=function(e){var t=e.last,n=e.onDrop,r=e.isVisible;return a.a.createElement(F,{onDrop:n,isVisible:r},(function(e){var n,r=e.isOver,i=e.isDragging,l=e.drop;return a.a.createElement(\"div\",{ref:l,style:(n={height:\"25px\",width:\"100%\",position:\"absolute\"},H()(n,t?\"bottom\":\"top\",0),H()(n,\"left\",0),H()(n,\"zIndex\",i?1e3:-1),n)},a.a.createElement(P,{isOver:r,isDragging:i,last:t},a.a.createElement(V,null,a.a.createElement(R,null))))}))},N=Object(v.a)(\"div\",{target:\"e1dmppbp0\",label:\"InnerDivVertical\"})({position:\"absolute\",width:10,height:\"100%\",zIndex:3,borderRadius:0,display:\"none\",boxSizing:\"border-box\",border:\"1px dashed black\",borderSpacing:5}),_=Object(v.a)(\"div\",{target:\"e1dmppbp1\",label:\"BackgroundColorDiv\"})({width:\"100%\",height:\"100%\"}),q=Object(v.a)(\"div\",{target:\"e1dmppbp2\",label:\"OuterDivVertical\"})({position:\"absolute\",width:\"30%\",top:0,height:\"100%\",zIndex:10,backgroundColor:\"transparent\"},(function(e){var t,n;return n={},H()(n,e.last?\"right\":\"left\",-9),H()(n,\"textAlign\",e.last?\"right\":\"left\"),H()(n,N,(t={borderColor:e.isOver?\"var(--mdc-theme-primary)\":\"var(--mdc-theme-secondary)\"},H()(t,e.last?\"right\":\"left\",-2),H()(t,\"display\",e.isDragging?\"block\":\"none\"),H()(t,_,{opacity:.5,backgroundColor:e.isOver?\"var(--mdc-theme-primary)\":\"var(--mdc-theme-secondary)\"}),t)),n})),W=function(e){var t=e.last,n=e.onDrop,r=e.isVisible;return a.a.createElement(F,{onDrop:n,isVisible:r},(function(e){var n,r=e.isOver,i=e.isDragging,l=e.drop;return a.a.createElement(\"div\",{ref:l,style:(n={width:\"30%\",maxWidth:\"100px\",height:\"100%\",position:\"absolute\",top:0},H()(n,t?\"right\":\"left\",0),H()(n,\"zIndex\",i?1e3:-1),n)},a.a.createElement(q,{isOver:r,isDragging:i,last:t},a.a.createElement(N,null,a.a.createElement(_,null))))}))},G=n(1466),J=n(1439),Y=a.a.memo((function(e){var t=e.children,n=e.beginDrag,r=e.endDrag,i=e.target,l=Object(G.a)({item:{type:\"element\",target:i},collect:function(e){return{isDragging:e.isDragging()}},begin:function(t){return\"function\"===typeof n?n(e,t):n},end:function(e,t){return\"function\"===typeof r?r(e,t):r}}),o=k()(l,3),c=o[0].isDragging,u=o[1],d=o[2];return a.a.createElement(a.a.Fragment,null,a.a.createElement(J.a,{connect:d,src:\"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\"}),t({isDragging:c,drag:u}))})),K=n(27),Q=n.n(K),U=n(40),X=n(39),Z=n(25),$=n(487),ee=n.n($),te=n(17),ne=n(3),re=n(70),ae=n(104),ie=n(20),le=function(e){var t=e.field,n=e.form,i=n.Bind,l=n.setValue,o=Object(r.useRef)(null),u=Object(c.b)(),d=u.getField,s=u.getFieldPlugin,f=Object(ae.a)().getValue,m=Object(r.useCallback)((function(e){return o.current=e}),[]);Object(r.useEffect)((function(){o.current&&o.current.focus()}),[]);var g=Object(r.useCallback)((function(e){l(\"fieldId\",ee()(f(e)))}),[]),p=Object(r.useCallback)((function(e){var n=d({fieldId:e});if(n){if(n._id===t._id)return!0;throw new Error(\"Please enter a unique Field ID\")}}),void 0),b=s({name:t.name}),v=null;return\"function\"===typeof b.field.renderSettings&&(v=b.field.renderSettings({form:n,afterChangeLabel:g,uniqueFieldIdValidator:p})),a.a.createElement(a.a.Fragment,null,a.a.createElement(ne.b,null,a.a.createElement(ne.a,{span:6},a.a.createElement(i,{name:\"label\",validators:ie.validation.create(\"required\"),afterChange:g},a.a.createElement(re.a,{label:\"Label\",inputRef:m}))),a.a.createElement(ne.a,{span:6},a.a.createElement(i,{name:\"fieldId\",validators:[ie.validation.create(\"required\"),p]},a.a.createElement(te.a,{label:\"Field ID\"}))),a.a.createElement(ne.a,{span:12},a.a.createElement(i,{name:\"helpText\"},a.a.createElement(re.a,{label:\"Help text\",description:\"Help text (optional)\"})))),v)},oe=n(4),ce=n.n(oe),ue=n(28),de=n.n(ue),se=n(139),fe=n.n(se),me=n(86),ge=n(31),pe=fe()((function(e){var t=e.data,n=e.validationValue,r=e.onChangeValidation,a=e.validatorIndex,i=D()(n);i[a]=ce()(ce()({},i[a]),D()(t)),r(i)}),200),be=function(e){var t=Object(ae.a)(),n=Object(c.b)().getFieldPlugin,i=e.field,l=e.form.Bind,o=n({name:i.name}),u=Object(r.useMemo)((function(){return Object(Z.getPlugins)(\"form-editor-field-validator\").map((function(e){return e.validator})).map((function(e){return o.field.validators.includes(e.name)?{optional:!0,validator:e}:o.field.validators.includes(\"!\".concat(e.name))?{optional:!1,validator:e}:null})).filter(Boolean).sort((function(e,t){return!e.optional&&t.optional?-1:e.optional&&!t.optional?1:0}))}),[]);return a.a.createElement(l,{name:\"validation\"},(function(e){var n=e.value,r=e.onChange;return u.map((function(e){var i=e.optional,l=e.validator,o=n.findIndex((function(e){return e.name===l.name})),c=n[o];return a.a.createElement(ge.a,{key:l.name},a.a.createElement(ge.d,{title:l.label},i&&a.a.createElement(me.a,{label:\"Enabled\",value:o>=0,onChange:function(){return function(e){var t=e.i18n,n=e.data,r=e.validationValue,a=e.onChangeValidation,i=e.validator;if(n){var l=r.findIndex((function(e){return e.name===i.name}));a([].concat(de()(r.slice(0,l)),de()(r.slice(l+1))))}else a([].concat(de()(r),[{name:i.name,settings:i.defaultSettings,message:{values:[{locale:t.getDefaultLocale().id,value:i.defaultMessage}]}}]))}({i18n:t,data:c,validationValue:n,onChangeValidation:r,validator:l})}})),c&&a.a.createElement(X.a,{data:c,onChange:function(e){return pe({data:e,validationValue:n,onChangeValidation:r,validatorIndex:o})}},(function(e){var n=e.Bind,r=e.setValue;return a.a.createElement(ge.b,null,a.a.createElement(ne.b,null,a.a.createElement(ne.a,{span:12},a.a.createElement(n,{name:\"message\",validators:ie.validation.create(\"required\")},a.a.createElement(re.a,{label:\"Message\",description:\"This message will be displayed to the user\"})))),\"function\"===typeof l.renderSettings&&l.renderSettings({setValue:r,setMessage:function(e){r(\"message\",{values:[{locale:t.getDefaultLocale().id,value:e}]})},data:c,Bind:n}))})))}))}))},ve=n(44),he=Object(g.a)({width:150,height:150,textAlign:\"center\",margin:20,padding:15,display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\",cursor:\"pointer\",transition:\"opacity 225ms\",flexDirection:\"column\",backgroundColor:\"var(--mdc-theme-surface) !important\",\".webiny-ui-icon\":{color:\"var(--mdc-theme-secondary)\",height:50,transition:\"color 225ms\"},\"&:hover\":{opacity:.8,\".webiny-ui-icon\":{color:\"var(--mdc-theme-primary)\"}}},\"label:fieldTypeBox;\"),ye=function(e){var t=e.fieldType,n=e.onClick;return a.a.createElement(\"span\",{onClick:n,style:{display:\"inline-block\"}},a.a.createElement(ve.a,{z:2,className:he},a.a.createElement(O.a,{icon:t.icon}),a.a.createElement(y.a,{use:\"headline5\"},t.label),a.a.createElement(\"br\",null),a.a.createElement(y.a,{use:\"caption\"},t.description)))},Ee=n(11);function Oe(){var e=j()([\"Cancel\"]);return Oe=function(){return e},e}function xe(){var e=j()([\"Save\"]);return xe=function(){return e},e}function je(){var e=j()([\"Cancel\"]);return je=function(){return e},e}function we(){var e=j()([\"Go back\"]);return we=function(){return e},e}function ke(){var e=j()([\"General\"]);return ke=function(){return e},e}function Ce(){var e=j()([\"Field Settings - {fieldTypeLabel}\"]);return Ce=function(){return e},e}function De(){var e=j()([\"Field Settings\"]);return De=function(){return e},e}var Te=Ee.a.namespace(\"FormEditor.EditFieldDialog\"),Ie=Object(g.a)({\"&.webiny-ui-dialog__content\":{width:875,height:450}},\"label:dialogBody;\"),Se=Object(v.a)(\"div\",{target:\"e1e7jrn10\",label:\"FbFormModelFieldList\"})({display:\"flex\",justifyContent:\"center\",alignItems:\"center\",flexWrap:\"wrap\",paddingTop:25,backgroundColor:\"var(--mdc-theme-background) !important\"}),Fe=function(e){var t=e.field,n=e.onSubmit,i=Q()(e,[\"field\",\"onSubmit\"]),l=Object(r.useState)(null),o=k()(l,2),u=o[0],d=o[1],s=Object(r.useState)(!1),f=k()(s,2),m=f[0],g=f[1],p=Object(r.useState)(),b=k()(p,2),v=b[0],h=b[1],y=Object(c.b)().getFieldPlugin,O=Object(ae.a)();Object(r.useEffect)((function(){d(D()(t)),t&&(g(!t._id),h(t.type?\"fieldOptions\":\"fieldType\"))}),[t]);var x=Object(r.useCallback)((function(){d(null),i.onClose()}),void 0),j=null,w=Te(De());if(u){var C=y({name:u.name});switch(C&&(w=Te(Ce())({fieldTypeLabel:C.field.label})),v){case\"fieldOptions\":j=a.a.createElement(X.a,{data:u,onSubmit:n},(function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(U.f,{className:Ie},a.a.createElement(E.b,null,a.a.createElement(E.a,{label:Te(ke())},a.a.createElement(le,{form:e,field:u})),Array.isArray(C.field.validators)&&C.field.validators.length>0&&a.a.createElement(E.a,{label:\"Validators\"},a.a.createElement(be,{form:e,field:u})))),a.a.createElement(U.c,{style:{justifyContent:m?\"space-between\":\"flex-end\"}},m&&a.a.createElement(U.d,{onClick:function(){return h(\"fieldType\")}},Te(we())),a.a.createElement(\"div\",null,a.a.createElement(U.d,{onClick:x},Te(je())),a.a.createElement(U.d,{onClick:e.submit},Te(xe())))))}));break;default:j=a.a.createElement(a.a.Fragment,null,a.a.createElement(U.f,{className:Ie},a.a.createElement(Se,null,Object(Z.getPlugins)(\"form-editor-field-type\").filter((function(e){return!e.field.group})).map((function(e){return a.a.createElement(ye,{key:e.name,fieldType:e.field,onClick:function(){var t=e.field.createField({i18n:O});if(u){var n=u._id,r=u.label,a=u.fieldId,i=u.helpText;t._id=n,t.label=r,t.fieldId=a,t.helpText=i}d(t),h(\"fieldOptions\")}})})))),a.a.createElement(U.c,null,a.a.createElement(U.e,{onClick:x},Te(Oe()))))}}return a.a.createElement(U.a,{preventOutsideDismiss:!0,open:!!u,onClose:x},a.a.createElement(U.g,null,w),j)},ze=n(10);function Ae(){return(Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Me=a.a.createElement(\"path\",{fill:\"currentColor\",d:\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 000-1.41l-2.34-2.34a.996.996 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"}),Be=a.a.createElement(\"path\",{d:\"M0 0h24v24H0z\",fill:\"none\"}),He=function(e){return a.a.createElement(\"svg\",Ae({width:24,height:24,viewBox:\"0 0 24 24\"},e),Me,Be)};n.p;function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Re=a.a.createElement(\"path\",{d:\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1z\"}),Pe=function(e){return a.a.createElement(\"svg\",Ve({width:24,height:24,viewBox:\"0 0 24 24\"},e),Re)},Le=(n.p,Object(v.a)(\"div\",{target:\"e1wegaq80\",label:\"FieldContainer\"})({display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\",alignItems:\"center\"})),Ne=Object(v.a)(\"div\",{target:\"e1wegaq81\",label:\"Info\"})({display:\"flex\",flexDirection:\"column\",\"> *\":{flex:\"1 100%\",lineHeight:\"150%\"}}),_e=Object(v.a)(\"div\",{target:\"e1wegaq82\",label:\"Actions\"})({display:\"flex\",flexDirection:\"row\",alignItems:\"right\",\"> *\":{flex:\"1 100%\"}}),qe=function(e){var t=e.field,n=e.onEdit,r=e.onDelete,i=Object(ae.a)().getValue,l=(0,Object(c.b)().getFieldPlugin)({name:t.name});return a.a.createElement(Le,null,a.a.createElement(Ne,null,a.a.createElement(y.a,{use:\"subtitle1\"},i(t.label)),a.a.createElement(y.a,{use:\"caption\"},l&&l.field.label)),a.a.createElement(_e,null,a.a.createElement(ze.g,{icon:a.a.createElement(He,null),onClick:function(){return n(t)}}),a.a.createElement(ze.g,{icon:a.a.createElement(Pe,null),onClick:function(){return r(t)}})))},We=n(640),Ge=Object(v.a)(\"div\",{target:\"e1rthldx0\",label:\"EditContainer\"})({padding:40,position:\"relative\"}),Je=Object(v.a)(\"div\",{target:\"e1rthldx1\",label:\"RowContainer\"})({position:\"relative\",display:\"flex\",flexDirection:\"column\",marginBottom:25,borderRadius:2,backgroundColor:\"var(--mdc-theme-surface)\",border:\"1px solid var(--mdc-theme-on-background)\",boxShadow:\"var(--mdc-theme-on-background) 1px 1px 1px, var(--mdc-theme-on-background) 1px 1px 2px\"}),Ye=Object(v.a)(\"div\",{target:\"e1rthldx2\",label:\"Row\"})({display:\"flex\",flexDirection:\"row\",backgroundColor:\"var(--mdc-theme-surface)\",paddingLeft:40,paddingRight:10,position:\"relative\"}),Ke=Object(g.a)({position:\"relative\",flex:\"1 100%\",backgroundColor:\"var(--mdc-theme-background)\",padding:\"0 15px\",margin:10,borderRadius:2,border:\"1px solid var(--mdc-theme-on-background)\",transition:\"box-shadow 225ms\",color:\"var(--mdc-theme-on-surface)\",cursor:\"grab\",\"&:hover\":{boxShadow:\"var(--mdc-theme-on-background) 1px 1px 1px, var(--mdc-theme-on-background) 1px 1px 2px\"}},\"label:fieldContainer;\"),Qe=Object(g.a)({width:30,cursor:\"grab\",position:\"absolute\",left:10,top:\"50%\",transform:\"translateY(-50%)\",zIndex:1,color:\"var(--mdc-theme-on-surface)\"},\"label:rowHandle;\"),Ue=Object(g.a)({cursor:\"grab\"},\"label:fieldHandle;\");function Xe(){var e=j()([\"Drop your first field here\"]);return Xe=function(){return e},e}var Ze=Ee.a.namespace(\"FormsApp.Editor.EditTab\"),$e=function(){var e=Object(c.b)(),t=e.getFields,n=e.insertField,i=e.updateField,l=e.deleteField,o=e.data,u=e.moveField,d=e.moveRow,s=e.getFieldPlugin,f=Object(r.useState)(null),m=k()(f,2),g=m[0],p=m[1],b=Object(r.useState)(null),v=k()(b,2),h=v[0],y=v[1],E=Object(r.useCallback)((function(e){p(D()(e))}),void 0),x=Object(ae.a)(),j=Object(r.useCallback)((function(e,t){var r=e.pos,a=e.name,i=e.ui;if(\"custom\"===a)return E({}),void y(t);if(\"row\"===i)return d(r.row,t.row);if(r){var l=o.layout[r.row][r.index];return u({field:l,position:t})}var c=s({name:a});n(c.field.createField({i18n:x}),t)}),void 0),w=t(!0);return a.a.createElement(Ge,null,0===w.length&&a.a.createElement(M,{onDrop:function(e){return j(e,{row:0,index:0})}},Ze(Xe())),w.map((function(e,t){return a.a.createElement(Y,{beginDrag:{ui:\"row\",pos:{row:t}},key:t},(function(n){var r=n.drag,i=n.isDragging;return a.a.createElement(Je,{style:{opacity:i?.3:1}},a.a.createElement(\"div\",{className:Qe,ref:r},a.a.createElement(O.a,{icon:a.a.createElement(We.a,null)})),a.a.createElement(L,{onDrop:function(e){return j(e,{row:t,index:null})}}),a.a.createElement(Ye,null,e.map((function(n,r){return a.a.createElement(Y,{key:r,beginDrag:{ui:\"field\",name:n.name,pos:{row:t,index:r}}},(function(i){var o=i.drag;return a.a.createElement(\"div\",{className:Ke,ref:o},a.a.createElement(W,{onDrop:function(e){return j(e,{row:t,index:r})},isVisible:function(n){return\"field\"===n.ui&&(e.length<4||I()(n,\"pos.row\")===t)}}),a.a.createElement(\"div\",{className:Ue},a.a.createElement(qe,{field:n,onEdit:E,onDelete:l})),r===e.length-1&&a.a.createElement(W,{last:!0,isVisible:function(n){return\"field\"===n.ui&&(e.length<4||I()(n,\"pos.row\")===t)},onDrop:function(e){return j(e,{row:t,index:r+1})}}))}))}))),t===w.length-1&&a.a.createElement(L,{last:!0,onDrop:function(e){return j(e,{row:t+1,index:null})}}))}))})),a.a.createElement(Fe,{field:g,onClose:E,onSubmit:function(e){e._id?i(e):n(e,h),E(null)}}))},et=n(257),tt=n.n(et),nt=n(182);function rt(){var e=j()([\"Form settings updated successfully.\"]);return rt=function(){return e},e}function at(){var e=j()([\"Which actions should be taken after submission\"]);return at=function(){return e},e}var it=Ee.a.namespace(\"FormsApp.Editor.TriggersTab\"),lt=Object(v.a)(\"div\",{target:\"e18wqz170\",label:\"Container\"})({padding:\"40px 60px\",color:\"var(--mdc-theme-on-surface)\"}),ot=function(){var e=Object(c.b)(),t=e.setData,n=e.data,r=Object(Z.getPlugins)(\"form-editor-trigger\"),i=Object(s.a)().showSnackbar;return a.a.createElement(lt,null,a.a.createElement(y.a,{use:\"overline\"},it(at())),a.a.createElement(nt.a,null,r.map((function(e){var r=e.trigger;return a.a.createElement(nt.b,{key:r.id,icon:r.icon,title:r.title,description:r.description},a.a.createElement(X.a,{data:I()(n,\"triggers.\".concat(r.id),{}),onSubmit:function(e){t((function(t){return tt()(t,\"triggers.\".concat(r.id),e)})),i(it(rt()))}},(function(e){var t=e.Bind,a=e.submit;return r.renderSettings({Bind:t,submit:a,form:n})})))}))))},ct=n(241),ut=Object(g.a)({padding:40,backgroundColor:\"var(--webiny-theme-color-surface, #fff) !important\",margin:40,boxSizing:\"border-box\"},\"label:formPreviewWrapper;\"),dt=function(){var e=Object(c.b)().data;return a.a.createElement(ve.a,{z:1,className:ut},a.a.createElement(ct.a,{preview:!0,data:e}))};function st(){return(st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ft=a.a.createElement(\"path\",{fill:\"none\",d:\"M0 0h24v24H0V0z\"}),mt=a.a.createElement(\"path\",{fill:\"currentColor\",d:\"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"}),gt=function(e){return a.a.createElement(\"svg\",st({width:24,viewBox:\"0 0 24 24\"},e),ft,mt)},pt=(n.p,Object(v.a)(\"div\",{target:\"e3hzdr60\",label:\"FieldContainer\"})({padding:\"10px 15px\",marginBottom:20,display:\"flex\",width:\"100%\",backgroundColor:\"var(--mdc-theme-on-background)\",borderRadius:15,boxSizing:\"border-box\",cursor:\"grab\",opacity:1,transition:\"opacity 225ms\",\"&:hover\":{opacity:.8},\"&:last-child\":{marginBottom:0}})),bt=Object(v.a)(\"div\",{target:\"e3hzdr61\",label:\"FieldLabel\"})({textTransform:\"uppercase\",lineHeight:\"145%\",color:\"var(--mdc-theme-on-surface)\"}),vt=Object(v.a)(\"div\",{target:\"e3hzdr62\",label:\"FieldHandle\"})({marginRight:15,color:\"var(--mdc-theme-on-surface)\"}),ht=Object(v.a)(\"div\",{target:\"e3hzdr63\",label:\"FormAccordionContent\"})({marginLeft:-40}),yt=Object(g.a)({\"&.webiny-ui-accordion-item\":{\".webiny-ui-accordion-item__list-item\":{height:\"14px\",borderRadius:\"15px !important\",padding:\"15px 20px 14px 20px\",textTransform:\"uppercase\",backgroundColor:\"var(--mdc-theme-on-background)\",marginBottom:20,\".webiny-ui-accordion-item__title\":{\">div\":{fontWeight:400}}},\".webiny-ui-accordion-item__content\":{border:\"1px solid var(--mdc-theme-on-background)\",borderRadius:15,paddingTop:60,marginTop:-65,marginBottom:20}}},\"label:accordionItem;\"),Et=function(e){var t=e.onFieldDragStart,n=e.fieldType,r=n.name,i=n.label;return a.a.createElement(Y,{beginDrag:{ui:\"field\",name:r}},(function(e){var n=e.drag;return a.a.createElement(\"div\",{ref:n,style:{marginBottom:10},onDragStart:t},a.a.createElement(pt,null,a.a.createElement(vt,null,a.a.createElement(O.a,{icon:a.a.createElement(gt,null)})),a.a.createElement(bt,null,i)))}))},Ot=function(e){var t=e.onFieldDragStart,n=Object(c.b)().getField;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Et,{fieldType:{name:\"custom\",label:\"Custom field\"},onFieldDragStart:t}),a.a.createElement(nt.a,{elevation:0},function(){var e=Object(Z.getPlugins)(\"form-editor-field-type\").filter((function(e){return e.field.group})).filter((function(e){return!e.field.unique||!n({name:e.field.name})}));return Object(Z.getPlugins)(\"form-editor-field-group\").map((function(t){return ce()(ce()({},t.group),{},{name:t.name,fields:e.filter((function(e){return e.field.group===t.name})).map((function(e){return e.field}))})}))}().map((function(e){return a.a.createElement(nt.b,{key:e.name,title:e.title,icon:null,className:yt},a.a.createElement(ht,null,!e.fields.length&&a.a.createElement(\"span\",null,\"No fields are available at the moment!\"),e.fields.map((function(e){return a.a.createElement(Et,{key:e.name,fieldType:e,onFieldDragStart:t})}))))}))))};function xt(){return(xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var jt=a.a.createElement(\"path\",{fill:\"none\",d:\"M0 0h24v24H0V0z\"}),wt=a.a.createElement(\"path\",{fill:\"currentColor\",d:\"M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm1 14H8c-.55 0-1-.45-1-1s.45-1 1-1h5c.55 0 1 .45 1 1s-.45 1-1 1zm3-4H8c-.55 0-1-.45-1-1s.45-1 1-1h8c.55 0 1 .45 1 1s-.45 1-1 1zm0-4H8c-.55 0-1-.45-1-1s.45-1 1-1h8c.55 0 1 .45 1 1s-.45 1-1 1z\"}),kt=function(e){return a.a.createElement(\"svg\",xt({width:24,viewBox:\"0 0 24 24\"},e),jt,wt)},Ct=(n.p,Object(v.a)(\"div\",{target:\"eay4uz30\",label:\"ContentContainer\"})({paddingTop:65})),Dt=Object(v.a)(\"div\",{target:\"eay4uz31\",label:\"LeftBarTitle\"})({borderBottom:\"1px solid var(--mdc-theme-on-background)\",display:\"flex\",alignItems:\"center\",padding:25,color:\"var(--mdc-theme-on-surface)\"}),Tt=Object(g.a)({height:24,marginRight:15,color:\"var(--mdc-theme-primary)\"},\"label:titleIcon;\"),It=Object(v.a)(\"div\",{target:\"eay4uz32\",label:\"LeftBarFieldList\"})({padding:40,overflow:\"scroll\",height:\"calc(100vh - 250px)\"}),St=Object(g.a)({\"&.webiny-ui-tabs\":{\".webiny-ui-tabs__tab-bar\":{backgroundColor:\"var(--mdc-theme-surface)\"}}},\"label:formTabs;\");function Ft(){var e=Object(r.useRef)();return a.a.createElement(Ct,null,a.a.createElement(h.c,null,a.a.createElement(h.a,{span:4},a.a.createElement(Dt,null,a.a.createElement(O.a,{className:Tt,icon:a.a.createElement(kt,null)}),a.a.createElement(y.a,{use:\"headline6\"},\"Form Elements\")),a.a.createElement(It,null,a.a.createElement(Ot,{onFieldDragStart:function(){e.current&&e.current.switchTab(0)}}))),a.a.createElement(h.b,{span:8},a.a.createElement(E.b,{className:St,ref:e},a.a.createElement(E.a,{label:\"Edit\"},a.a.createElement($e,null)),a.a.createElement(E.a,{label:\"Preview\"},a.a.createElement(dt,null)),a.a.createElement(E.a,{label:\"Triggers\"},a.a.createElement(ot,null))))))}var zt=n(1443),At=!1,Mt=null;function Bt(){var e=Object(r.useState)(0),t=k()(e,2),n=t[0],i=t[1],l=Object(zt.a)((function(e){return At||(e.subscribeToOffsetChange(function(e){return function(){if(Mt){var t=e.getClientOffset();if(t){var n=\"translate(\".concat(t.x-15,\"px, \").concat(t.y-15,\"px)\");Mt.style.transform=n,Mt.style[\"-webkit-transform\"]=n}}}}(e)),At=!0),{isDragging:e.isDragging()}})).isDragging;return Object(r.useEffect)((function(){return function(){At=!1,Mt=null}}),[]),Object(r.useEffect)((function(){l?setTimeout((function(){i(l?1:0)}),100):i(0)}),[l]),l&&l?a.a.createElement(\"div\",{style:{position:\"fixed\",pointerEvents:\"none\",zIndex:100,left:0,top:0,width:\"100%\",height:\"100%\"}},a.a.createElement(\"div\",{ref:function(e){return Mt=e},style:{transition:\"opacity .25s ease-in-out\",display:\"block\",opacity:n}},a.a.createElement(\"div\",{style:{width:30,height:30,backgroundColor:\"var(--mdc-theme-primary)\",borderRadius:\"50%\"}}))):null}var Ht=function(){var e=Object(c.b)(),t=e.getForm,n=e.state,a=n.data,i=n.id,l=Object(d.e)().history,o=Object(s.a)().showSnackbar;return r.useEffect((function(){t(i).catch((function(){l.push(\"/forms\"),o(\"Could not load form with given ID.\")}))}),[i]),a?r.createElement(\"div\",{className:\"form-editor\"},r.createElement(b,null),r.createElement(Ft,null),r.createElement(Bt,null)):null},Vt=function(){var e=Object(d.e)(),t=Object(u.a)(),n=e.match.params.id;return a.a.createElement(c.a,{key:n,apollo:t,id:n,defaultLayoutRenderer:\"forms-form-layout-default\"},a.a.createElement(Ht,null))};function Rt(){return a.a.createElement(l.a,{backend:i.a},a.a.createElement(Vt,null),a.a.createElement(\"div\",{style:{zIndex:10,position:\"absolute\"}},a.a.createElement(o.a,null)))}n.d(t,\"default\",(function(){return Rt}))}}]);","extractedComments":[]}