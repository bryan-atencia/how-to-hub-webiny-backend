{"code":"(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[18],{1416:function(e,n,t){\"use strict\";t.d(n,\"c\",(function(){return g})),t.d(n,\"d\",(function(){return b})),t.d(n,\"e\",(function(){return p})),t.d(n,\"a\",(function(){return v})),t.d(n,\"f\",(function(){return E})),t.d(n,\"b\",(function(){return y}));var a=t(1),r=t.n(a),u=t(14),o=t.n(u);function i(){var e=r()([\"\\n    mutation PbDeleteCategory($id: ID!) {\\n        pageBuilder {\\n            deleteCategory(id: $id) {\\n                data\\n                error {\\n                    code\\n                    message\\n                }\\n            }\\n        }\\n    }\\n\"]);return i=function(){return e},e}function l(){var e=r()([\"\\n    mutation PbUpdateCategory($id: ID!, $data: PbCategoryInput!){\\n        pageBuilder {\\n            category: updateCategory(id: $id, data: $data) {\\n                data {\\n                    \",\"\\n                }\\n                error {\\n                    code\\n                    message\\n                    data\\n                }\\n            }\\n        }\\n    }\\n\"]);return l=function(){return e},e}function c(){var e=r()([\"\\n    mutation PbCreateCategory($data: PbCategoryInput!){\\n        pageBuilder {\\n            category: createCategory(data: $data) {\\n                data {\\n                    \",\"\\n                }\\n                error {\\n                    code\\n                    message\\n                    data\\n                }\\n            }\\n        }\\n    }\\n\"]);return c=function(){return e},e}function s(){var e=r()([\"\\n    query PbLoadCategory($id: ID!) {\\n        pageBuilder {\\n            category: getCategory(id: $id){\\n                data {\\n                    \",\"\\n                }\\n                error {\\n                    code\\n                    message\\n                }\\n            }\\n        }\\n    }\\n\"]);return s=function(){return e},e}function d(){var e=r()([\"\\n    query PbListCategoriesByName {\\n        pageBuilder {\\n            categories: listCategories(sort: { name: 1 }, limit: 100) {\\n                data {\\n                    id\\n                    name\\n                    slug\\n                    url\\n                }\\n            }\\n        }\\n    }\\n\"]);return d=function(){return e},e}function m(){var e=r()([\"\\n    query PbLoadCategories(\\n        $where: JSON\\n        $sort: JSON\\n        $search: PbSearchInput\\n        $limit: Int\\n        $after: String\\n        $before: String\\n    ) {\\n        pageBuilder {\\n            categories: listCategories(\\n                where: $where\\n                sort: $sort\\n                search: $search\\n                limit: $limit\\n                after: $after\\n                before: $before\\n            ) {\\n                data {\\n                    id\\n                    name\\n                    slug\\n                    url\\n                    createdOn\\n                }\\n                meta {\\n                    cursors {\\n                        next\\n                        previous\\n                    }\\n                    hasNextPage\\n                    hasPreviousPage\\n                    totalCount\\n                }\\n            }\\n        }\\n    }\\n\"]);return m=function(){return e},e}var f=\"\\n    id\\n    name\\n    slug\\n    url\\n    layout\\n\",g=o()(m()),b=o()(d()),p=o()(s(),f),v=o()(c(),f),E=o()(l(),f),y=o()(i())},1617:function(e,n,t){\"use strict\";t.r(n);var a=t(5),r=t.n(a),u=t(12),o=t.n(u),i=t(0),l=t.n(i),c=t(378),s=t(65),d=t(188),m=t(159),f=t(1),g=t.n(f),b=t(11),p=t(79),v=t(118),E=t(112),y=t(18);function C(){var e=g()([\"Categories\"]);return C=function(){return e},e}var $=b.a.ns(\"app-page-builder/admin/categories/data-list\"),h=function(){var e=Object(E.a)(),n=e.actions,t=e.list;return l.a.createElement(y.a,Object.assign({},t,{title:$(C()),sorters:[{label:\"Newest to oldest\",sorters:{createdOn:-1}},{label:\"Oldest to newest\",sorters:{createdOn:1}},{label:\"Name A-Z\",sorters:{name:1}},{label:\"Name Z-A\",sorters:{name:-1}}]}),(function(e){var t=e.data,a=e.isSelected,r=e.select;return l.a.createElement(y.b,{\"data-testid\":\"default-data-list\"},t.map((function(e){return l.a.createElement(y.d,{key:e.id,selected:a(e)},l.a.createElement(y.g,{onClick:function(){return r(e)}},e.name,l.a.createElement(y.i,null,e.url)),l.a.createElement(y.f,null,l.a.createElement(y.c,null,l.a.createElement(p.a,null,(function(t){var a=t.showConfirmation;return l.a.createElement(v.a,{onClick:function(){return a((function(){return n.delete(e)}))}})})))))})))}))},w=t(25),P=t(39),O=t(3),k=t(17),q=t(105),N=t(10),B=t(31),S=function(e){if(e.startsWith(\"/\")&&e.endsWith(\"/\"))return!0;throw new Error(\"Category URL must begin and end with a forward slash (`/`)\")},I=t(35),j=t(20);function L(){var e=g()([\"Save category\"]);return L=function(){return e},e}function x(){var e=g()([\"Layout\"]);return x=function(){return e},e}function D(){var e=g()([\"URL\"]);return D=function(){return e},e}function J(){var e=g()([\"Slug\"]);return J=function(){return e},e}function U(){var e=g()([\"Name\"]);return U=function(){return e},e}function A(){var e=g()([\"New Category\"]);return A=function(){return e},e}var F=b.a.ns(\"app-page-builder/admin/categories/form\"),R=function(){var e=Object(E.a)().form,n=i.useMemo((function(){return Object(w.getPlugins)(\"pb-page-layout\").map((function(e){return e.layout}))}),[]);return i.createElement(P.a,e,(function(t){var a=t.data,r=t.form,u=t.Bind;return i.createElement(B.a,null,e.loading&&i.createElement(I.a,null),i.createElement(B.d,{title:a.name||F(A())}),i.createElement(B.b,null,i.createElement(O.b,null,i.createElement(O.a,{span:6},i.createElement(u,{name:\"name\",validators:j.validation.create(\"required\")},i.createElement(k.a,{label:F(U())}))),i.createElement(O.a,{span:6},i.createElement(u,{name:\"slug\",validators:j.validation.create(\"required\")},i.createElement(k.a,{disabled:a.id,label:F(J())}))),i.createElement(O.a,{span:12},i.createElement(u,{name:\"url\",validators:[j.validation.create(\"required\"),S]},i.createElement(k.a,{disabled:a.id,label:F(D())}))),i.createElement(O.a,{span:6},i.createElement(u,{name:\"layout\",defaultValue:n[0].name},i.createElement(q.a,{label:F(x())},n.map((function(e){var n=e.name,t=e.title;return i.createElement(\"option\",{key:n,value:n},t)}))))))),i.createElement(B.c,null,i.createElement(N.d,{onClick:r.submit},F(L()))))}))},W=t(1416);n.default=function(){var e=Object(c.a)(),n=Object(i.useCallback)(o()(r.a.mark((function n(){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.query({query:W.d,fetchPolicy:\"network-only\"});case 2:case\"end\":return n.stop()}}),n)}))),[]);return l.a.createElement(m.b,{delete:{mutation:W.b,options:{onCompleted:n}},read:W.e,create:{mutation:W.a,options:{onCompleted:n}},update:{mutation:W.f,options:{onCompleted:n}},list:{query:W.c,variables:{sort:{savedOn:-1}}}},(function(e){var n=e.actions;return l.a.createElement(l.a.Fragment,null,l.a.createElement(s.c,null,l.a.createElement(s.a,null,l.a.createElement(h,null)),l.a.createElement(s.b,null,l.a.createElement(R,null))),l.a.createElement(d.a,{onClick:n.resetForm}))}))}}}]);","extractedComments":[]}