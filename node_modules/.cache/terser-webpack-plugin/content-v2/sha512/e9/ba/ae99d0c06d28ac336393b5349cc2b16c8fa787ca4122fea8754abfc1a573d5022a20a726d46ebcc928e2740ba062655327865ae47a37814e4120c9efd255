{"code":"(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[13],{1515:function(e,t,n){},1516:function(e,t,n){e.exports=n.p+\"static/media/editor-mock.551afe50.png\"},1613:function(e,t,n){\"use strict\";n.r(t);var a=n(27),r=n.n(a),i=n(9),o=n.n(i),l=n(0),c=n.n(l),u=n(298),d=n(26),s=n(378),m=n(296),p=n(1387),b=n(471),g=n(34),f=n.n(g),v=n(1445),h=n(1415),E=n(1438),j=n(297),y=n(1391),O=(n(1515),n(4)),x=n.n(O),w=n(25),k=n(127),C=n(72),D=n(8),z=Object(D.a)({boxShadow:\"1px 0px 5px 0px rgba(128,128,128,1)\"},\"label:topBar;\"),P=function(){return c.a.createElement(k.a,{className:z,fixed:!0},c.a.createElement(k.e,{style:{width:\"50%\"},alignStart:!0},Object(C.d)(\"pb-editor-default-bar-left\")),c.a.createElement(k.e,{style:{width:\"33%\"},alignEnd:!0},Object(C.d)(\"pb-editor-default-bar-right\")))},I=c.a.memo(P),S=function(e){for(var t=Object(w.getPlugins)(\"pb-editor-bar\"),n=null,a=0;a<t.length;a++){var r=t[a];if(r.shouldRender(e)){n=r.render();break}}return c.a.createElement(c.a.Fragment,null,c.a.createElement(I,null),n)},B=Object(b.d)((function(e){return x()({},Object(j.m)(e))}))(c.a.memo(S)),F=n(145),T=n.n(F),A=n(15),L=n(213),Y=Object(A.a)(\"div\",{target:\"ekys0pl0\",label:\"ToolbarDrawerContainer\"})({top:64,left:0,position:\"fixed\",backgroundColor:\"var(--mdc-theme-surface)\",zIndex:2}),N=Object(A.a)(\"div\",{target:\"ekys0pl1\",label:\"ToolbarContainer\"})({position:\"fixed\",display:\"inline-block\",padding:\"2px 1px 2px 3px\",width:50,top:64,height:\"calc(100vh - 68px)\",backgroundColor:\"var(--mdc-theme-surface)\",boxShadow:\"1px 0px 5px 0px var(--mdc-theme-on-background)\",zIndex:3}),R=Object(A.a)(\"div\",{target:\"ekys0pl2\",label:\"DrawerContainer\"})((function(e){return{pointerEvents:e.open?\"all\":\"none\",\".mdc-drawer__drawer\":{\"> .mdc-list\":{padding:0}}}})),q=Object(A.a)(\"div\",{target:\"ekys0pl3\",label:\"ToolbarActions\"})({position:\"relative\",display:\"flex\",flexDirection:\"column\",justifyContent:\"space-between\",height:\"100%\"}),H=Object(D.a)({zIndex:10,\"&.mdc-drawer--dismissible\":{marginLeft:54,position:\"fixed\",top:64,width:\"490px !important\",maxWidth:\"490px !important\",\".mdc-drawer__content\":{width:\"100%\"}}},\"label:drawerStyle;\"),K=Object(b.d)(null,{deactivatePlugin:p.g})((function(e){var t=e.name,n=e.active,a=e.children,r=e.deactivatePlugin,i=Object(y.a)(),o=i.removeKeyHandler,u=i.addKeyHandler,d=Object(l.useRef)({active:null});return Object(l.useEffect)((function(){n&&!d.current.active&&u(\"escape\",(function(e){e.preventDefault(),r({name:t})})),!n&&d.current.active&&o(\"escape\")})),Object(l.useEffect)((function(){d.current={active:n}})),c.a.createElement(R,{open:n},c.a.createElement(L.a,{dismissible:!0,open:n,className:H},c.a.createElement(L.b,null,a)))})),M=function(e){return c.a.cloneElement(e.renderAction(),{key:e.name})},X=Object(b.d)((function(e){return{activePluginsTop:Object(j.d)(\"pb-editor-toolbar-top\")(e).map((function(e){return e.name})),activePluginsBottom:Object(j.d)(\"pb-editor-toolbar-bottom\")(e).map((function(e){return e.name}))}}),null,null,{areStatePropsEqual:T.a})((function(e){var t=e.activePluginsTop,n=Object(w.getPlugins)(\"pb-editor-toolbar-top\"),a=Object(w.getPlugins)(\"pb-editor-toolbar-bottom\");return c.a.createElement(c.a.Fragment,null,c.a.createElement(Y,null,n.filter((function(e){return\"function\"===typeof e.renderDrawer})).map((function(e){return c.a.createElement(K,{key:e.name,name:e.name,active:Boolean(t.includes(e.name))},e.renderDrawer())}))),c.a.createElement(N,null,c.a.createElement(q,null,c.a.createElement(\"div\",null,n.map(M)),c.a.createElement(\"div\",null,a.map(M)))))})),_=n(84),J=n(1395),W=n(1409),G=n(44),Q=Object(A.a)(\"div\",{target:\"e1q1altr0\",label:\"ContentContainer\"})((function(e){var t=e.theme;return{backgroundColor:Object(_.get)(t,\"colors.background\"),\".webiny-pb-page-document\":{overflowY:\"visible\",overflowX:\"visible\"}}})),U=Object(D.a)({margin:\"95px 65px 50px 85px\",padding:0,position:\"absolute\",width:\"calc(100vw - 115px)\",top:0,boxSizing:\"border-box\",zIndex:1},\"label:contentContainerWrapper;\"),V=Object(A.a)(\"div\",{target:\"e1q1altr1\",label:\"BaseContainer\"})({width:\"100%\",left:52,margin:\"0 auto\"}),Z=Object(b.d)((function(e){return{rootElement:e.elements[Object(j.e)(e).id],layout:Object(_.get)(Object(j.j)(e),\"settings.general.layout\"),renderLayout:Object(j.n)(\"pb-editor-toolbar-preview\")(e)}}))((function(e){var t=e.rootElement,n=e.renderLayout,a=e.layout,r=Object(J.a)().theme,i=Object(w.getPlugins)(\"pb-editor-content\"),o=c.a.useMemo((function(){return Object(w.getPlugins)(\"pb-page-layout\").map((function(e){return e.layout}))}),[]).find((function(e){return e.name===a}));if(n&&!o)return c.a.createElement(\"div\",null,'Layout \"',a,'\" was not found in your theme!');var l=c.a.createElement(W.a,{id:t.id});return l=n?c.a.createElement(o.component,null,l):l,c.a.createElement(G.a,{className:U,z:2},c.a.createElement(Q,{theme:r},i.map((function(e){return c.a.cloneElement(e.render(),{key:e.name})})),c.a.createElement(V,{className:\"webiny-pb-editor-content-preview\"},l)))})),$=n(16),ee=n.n($),te=n(1443),ne={position:\"fixed\",pointerEvents:\"none\",zIndex:100,left:0,top:0,width:\"100%\",height:\"100%\"},ae=!1,re=null;function ie(){var e=Object(l.useState)(0),t=ee()(e,2),n=t[0],a=t[1],r=Object(te.a)((function(e){return ae||(e.subscribeToOffsetChange(function(e){return function(){if(re){var t=e.getClientOffset();if(t){var n=\"translate(\".concat(t.x-15,\"px, \").concat(t.y-15,\"px)\");re.style.transform=n,re.style[\"-webkit-transform\"]=n}}}}(e)),ae=!0),{isDragging:e.isDragging()}})).isDragging;return Object(l.useEffect)((function(){return function(){ae=!1,re=null}}),[]),Object(l.useEffect)((function(){r?setTimeout((function(){a(r?1:0)}),100):a(0)}),[r]),r?c.a.createElement(\"div\",{style:ne},c.a.createElement(\"div\",{ref:function(e){return re=e},style:{display:\"block\",opacity:n,transition:\"opacity .25s ease-in-out\"}},c.a.createElement(\"div\",{style:{width:30,height:30,backgroundColor:\"var(--mdc-theme-primary)\",borderRadius:\"50%\"}}))):null}var oe=n(28),le=n.n(oe),ce=Object(A.a)(\"div\",{target:\"e18391mi0\",label:\"DialogsContainer\"})({position:\"fixed\",zIndex:5}),ue=function(){var e=[].concat(le()(Object(w.getPlugins)(\"pb-editor-toolbar-top\")),le()(Object(w.getPlugins)(\"pb-editor-toolbar-bottom\")));return c.a.createElement(ce,{\"data-type\":\"dialogs\"},e.map((function(e){return\"function\"===typeof e.renderDialog?c.a.cloneElement(e.renderDialog(),{key:e.name}):null})))},de=c.a.memo(ue),se=Object(b.d)((function(e){var t=Object(j.m)(e);return{slateFocused:t.slateFocused,isDragging:t.dragging,isResizing:t.resizing}}),{undo:v.ActionCreators.undo,redo:v.ActionCreators.redo})((function(e){var t=e.isDragging,n=e.isResizing,a=e.undo,r=e.redo,i=e.slateFocused,o=Object(y.a)(),u=o.addKeyHandler,d=o.removeKeyHandler;Object(l.useEffect)((function(){return u(\"mod+z\",(function(e){i||(e.preventDefault(),a())})),u(\"mod+shift+z\",(function(e){i||(e.preventDefault(),r())})),function(){d(\"mod+z\"),d(\"mod+shift+z\")}}));var s={\"pb-editor\":!0,\"pb-editor-dragging\":t,\"pb-editor-resizing\":n};return c.a.createElement(E.a,{backend:h.a},c.a.createElement(\"div\",{className:f()(s)},c.a.createElement(B,null),c.a.createElement(X,null),c.a.createElement(Z,null),c.a.createElement(de,null),c.a.createElement(ie,null)))})),me=n(1394),pe=n(165),be=n(1465),ge=n(1424),fe=n(480),ve=n(41),he=n(21),Ee=Object(D.b)(\"0%{transform:translateY(-300px) scaleY(2.5) scaleX(0.2);transform-origin:50% 0%;filter:blur(40px);opacity:0;width:320px;}30%{transform:translateY(0) scaleY(1) scaleX(1);transform-origin:50% 50%;filter:blur(0);opacity:1;width:320px;}100%{transform:translateY(0) scaleY(1) scaleX(1);transform-origin:50% 50%;filter:blur(0);opacity:1;width:320px;}label:imageAnim;\"),je=Object(A.a)(\"div\",{target:\"e1fuvvtp0\",label:\"LoadingEditor\"})({display:\"flex\",justifyContent:\"center\",alignItems:\"center\",height:\"calc(100vh - 200px)\",flexDirection:\"column\",color:\"var(--mdc-theme-on-surface)\",img:{marginBottom:15,animation:Ee+\" 2s both\",animationFillMode:\"forwards\"}}),ye=Object(D.b)(\"0%{opacity:.2;}100%{opacity:1;}label:headerAnim;\"),Oe=Object(D.b)(\"0%{opacity:.2;}20%{opacity:1;}100%{opacity:.2;}label:dotsAnim;\"),xe=Object(A.a)(\"h5\",{target:\"e1fuvvtp1\",label:\"LoadingTitle\"})({animation:ye+\" 0.8s both\",animationFillMode:\"forwards\",span:{animation:Oe+\" 1.4s infinite\",animationFillMode:\"both\",\"&span:nth-of-type(2)\":{animationDelay:\".2s\"},\"&span:nth-of-type(3)\":{animationDelay:\".4s\"}}}),we=n(1516),ke=n.n(we),Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{ui:{activeElement:null,dragging:!1,highlightElement:null,plugins:{},resizing:!1},tmp:{},page:e,revisions:t}},De=null;t.default=function(){var e=Object(s.a)(),t=Object(d.e)(),n=t.match,a=t.history,i=Object(ve.a)().showSnackbar,g=function(){var e=Object(l.useState)(!1),t=ee()(e,2),n=t[0],a=t[1],r=Object(s.c)(pe.g,{skip:n}),i=r.data,o=r.loading;if(n)return!0;if(o)return!1;var c=Object(_.get)(i,\"pageBuilder.elements.data\");return n||(c.forEach((function(e){\"element\"===e.type?Object(be.a)(e):Object(ge.a)(e)})),a(!0)),n}(),f=n.params,v=Object(l.useCallback)((function(t){var n=t.data,a=t.loading;if(a||!g)return c.a.createElement(je,null,c.a.createElement(\"img\",{src:ke.a}),c.a.createElement(xe,null,c.a.createElement(he.a,{tag:\"div\",use:\"headline6\"},\"Loading Editor\",c.a.createElement(\"span\",null,\".\"),c.a.createElement(\"span\",null,\".\"),c.a.createElement(\"span\",null,\".\"))));if(!o()(n,\"pageBuilder.page.data\"))return null;if(b.g.store||b.g.initStore({},{client:e}),!a){var i=n.pageBuilder.page.data,l=i.revisions,d=r()(i,[\"revisions\"]);d.content||(d.content=Object(me.f)(\"document\")),De!==d.id&&(De=d.id,b.g.store.dispatch({type:p.d,payload:Ce(d,l)}),b.g.store.dispatch({type:\"@@redux-undo/INIT\"}))}return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,{store:b.g.store},c.a.createElement(se,null)),c.a.createElement(\"div\",{style:{zIndex:10,position:\"absolute\"}},c.a.createElement(fe.a,null)))}),[g]);return c.a.createElement(m.b,{query:Object(pe.f)(),variables:{id:f.id},onCompleted:function(e){var t=o()(e,\"pageBuilder.page.error.message\");t&&(a.push(\"/page-builder/pages\"),i(t))}},v)}}}]);","extractedComments":[]}