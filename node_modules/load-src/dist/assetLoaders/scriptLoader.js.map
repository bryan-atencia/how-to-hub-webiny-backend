{"version":3,"sources":["../../src/assetLoaders/scriptLoader.js"],"names":["canProcess","processedArgument","type","mustProcess","src","document","querySelectorAll","length","process","Promise","resolve","s","createElement","async","onload","body","appendChild"],"mappings":";;;;;;;AAEA;eAIgB;AACZA,EAAAA,UAAU,EAAE,oBAAAC,iBAAiB;AAAA,WAAIA,iBAAiB,CAACC,IAAlB,KAA2B,QAA/B;AAAA,GADjB;AAEZC,EAAAA,WAAW,EAAE,qBAAAF,iBAAiB,EAAI;AAAA,QACtBG,GADsB,GACdH,iBADc,CACtBG,GADsB;AAE9B,WAAOC,QAAQ,CAACC,gBAAT,wBAAyCF,GAAzC,UAAkDG,MAAlD,KAA6D,CAApE;AACH,GALW;AAMZC,EAAAA,OAAO,EAAE,iBAAAP,iBAAiB,EAAI;AAAA,QAClBG,GADkB,GACVH,iBADU,CAClBG,GADkB;AAG1B,WAAO,IAAIK,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAC1B,UAAMC,CAAC,GAAGN,QAAQ,CAACO,aAAT,CAAuB,QAAvB,CAAV;AACAD,MAAAA,CAAC,CAACT,IAAF,GAAS,iBAAT;AACAS,MAAAA,CAAC,CAACP,GAAF,GAAQA,GAAR;AACAO,MAAAA,CAAC,CAACE,KAAF,GAAU,IAAV;AACAF,MAAAA,CAAC,CAACG,MAAF,GAAWJ,OAAX;AACAL,MAAAA,QAAQ,CAACU,IAAT,IAAiBV,QAAQ,CAACU,IAAT,CAAcC,WAAd,CAA0BL,CAA1B,CAAjB;AACH,KAPM,CAAP;AAQH;AAjBW,C","sourcesContent":["// @flow\n\n/* global document */\n\nimport { type AssetLoaderType } from \"webiny-load-assets/types\";\n\nexport default ({\n    canProcess: processedArgument => processedArgument.type === \"script\",\n    mustProcess: processedArgument => {\n        const { src } = processedArgument;\n        return document.querySelectorAll(`script[src=\"${src}\"]`).length === 0;\n    },\n    process: processedArgument => {\n        const { src } = processedArgument;\n\n        return new Promise(resolve => {\n            const s = document.createElement(\"script\");\n            s.type = \"text/javascript\";\n            s.src = src;\n            s.async = true;\n            s.onload = resolve;\n            document.body && document.body.appendChild(s);\n        });\n    }\n}: AssetLoaderType);\n"],"file":"scriptLoader.js"}