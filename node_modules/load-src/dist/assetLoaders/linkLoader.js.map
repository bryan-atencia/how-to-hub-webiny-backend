{"version":3,"sources":["../../src/assetLoaders/linkLoader.js"],"names":["canProcess","processedArgument","type","mustProcess","src","document","querySelectorAll","length","process","Promise","resolve","s","createElement","rel","href","onload","head","appendChild"],"mappings":";;;;;;;AAEA;eAIgB;AACZA,EAAAA,UAAU,EAAE,oBAAAC,iBAAiB;AAAA,WAAIA,iBAAiB,CAACC,IAAlB,KAA2B,MAA/B;AAAA,GADjB;AAEZC,EAAAA,WAAW,EAAE,qBAAAF,iBAAiB,EAAI;AAAA,QACtBG,GADsB,GACdH,iBADc,CACtBG,GADsB;AAE9B,WAAOC,QAAQ,CAACC,gBAAT,2CAA0DF,GAA1D,UAAmEG,MAAnE,KAA8E,CAArF;AACH,GALW;AAMZC,EAAAA,OAAO,EAAE,iBAAAP,iBAAiB,EAAI;AAAA,QAClBG,GADkB,GACVH,iBADU,CAClBG,GADkB;AAG1B,WAAO,IAAIK,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAC1B,UAAMC,CAAC,GAAGN,QAAQ,CAACO,aAAT,CAAuB,MAAvB,CAAV;AACAD,MAAAA,CAAC,CAACE,GAAF,GAAQ,YAAR;AACAF,MAAAA,CAAC,CAACG,IAAF,GAASV,GAAT;AACAO,MAAAA,CAAC,CAACI,MAAF,GAAWL,OAAX;AACAL,MAAAA,QAAQ,CAACW,IAAT,IAAiBX,QAAQ,CAACW,IAAT,CAAcC,WAAd,CAA0BN,CAA1B,CAAjB;AACH,KANM,CAAP;AAOH;AAhBW,C","sourcesContent":["// @flow\n\n/* global document */\n\nimport { type AssetLoaderType } from \"webiny-load-assets/types\";\n\nexport default ({\n    canProcess: processedArgument => processedArgument.type === \"link\",\n    mustProcess: processedArgument => {\n        const { src } = processedArgument;\n        return document.querySelectorAll(`link[rel=\"stylesheet\"][href=\"${src}\"]`).length === 0;\n    },\n    process: processedArgument => {\n        const { src } = processedArgument;\n\n        return new Promise(resolve => {\n            const s = document.createElement(\"link\");\n            s.rel = \"stylesheet\";\n            s.href = src;\n            s.onload = resolve;\n            document.head && document.head.appendChild(s);\n        });\n    }\n}: AssetLoaderType);\n"],"file":"linkLoader.js"}