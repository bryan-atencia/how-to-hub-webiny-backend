{"version":3,"sources":["../../src/components/Image.tsx"],"names":["invariant","getPlugin","Image","presetName","preset","props","plugin","Error","transform","src","getImageSrc","render"],"mappings":";;AACA,OAAOA,SAAP,MAAsB,WAAtB;AACA,SAASC,SAAT,QAA0B,iBAA1B;AAIA,OAAO,IAAMC,KAA2B,GAAG,SAA9BA,KAA8B,OAAsC;AAAA,MAA3BC,UAA2B,QAAnCC,MAAmC;AAAA,MAAZC,KAAY;;AAC7E,MAAMC,MAAM,GAAGL,SAAS,CAAuB,iBAAvB,CAAxB;;AACA,MAAI,CAACK,MAAL,EAAa;AACT,UAAM,IAAIC,KAAJ,kEAAN;AACH;;AAED,MAAIJ,UAAJ,EAAgB;AACZ,QAAMC,MAAM,GAAG,KAAIE,MAAJ,oBAAuBH,UAAvB,EAAf;;AACAH,IAAAA,SAAS,CAACI,MAAD,+BAA8BD,UAA9B,mBAAT;AACAE,IAAAA,KAAK,CAACG,SAAN,GAAkBJ,MAAlB;AACH;;AAED,MAAIC,KAAK,CAACG,SAAV,EAAqB;AACjBH,IAAAA,KAAK,CAACI,GAAN,GAAYH,MAAM,CAACI,WAAP,CAAmBL,KAAnB,CAAZ;AACH;;AAED,SAAOC,MAAM,CAACK,MAAP,CAAcN,KAAd,CAAP;AACH,CAjBM","sourcesContent":["import * as React from \"react\";\nimport invariant from \"invariant\";\nimport { getPlugin } from \"@webiny/plugins\";\nimport { get } from \"lodash\";\nimport { ImageComponentPlugin, ImageProps } from \"@webiny/app/types\";\n\nexport const Image: React.FC<ImageProps> = ({ preset: presetName, ...props }) => {\n    const plugin = getPlugin<ImageComponentPlugin>(\"image-component\");\n    if (!plugin) {\n        throw new Error(`Image component plugin (type \"image-component\") not defined.`);\n    }\n\n    if (presetName) {\n        const preset = get(plugin, `presets.${presetName}`);\n        invariant(preset, `Transform preset \"${presetName}\" not found.`);\n        props.transform = preset;\n    }\n\n    if (props.transform) {\n        props.src = plugin.getImageSrc(props);\n    }\n\n    return plugin.render(props);\n};\n"],"file":"Image.js"}