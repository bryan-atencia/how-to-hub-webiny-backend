{"version":3,"sources":["../../src/hooks/useHandlers.ts"],"names":["useRef","useEffect","useHandlers","props","factories","propsRef","handlersRef","names","Object","keys","reduce","handlers","name","handler","current"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,SAAjB,QAAkC,OAAlC;AAQA,OAAO,SAASC,WAAT,CAAqBC,KAArB,EAA0CC,SAA1C,EAAuE;AAC1E,MAAMC,QAAQ,GAAGL,MAAM,CAACG,KAAD,CAAvB;AAEA,MAAMG,WAAW,GAAGN,MAAM,CACrB,YAAM;AACH,QAAMO,KAAK,GAAGC,MAAM,CAACC,IAAP,CAAYL,SAAZ,CAAd;AACA,WAAOG,KAAK,CAACG,MAAN,CAAa,UAACC,QAAD,EAAWC,IAAX,EAAoB;AACpCD,MAAAA,QAAQ,CAACC,IAAD,CAAR,GAAiB,YAAa;AAC1B,YAAMC,OAAO,GAAGT,SAAS,CAACQ,IAAD,CAAT,CAAgBP,QAAQ,CAACS,OAAzB,CAAhB;AACA,eAAOD,OAAO,MAAP,mBAAP;AACH,OAHD;;AAIA,aAAOF,QAAP;AACH,KANM,EAMJ,EANI,CAAP;AAOH,GATD,EADsB,CAA1B;AAaAV,EAAAA,SAAS,CAAC,YAAM;AACZI,IAAAA,QAAQ,CAACS,OAAT,GAAmBX,KAAnB;AACH,GAFQ,CAAT;AAIA,SAAOG,WAAW,CAACQ,OAAnB;AACH","sourcesContent":["import { useRef, useEffect } from \"react\";\n\ntype HandlerProps = { [key: string]: any };\ntype HandlerFactories = { [key: string]: (props: HandlerProps) => (...params: any[]) => any };\ntype Handlers = {\n    [K in keyof HandlerFactories]: (...params: any[]) => any;\n};\n\nexport function useHandlers(props: HandlerProps, factories: HandlerFactories) {\n    const propsRef = useRef(props);\n\n    const handlersRef = useRef(\n        (() => {\n            const names = Object.keys(factories);\n            return names.reduce((handlers, name) => {\n                handlers[name] = (...args) => {\n                    const handler = factories[name](propsRef.current);\n                    return handler(...args);\n                };\n                return handlers;\n            }, {});\n        })()\n    );\n\n    useEffect(() => {\n        propsRef.current = props;\n    });\n\n    return handlersRef.current as Handlers;\n}\n"],"file":"useHandlers.js"}