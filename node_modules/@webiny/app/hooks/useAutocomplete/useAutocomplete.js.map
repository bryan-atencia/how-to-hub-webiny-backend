{"version":3,"sources":["../../../src/hooks/useAutocomplete/useAutocomplete.ts"],"names":["useDataList","useAutocomplete","props","useDataListProps","query","dataList","useRouter","options","data","onInput","search","setSearch"],"mappings":";;AAAA,SAASA,WAAT,QAA4B,+BAA5B;AAQA,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAgC;AAC3D,MAAMC,gBAAgB,GAAGD,KAAK,CAACE,KAAN,GAAcF,KAAd,GAAsB;AAAEE,IAAAA,KAAK,EAAEF;AAAT,GAA/C;AAEA,MAAMG,QAAQ,GAAGL,WAAW;AAAGM,IAAAA,SAAS,EAAE;AAAd,KAAwBH,gBAAxB,EAA5B;AAEA,SAAO;AACHI,IAAAA,OAAO,EAAEF,QAAQ,CAACG,IAAT,IAAiB,EADvB;AAEHC,IAAAA,OAAO,EAAE,UAAS,UAAAL,KAAK,EAAI;AACvB,UAAI,CAACA,KAAL,EAAY;AACR;AACH;;AAED,UAAIM,MAAM,GAAGR,KAAK,CAACQ,MAAN,IAAgBN,KAA7B;;AACA,UAAI,OAAOM,MAAP,KAAkB,UAAtB,EAAkC;AAC9BA,QAAAA,MAAM,GAAGA,MAAM,CAACN,KAAD,CAAf;AACH;;AAEDC,MAAAA,QAAQ,CAACM,SAAT,CAAmBD,MAAnB;AACH,KAXQ,EAWN,GAXM;AAFN,GAAP;AAeH,CApBM","sourcesContent":["import { useDataList } from \"@webiny/app/hooks/useDataList\";\nimport { debounce } from \"lodash\";\n\ninterface UseAutocompleteHook {\n    options: any[];\n    onInput(value: string): void;\n}\n\nexport const useAutocomplete = (props): UseAutocompleteHook => {\n    const useDataListProps = props.query ? props : { query: props };\n\n    const dataList = useDataList({ useRouter: false, ...useDataListProps });\n\n    return {\n        options: dataList.data || [],\n        onInput: debounce(query => {\n            if (!query) {\n                return;\n            }\n\n            let search = props.search || query;\n            if (typeof search === \"function\") {\n                search = search(query);\n            }\n\n            dataList.setSearch(search);\n        }, 250)\n    };\n};\n"],"file":"useAutocomplete.js"}