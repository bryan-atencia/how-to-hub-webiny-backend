import React, { useEffect } from "react";
import { Query } from "react-apollo";
import query from "./graphql";
import showCookiePolicy from "./../utils/showCookiePolicy";

function CookiePolicy(_ref) {
  var settings = _ref.settings;
  useEffect(function () {
    if (settings && settings.enabled === true) {
      showCookiePolicy(settings);
    }
  }, []);
  return null;
}

export default (function () {
  return {
    type: "addon-render",
    name: "addon-render-cookie-policy",
    component: /*#__PURE__*/React.createElement(Query, {
      query: query
    }, function (_ref2) {
      var data = _ref2.data,
          loading = _ref2.loading;
      return loading ? null : /*#__PURE__*/React.createElement(CookiePolicy, {
        settings: data.cookiePolicy.getSettings.data
      });
    })
  };
});
//# sourceMappingURL=index.js.map