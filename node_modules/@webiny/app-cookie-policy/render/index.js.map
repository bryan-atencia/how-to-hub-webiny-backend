{"version":3,"sources":["../../src/render/index.tsx"],"names":["React","useEffect","Query","query","showCookiePolicy","CookiePolicy","settings","enabled","type","name","component","data","loading","cookiePolicy","getSettings"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,KAAT,QAAsB,cAAtB;AACA,OAAOC,KAAP,MAAkB,WAAlB;AACA,OAAOC,gBAAP,MAA6B,6BAA7B;;AAGA,SAASC,YAAT,OAAoC;AAAA,MAAZC,QAAY,QAAZA,QAAY;AAChCL,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAIK,QAAQ,IAAIA,QAAQ,CAACC,OAAT,KAAqB,IAArC,EAA2C;AACvCH,MAAAA,gBAAgB,CAACE,QAAD,CAAhB;AACH;AACJ,GAJQ,EAIN,EAJM,CAAT;AAMA,SAAO,IAAP;AACH;;AAED,gBAAe;AAAA,SAA4B;AACvCE,IAAAA,IAAI,EAAE,cADiC;AAEvCC,IAAAA,IAAI,EAAE,4BAFiC;AAGvCC,IAAAA,SAAS,eACL,oBAAC,KAAD;AAAO,MAAA,KAAK,EAAEP;AAAd,OACK,iBAAuB;AAAA,UAApBQ,IAAoB,SAApBA,IAAoB;AAAA,UAAdC,OAAc,SAAdA,OAAc;AACpB,aAAOA,OAAO,GAAG,IAAH,gBACV,oBAAC,YAAD;AAAc,QAAA,QAAQ,EAAED,IAAI,CAACE,YAAL,CAAkBC,WAAlB,CAA8BH;AAAtD,QADJ;AAGH,KALL;AAJmC,GAA5B;AAAA,CAAf","sourcesContent":["import React, { useEffect } from \"react\";\nimport { Query } from \"react-apollo\";\nimport query from \"./graphql\";\nimport showCookiePolicy from \"./../utils/showCookiePolicy\";\nimport { PbAddonRenderPlugin } from \"@webiny/app-page-builder/types\";\n\nfunction CookiePolicy({ settings }) {\n    useEffect(() => {\n        if (settings && settings.enabled === true) {\n            showCookiePolicy(settings);\n        }\n    }, []);\n\n    return null;\n}\n\nexport default (): PbAddonRenderPlugin => ({\n    type: \"addon-render\",\n    name: \"addon-render-cookie-policy\",\n    component: (\n        <Query query={query}>\n            {({ data, loading }) => {\n                return loading ? null : (\n                    <CookiePolicy settings={data.cookiePolicy.getSettings.data} />\n                );\n            }}\n        </Query>\n    )\n});\n"],"file":"index.js"}