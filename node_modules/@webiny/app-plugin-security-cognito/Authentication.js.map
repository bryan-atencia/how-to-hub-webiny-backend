{"version":3,"sources":["../src/Authentication.tsx"],"names":["React","getPlugin","Authenticator","SignInState","RequireNewPasswordState","ForgotPasswordState","SetNewPasswordState","invariant","Authentication","onIdToken","viewProps","SignIn","view","RequireNewPassword","ForgotPassword","SetNewPassword","Loading","checkingUser","authProps"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,iBAA1B;AACA,SAASC,aAAT,QAA8B,yBAA9B;AACA,OAAOC,WAAP,MAAwB,yBAAxB;AACA,OAAOC,uBAAP,MAAoC,qCAApC;AACA,OAAOC,mBAAP,MAAgC,iCAAhC;AACA,OAAOC,mBAAP,MAAgC,iCAAhC;AACA,OAAOC,SAAP,MAAsB,WAAtB;;AAcA,IAAMC,cAA6C,GAAG,SAAhDA,cAAgD,OAAiC;AAAA,MAA9BC,SAA8B,QAA9BA,SAA8B;AAAA,MAAhBC,SAAgB;;AAAA,mBAC1DT,SAAS,CAAkC,sBAAlC,CADiD;AAAA,MACrEU,MADqE,cAC3EC,IAD2E;;AAEnFL,EAAAA,SAAS,CAACI,MAAD,6CAAT;;AAFmF,oBAI9CV,SAAS,CAC1C,mCAD0C,CAJqC;AAAA,MAIrEY,kBAJqE,eAI3ED,IAJ2E;;AAOnFL,EAAAA,SAAS,CAACM,kBAAD,0DAAT;;AAPmF,oBASlDZ,SAAS,CACtC,8BADsC,CATyC;AAAA,MASrEa,cATqE,eAS3EF,IAT2E;;AAYnFL,EAAAA,SAAS,CAACO,cAAD,qDAAT;;AAZmF,oBAclDb,SAAS,CACtC,+BADsC,CAdyC;AAAA,MAcrEc,cAdqE,eAc3EH,IAd2E;;AAiBnFL,EAAAA,SAAS,CAACQ,cAAD,sDAAT;;AAjBmF,oBAmBzDd,SAAS,CAAmC,sBAAnC,CAnBgD;AAAA,MAmBrEe,OAnBqE,eAmB3EJ,IAnB2E;;AAoBnFL,EAAAA,SAAS,CAACS,OAAD,6CAAT;AAEA,sBACI,oBAAC,aAAD;AAAe,IAAA,SAAS,EAAEP;AAA1B,KACK;AAAA,QAAGQ,YAAH,SAAGA,YAAH;AAAA,QAAoBC,SAApB;;AAAA,WACGD,YAAY,gBACR,oBAAC,OAAD,OADQ,gBAGR,uDACI,oBAAC,WAAD,EAAiBC,SAAjB,eACI,oBAAC,MAAD,EAAYR,SAAZ,CADJ,CADJ,eAII,oBAAC,uBAAD,EAA6BQ,SAA7B,eACI,oBAAC,kBAAD,EAAwBR,SAAxB,CADJ,CAJJ,eAOI,oBAAC,mBAAD,EAAyBQ,SAAzB,eACI,oBAAC,cAAD,EAAoBR,SAApB,CADJ,CAPJ,eAUI,oBAAC,mBAAD,EAAyBQ,SAAzB,eACI,oBAAC,cAAD,EAAoBR,SAApB,CADJ,CAVJ,CAJP;AAAA,GADL,CADJ;AAwBH,CA9CD;;AAgDA,eAAeF,cAAf","sourcesContent":["import React from \"react\";\nimport { getPlugin } from \"@webiny/plugins\";\nimport { Authenticator } from \"./cognito/Authenticator\";\nimport SignInState from \"./cognito/states/SignIn\";\nimport RequireNewPasswordState from \"./cognito/states/RequireNewPassword\";\nimport ForgotPasswordState from \"./cognito/states/ForgotPassword\";\nimport SetNewPasswordState from \"./cognito/states/SetNewPassword\";\nimport invariant from \"invariant\";\nimport {\n    SecurityCognitoViewForgotPasswordPlugin,\n    SecurityCognitoViewLoadingPlugin,\n    SecurityCognitoViewRequireNewPasswordPlugin,\n    SecurityCognitoViewSetNewPasswordPlugin,\n    SecurityCognitoViewSignInPlugin\n} from \"./types\";\n\nexport type AuthenticationProps = {\n    onIdToken(idToken: string): void;\n    [key: string]: any;\n};\n\nconst Authentication: React.FC<AuthenticationProps> = ({ onIdToken, ...viewProps }) => {\n    const { view: SignIn } = getPlugin<SecurityCognitoViewSignInPlugin>(\"cognito-view-sign-in\");\n    invariant(SignIn, `Missing \"cognito-view-sign-in\" plugin!`);\n\n    const { view: RequireNewPassword } = getPlugin<SecurityCognitoViewRequireNewPasswordPlugin>(\n        \"cognito-view-require-new-password\"\n    );\n    invariant(RequireNewPassword, `Missing \"cognito-view-require-new-password\" plugin!`);\n\n    const { view: ForgotPassword } = getPlugin<SecurityCognitoViewForgotPasswordPlugin>(\n        \"cognito-view-forgot-password\"\n    );\n    invariant(ForgotPassword, `Missing \"cognito-view-forgot-password\" plugin!`);\n\n    const { view: SetNewPassword } = getPlugin<SecurityCognitoViewSetNewPasswordPlugin>(\n        \"cognito-view-set-new-password\"\n    );\n    invariant(SetNewPassword, `Missing \"cognito-view-set-new-password\" plugin!`);\n\n    const { view: Loading } = getPlugin<SecurityCognitoViewLoadingPlugin>(\"cognito-view-loading\");\n    invariant(Loading, `Missing \"cognito-view-loading\" plugin!`);\n\n    return (\n        <Authenticator onIdToken={onIdToken}>\n            {({ checkingUser, ...authProps }) =>\n                checkingUser ? (\n                    <Loading />\n                ) : (\n                    <>\n                        <SignInState {...authProps}>\n                            <SignIn {...viewProps} />\n                        </SignInState>\n                        <RequireNewPasswordState {...authProps}>\n                            <RequireNewPassword {...viewProps} />\n                        </RequireNewPasswordState>\n                        <ForgotPasswordState {...authProps}>\n                            <ForgotPassword {...viewProps} />\n                        </ForgotPasswordState>\n                        <SetNewPasswordState {...authProps}>\n                            <SetNewPassword {...viewProps} />\n                        </SetNewPasswordState>\n                    </>\n                )\n            }\n        </Authenticator>\n    );\n};\n\nexport default Authentication;\n"],"file":"Authentication.js"}