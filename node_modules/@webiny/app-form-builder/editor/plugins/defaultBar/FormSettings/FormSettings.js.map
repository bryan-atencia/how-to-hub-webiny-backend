{"version":3,"sources":["../../../../../src/editor/plugins/defaultBar/FormSettings/FormSettings.tsx"],"names":["React","useState","getPlugins","OverlayLayout","SplitView","LeftPanel","RightPanel","Typography","Form","Icon","ButtonPrimary","List","ListItem","ListItemGraphic","useFormEditor","useSnackbar","i18n","t","namespace","SimpleForm","SimpleFormFooter","SimpleFormContent","SimpleFormHeader","Title","listItem","ListItemTitle","listStyle","TitleContent","FormSettings","onExited","plugins","data","setData","showSnackbar","activePlugin","setActivePlugin","map","pl","name","icon","title","description","settings","Bind","submit","form","formData","renderHeaderActions","render"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { getPlugins } from \"@webiny/plugins\";\nimport { OverlayLayout } from \"@webiny/app-admin/components/OverlayLayout\";\nimport { SplitView, LeftPanel, RightPanel } from \"@webiny/app-admin/components/SplitView\";\nimport { Typography } from \"@webiny/ui/Typography\";\nimport { Form } from \"@webiny/form\";\nimport { Icon } from \"@webiny/ui/Icon\";\nimport { ButtonPrimary } from \"@webiny/ui/Button\";\nimport { List, ListItem, ListItemGraphic } from \"@webiny/ui/List\";\nimport { useFormEditor } from \"@webiny/app-form-builder/admin/components/FormEditor/Context\";\nimport { useSnackbar } from \"@webiny/app-admin/hooks/useSnackbar\";\n\nimport { i18n } from \"@webiny/app/i18n\";\nconst t = i18n.namespace(\"FormsApp.Editor.FormSettings\");\n\nimport {\n    SimpleForm,\n    SimpleFormFooter,\n    SimpleFormContent,\n    SimpleFormHeader\n} from \"@webiny/app-admin/components/SimpleForm\";\nimport { Title, listItem, ListItemTitle, listStyle, TitleContent } from \"./FormSettingsStyled\";\nimport { FbEditorFormSettingsPlugin } from \"@webiny/app-form-builder/types\";\n\ntype FormSettingsProps = {\n    onExited: () => void;\n};\n\nconst FormSettings = ({ onExited }: FormSettingsProps) => {\n    const plugins = getPlugins<FbEditorFormSettingsPlugin>(\"form-editor-form-settings\");\n    const { data, setData } = useFormEditor();\n    const { showSnackbar } = useSnackbar();\n\n    const [activePlugin, setActivePlugin] = useState(plugins[0]);\n\n    return (\n        <OverlayLayout barMiddle={Title} onExited={onExited}>\n            <SplitView>\n                <LeftPanel span={5}>\n                    <List twoLine className={listStyle}>\n                        {plugins.map(pl => (\n                            <ListItem\n                                key={pl.name}\n                                className={listItem}\n                                onClick={() => setActivePlugin(pl)}\n                            >\n                                <ListItemGraphic>\n                                    <Icon icon={pl.icon} />\n                                </ListItemGraphic>\n                                <TitleContent>\n                                    <ListItemTitle>{pl.title}</ListItemTitle>\n                                    <Typography use={\"subtitle2\"}>{pl.description}</Typography>\n                                </TitleContent>\n                            </ListItem>\n                        ))}\n                    </List>\n                </LeftPanel>\n                <RightPanel span={7}>\n                    <Form\n                        data={data.settings}\n                        onSubmit={settings => {\n                            setData(data => {\n                                data.settings = settings;\n                                return data;\n                            });\n                            onExited();\n                            showSnackbar(t`Form settings updated successfully.`);\n                        }}\n                    >\n                        {({ Bind, submit, form, data: formData }) => (\n                            <SimpleForm>\n                                <SimpleFormHeader title={activePlugin.title}>\n                                    {typeof activePlugin.renderHeaderActions === \"function\" &&\n                                        activePlugin.renderHeaderActions({ Bind, form, formData })}\n                                </SimpleFormHeader>\n                                <SimpleFormContent>\n                                    {activePlugin\n                                        ? activePlugin.render({ Bind, form, formData })\n                                        : null}\n                                </SimpleFormContent>\n                                <SimpleFormFooter>\n                                    <ButtonPrimary onClick={submit}>\n                                        {t`Save settings`}\n                                    </ButtonPrimary>\n                                </SimpleFormFooter>\n                            </SimpleForm>\n                        )}\n                    </Form>\n                </RightPanel>\n            </SplitView>\n        </OverlayLayout>\n    );\n};\n\nexport default FormSettings;\n"],"file":"FormSettings.js"}