{"version":3,"sources":["../../../../../src/admin/plugins/formDetails/previewContent/index.tsx"],"names":["React","useEffect","useState","Tab","styled","Elevation","FormPreview","Header","CircularProgress","i18n","t","namespace","RenderBlock","position","zIndex","backgroundColor","height","overflow","padding","PreviewContentTab","props","revisionId","setRevisionId","form","revisions","id","revision","find","item","loading","name","type","render"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,GAAT,QAAoB,iBAApB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,SAASC,SAAT,QAA0B,sBAA1B;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,gBAAT,QAAiC,qBAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AAMA,IAAMC,CAAC,GAAGD,IAAI,CAACE,SAAL,CAAe,qCAAf,CAAV;AAEA,IAAMC,WAAW,gBAAGR,MAAH,CAAU,KAAV;AAAA;AAAA;AAAA,GAAiB;AAC9BS,EAAAA,QAAQ,EAAE,UADoB;AAE9BC,EAAAA,MAAM,EAAE,CAFsB;AAG9BC,EAAAA,eAAe,EAAE,6BAHa;AAI9BC,EAAAA,MAAM,EAAE,MAJsB;AAK9BC,EAAAA,QAAQ,EAAE,QALoB;AAM9BC,EAAAA,OAAO,EAAE;AANqB,CAAjB,CAAjB;;AASA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,KAAD,EAA4C;AAAA,kBAC9BlB,QAAQ,EADsB;AAAA;AAAA,MAC3DmB,UAD2D;AAAA,MAC/CC,aAD+C;;AAElErB,EAAAA,SAAS,CAAC,YAAM;AACZqB,IAAAA,aAAa,CAACF,KAAK,CAACG,IAAN,CAAWC,SAAX,CAAqB,CAArB,EAAwBC,EAAzB,CAAb;AACH,GAFQ,EAEN,CAACL,KAAK,CAACG,IAAN,CAAWE,EAAZ,CAFM,CAAT;AAIA,MAAMC,QAAQ,GAAGN,KAAK,CAACG,IAAN,CAAWC,SAAX,CAAqBG,IAArB,CAA0B,UAAAC,IAAI;AAAA,WAAIA,IAAI,CAACH,EAAL,KAAYJ,UAAhB;AAAA,GAA9B,CAAjB;;AACA,MAAI,CAACK,QAAL,EAAe;AACX,WAAO,IAAP;AACH;;AAED,sBACI,oBAAC,WAAD,qBACI,oBAAC,SAAD;AAAW,IAAA,CAAC,EAAE;AAAd,kBACI;AAAK,IAAA,KAAK,EAAE;AAAEb,MAAAA,QAAQ,EAAE;AAAZ;AAAZ,KACKO,KAAK,CAACS,OAAN,iBAAiB,oBAAC,gBAAD,OADtB,eAEI,oBAAC,MAAD,oBACQT,KADR;AAEI,IAAA,QAAQ,EAAEM,QAFd;AAGI,IAAA,cAAc,EAAE,wBAAAA,QAAQ;AAAA,aAAIJ,aAAa,CAACI,QAAQ,CAACD,EAAV,CAAjB;AAAA;AAH5B,KAFJ,eAOI,oBAAC,WAAD;AAAa,IAAA,QAAQ,EAAEC,QAAvB;AAAiC,IAAA,IAAI,EAAEN,KAAK,CAACG;AAA7C,IAPJ,CADJ,CADJ,CADJ;AAeH,CA1BD;;AA4BA,eAAe,CACX;AACIO,EAAAA,IAAI,EAAE,6CADV;AAEIC,EAAAA,IAAI,EAAE,qCAFV;AAGIC,EAAAA,MAHJ,kBAGWZ,KAHX,EAGkB;AACV,wBACI,oBAAC,GAAD;AAAK,MAAA,KAAK,EAAEV,CAAF,mBAAV;AAA6B,MAAA,QAAQ,EAAEU,KAAK,CAACS;AAA7C,oBACI,oBAAC,iBAAD,EAAuBT,KAAvB,CADJ,CADJ;AAKH;AATL,CADW,CAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Tab } from \"@webiny/ui/Tabs\";\nimport styled from \"@emotion/styled\";\nimport { Elevation } from \"@webiny/ui/Elevation\";\nimport FormPreview from \"./FormPreview\";\nimport Header from \"./Header\";\nimport { CircularProgress } from \"@webiny/ui/Progress\";\nimport { i18n } from \"@webiny/app/i18n\";\nimport {\n    FbFormDetailsPluginRenderParams,\n    FbFormDetailsPluginType\n} from \"@webiny/app-form-builder/types\";\n\nconst t = i18n.namespace(\"FormsApp.FormDetails.PreviewContent\");\n\nconst RenderBlock = styled(\"div\")({\n    position: \"relative\",\n    zIndex: 0,\n    backgroundColor: \"var(--mdc-theme-background)\",\n    height: \"100%\",\n    overflow: \"scroll\",\n    padding: 25\n});\n\nconst PreviewContentTab = (props: FbFormDetailsPluginRenderParams) => {\n    const [revisionId, setRevisionId] = useState();\n    useEffect(() => {\n        setRevisionId(props.form.revisions[0].id);\n    }, [props.form.id]);\n\n    const revision = props.form.revisions.find(item => item.id === revisionId);\n    if (!revision) {\n        return null;\n    }\n\n    return (\n        <RenderBlock>\n            <Elevation z={2}>\n                <div style={{ position: \"relative\" }}>\n                    {props.loading && <CircularProgress />}\n                    <Header\n                        {...props}\n                        revision={revision}\n                        selectRevision={revision => setRevisionId(revision.id)}\n                    />\n                    <FormPreview revision={revision} form={props.form} />\n                </div>\n            </Elevation>\n        </RenderBlock>\n    );\n};\n\nexport default [\n    {\n        name: \"forms-form-details-revision-content-preview\",\n        type: \"forms-form-details-revision-content\",\n        render(props) {\n            return (\n                <Tab label={t`Form preview`} disabled={props.loading}>\n                    <PreviewContentTab {...props} />\n                </Tab>\n            );\n        }\n    }\n] as FbFormDetailsPluginType[];\n"],"file":"index.js"}