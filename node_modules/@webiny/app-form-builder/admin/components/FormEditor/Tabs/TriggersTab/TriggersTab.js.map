{"version":3,"sources":["../../../../../../src/admin/components/FormEditor/Tabs/TriggersTab/TriggersTab.tsx"],"names":["React","styled","Accordion","AccordionItem","Typography","Form","useFormEditor","getPlugins","useSnackbar","i18n","t","namespace","Container","padding","color","TriggersTab","setData","formData","data","plugins","showSnackbar","map","trigger","id","icon","title","description","submitData","Bind","submit","renderSettings","form"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,SAASC,SAAT,EAAoBC,aAApB,QAAyC,sBAAzC;AACA,SAASC,UAAT,QAA2B,uBAA3B;AACA,SAASC,IAAT,QAAqB,cAArB;AACA,SAASC,aAAT,QAA8B,8DAA9B;AACA,SAASC,UAAT,QAA2B,iBAA3B;AAEA,SAASC,WAAT,QAA4B,qCAA5B;AACA,SAASC,IAAT,QAAqB,kBAArB;AAEA,IAAMC,CAAC,GAAGD,IAAI,CAACE,SAAL,CAAe,6BAAf,CAAV;AAEA,IAAMC,SAAS,gBAAGX,MAAH,CAAU,KAAV;AAAA;AAAA;AAAA,GAAiB;AAC5BY,EAAAA,OAAO,EAAE,WADmB;AAE5BC,EAAAA,KAAK,EAAE;AAFqB,CAAjB,CAAf;AAKA,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AAAA,uBACOT,aAAa,EADpB;AAAA,MACrBU,OADqB,kBACrBA,OADqB;AAAA,MACNC,QADM,kBACZC,IADY;;AAE7B,MAAMC,OAAO,GAAGZ,UAAU,CAAkB,qBAAlB,CAA1B;;AAF6B,qBAGJC,WAAW,EAHP;AAAA,MAGrBY,YAHqB,gBAGrBA,YAHqB;;AAK7B,sBACI,oBAAC,SAAD,qBACI,oBAAC,UAAD;AACI,IAAA,GAAG,EAAE;AADT,KAEEV,CAFF,oBADJ,eAKI,oBAAC,SAAD,QACKS,OAAO,CAACE,GAAR,CAAY;AAAA,QAAGC,OAAH,QAAGA,OAAH;AAAA,wBACT,oBAAC,aAAD;AACI,MAAA,GAAG,EAAEA,OAAO,CAACC,EADjB;AAEI,MAAA,IAAI,EAAED,OAAO,CAACE,IAFlB;AAGI,MAAA,KAAK,EAAEF,OAAO,CAACG,KAHnB;AAII,MAAA,WAAW,EAAEH,OAAO,CAACI;AAJzB,oBAMI,oBAAC,IAAD;AACI,MAAA,IAAI,EAAE,KAAIT,QAAJ,qBAA0BK,OAAO,CAACC,EAAlC,GAAwC,EAAxC,CADV;AAEI,MAAA,QAAQ,EAAE,kBAAAI,UAAU,EAAI;AACpBX,QAAAA,OAAO,CAAC,UAAAE,IAAI;AAAA,iBAAI,KAAIA,IAAJ,qBAAsBI,OAAO,CAACC,EAA9B,GAAoCI,UAApC,CAAJ;AAAA,SAAL,CAAP;AACAP,QAAAA,YAAY,CAACV,CAAD,qBAAZ;AACH;AALL,OAOK;AAAA,UAAGkB,IAAH,SAAGA,IAAH;AAAA,UAASC,MAAT,SAASA,MAAT;AAAA,aACGP,OAAO,CAACQ,cAAR,CAAuB;AACnBF,QAAAA,IAAI,EAAJA,IADmB;AAEnBC,QAAAA,MAAM,EAANA,MAFmB;AAGnBE,QAAAA,IAAI,EAAEd;AAHa,OAAvB,CADH;AAAA,KAPL,CANJ,CADS;AAAA,GAAZ,CADL,CALJ,CADJ;AAkCH,CAvCM","sourcesContent":["import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport { Accordion, AccordionItem } from \"@webiny/ui/Accordion\";\nimport { Typography } from \"@webiny/ui/Typography\";\nimport { Form } from \"@webiny/form\";\nimport { useFormEditor } from \"@webiny/app-form-builder/admin/components/FormEditor/Context\";\nimport { getPlugins } from \"@webiny/plugins\";\nimport { get, set } from \"lodash\";\nimport { useSnackbar } from \"@webiny/app-admin/hooks/useSnackbar\";\nimport { i18n } from \"@webiny/app/i18n\";\nimport {FbEditorTrigger} from \"@webiny/app-form-builder/types\";\nconst t = i18n.namespace(\"FormsApp.Editor.TriggersTab\");\n\nconst Container = styled(\"div\")({\n    padding: \"40px 60px\",\n    color: \"var(--mdc-theme-on-surface)\"\n});\n\nexport const TriggersTab = () => {\n    const { setData, data: formData } = useFormEditor();\n    const plugins = getPlugins<FbEditorTrigger>(\"form-editor-trigger\");\n    const { showSnackbar } = useSnackbar();\n\n    return (\n        <Container>\n            <Typography\n                use={\"overline\"}\n            >{t`Which actions should be taken after submission`}</Typography>\n\n            <Accordion>\n                {plugins.map(({ trigger }) => (\n                    <AccordionItem\n                        key={trigger.id}\n                        icon={trigger.icon}\n                        title={trigger.title}\n                        description={trigger.description}\n                    >\n                        <Form\n                            data={get(formData, `triggers.${trigger.id}`, {})}\n                            onSubmit={submitData => {\n                                setData(data => set(data, `triggers.${trigger.id}`, submitData));\n                                showSnackbar(t`Form settings updated successfully.`);\n                            }}\n                        >\n                            {({ Bind, submit }) =>\n                                trigger.renderSettings({\n                                    Bind,\n                                    submit,\n                                    form: formData\n                                })\n                            }\n                        </Form>\n                    </AccordionItem>\n                ))}\n            </Accordion>\n        </Container>\n    );\n};\n"],"file":"TriggersTab.js"}