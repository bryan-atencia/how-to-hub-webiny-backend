import * as React from "react";
import { useRouter } from "@webiny/react-router";
import { useSnackbar } from "@webiny/app-admin/hooks/useSnackbar"; // Components

import EditorBar from "./Bar";
import EditorContent from "./EditorContent";
import DragPreview from "./DragPreview";
import { useFormEditor } from "./Context";

var FormEditor = function FormEditor() {
  var _useFormEditor = useFormEditor(),
      getForm = _useFormEditor.getForm,
      _useFormEditor$state = _useFormEditor.state,
      data = _useFormEditor$state.data,
      id = _useFormEditor$state.id;

  var _useRouter = useRouter(),
      history = _useRouter.history;

  var _useSnackbar = useSnackbar(),
      showSnackbar = _useSnackbar.showSnackbar;

  React.useEffect(function () {
    getForm(id).catch(function () {
      history.push("/forms");
      showSnackbar("Could not load form with given ID.");
    });
  }, [id]);

  if (!data) {
    return null;
  }

  return /*#__PURE__*/React.createElement("div", {
    className: "form-editor"
  }, /*#__PURE__*/React.createElement(EditorBar, null), /*#__PURE__*/React.createElement(EditorContent, null), /*#__PURE__*/React.createElement(DragPreview, null));
};

export default FormEditor;
//# sourceMappingURL=FormEditor.js.map