{"version":3,"sources":["../../src/admin/viewsGraphql.ts"],"names":["gql","ERROR_FIELDS","BASE_FORM_FIELDS","LIST_FORMS","CREATE_FORM","GET_FORM","LIST_FORM_SUBMISSIONS","EXPORT_FORM_SUBMISSIONS","CREATE_REVISION_FROM","PUBLISH_REVISION","UNPUBLISH_REVISION","DELETE_REVISION","DELETE_FORM"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,GAAP,MAAgB,aAAhB;AAEA,IAAMC,YAAY,wCAAlB;AAMA,IAAMC,gBAAgB,yJAAtB;AAcA,OAAO,IAAMC,UAAU,GAAGH,GAAH,oBAKDE,gBALC,CAAhB;AAqBP,OAAO,IAAME,WAAW,GAAGJ,GAAH,qBAQFC,YARE,CAAjB;AAeP,OAAO,IAAMI,QAAQ,GAAGL,GAAH,qBAKCE,gBALD,EA0BCD,YA1BD,CAAd;AAiCP,OAAO,IAAMK,qBAAqB,GAAGN,GAAH,oBAA3B;AA8DP,OAAO,IAAMO,uBAAuB,GAAGP,GAAH,oBAA7B;AAeP,OAAO,IAAMQ,oBAAoB,GAAGR,GAAH,qBAQXC,YARW,CAA1B;AAeP,OAAO,IAAMQ,gBAAgB,GAAGT,GAAH,qBAUPC,YAVO,CAAtB;AAiBP,OAAO,IAAMS,kBAAkB,GAAGV,GAAH,qBAUTC,YAVS,CAAxB;AAiBP,OAAO,IAAMU,eAAe,GAAGX,GAAH,qBAMNC,YANM,CAArB;AAaP,OAAO,IAAMW,WAAW,GAAGZ,GAAH,sBAMFC,YANE,CAAjB","sourcesContent":["import gql from \"graphql-tag\";\n\nconst ERROR_FIELDS = `\n    code\n    message\n    data\n`;\n\nconst BASE_FORM_FIELDS = `  \n    id\n    name\n    version\n    parent\n    published\n    status\n    savedOn\n    createdBy {\n        firstName\n        lastName\n    }\n`;\n\nexport const LIST_FORMS = gql`\n    query FormsListForms($sort: JSON, $limit: Int, $search: String, $after: String, $before: String) {\n        forms {\n            listForms(sort: $sort, limit: $limit, search: $search, after: $after, before: $before) {\n                data {  \n                    ${BASE_FORM_FIELDS}\n                }\n                meta {\n                    cursors {\n                        next\n                        previous\n                    }\n                    hasNextPage\n                    hasPreviousPage\n                    totalCount\n                }\n            }\n        }\n    }\n`;\n\nexport const CREATE_FORM = gql`\n    mutation FormsCreateForm($name: String!) {\n        forms {\n            form: createForm(data: { name: $name }) {\n                data {\n                    id\n                }\n                error {\n                    ${ERROR_FIELDS}\n                }\n            }\n        }\n    }\n`;\n\nexport const GET_FORM = gql`\n    query FormsGetForm($id: ID!) {\n        forms {\n            form: getForm(id: $id) {\n                data {\n                    ${BASE_FORM_FIELDS}\n                    overallStats {\n                        views\n                        submissions\n                        conversionRate\n                    }\n                    revisions {\n                        id\n                        savedOn\n                        parent\n                        name\n                        version\n                        status\n                        stats {\n                            views\n                            submissions\n                            conversionRate\n                        }\n                    }\n                }\n                error {\n                    ${ERROR_FIELDS}\n                }\n            }\n        }\n    }\n`;\n\nexport const LIST_FORM_SUBMISSIONS = gql`\n    query FormsListFormSubmissions(\n        $sort: JSON\n        $search: String\n        $where: JSON\n        $limit: Int\n        $after: String\n        $before: String\n    ) {\n        forms {\n            listFormSubmissions(\n                sort: $sort\n                search: $search\n                where: $where\n                limit: $limit\n                after: $after\n                before: $before\n            ) {\n                data {\n                    id\n                    data\n                    meta {\n                        ip\n                        submittedOn\n                    }\n                    form {\n                        revision {\n                            id\n                            name\n                            version\n                            layout\n                            fields {\n                                _id\n                                fieldId\n                                type\n                                label {\n                                    value\n                                }\n                                options {\n                                    label {\n                                        value\n                                    }\n                                    value\n                                }\n                            }\n                        }\n                    }\n                }\n                meta {\n                    cursors {\n                        next\n                        previous\n                    }\n                    hasNextPage\n                    hasPreviousPage\n                    totalCount\n                }\n            }\n        }\n    }\n`;\n\nexport const EXPORT_FORM_SUBMISSIONS = gql`\n    mutation FormsExportFormSubmissions($ids: [ID], $parent: ID, $form: ID) {\n        forms {\n            exportFormSubmissions(ids: $ids, parent: $parent, form: $form) {\n                data {\n                    src\n                }\n                error {\n                    message\n                }\n            }\n        }\n    }\n`;\n\nexport const CREATE_REVISION_FROM = gql`\n    mutation FormsCreateRevisionFrom($revision: ID!) {\n        forms {\n            revision: createRevisionFrom(revision: $revision) {\n                data {\n                    id\n                }\n                error {\n                    ${ERROR_FIELDS}\n                }\n            }\n        }\n    }\n`;\n\nexport const PUBLISH_REVISION = gql`\n    mutation FormsPublishRevision($id: ID!) {\n        forms {\n            publishRevision(id: $id) {\n                data {\n                    id\n                    status\n                    published\n                }\n                error {\n                    ${ERROR_FIELDS}\n                }\n            }\n        }\n    }\n`;\n\nexport const UNPUBLISH_REVISION = gql`\n    mutation FormsUnpublishRevision($id: ID!) {\n        forms {\n            unpublishRevision(id: $id) {\n                data {\n                    id\n                    status\n                    published\n                }\n                error {\n                    ${ERROR_FIELDS}\n                }\n            }\n        }\n    }\n`;\n\nexport const DELETE_REVISION = gql`\n    mutation FormsDeleteRevision($id: ID!) {\n        forms {\n            deleteRevision(id: $id) {\n                data\n                error {\n                    ${ERROR_FIELDS}\n                }\n            }\n        }\n    }\n`;\n\nexport const DELETE_FORM = gql`\n    mutation DeleteForm($id: ID!) {\n        forms {\n            deleteForm(id: $id) {\n                data\n                error {\n                    ${ERROR_FIELDS}\n                }\n            }\n        }\n    }\n`;\n"],"file":"viewsGraphql.js"}