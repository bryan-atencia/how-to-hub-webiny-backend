{"version":3,"sources":["../../../../src/components/Form/functions/handleFormTriggers.ts"],"names":["getPlugins","args","props","preview","data","plugins","i","length","plugin","trigger","handle","id","form"],"mappings":";;;AAKA,SAASA,UAAT,QAA2B,iBAA3B;AASA;AAAA,sEAAe,iBAAOC,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBACPA,IAAI,CAACC,KAAL,CAAWC,OADJ;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAKHC,YAAAA,IALG,GAKaH,IALb,CAKHG,IALG,EAKGF,KALH,GAKaD,IALb,CAKGC,KALH;AAOLG,YAAAA,OAPK,GAOKL,UAAU,CAA6B,sBAA7B,CAPf;AAQFM,YAAAA,CARE,GAQE,CARF;;AAAA;AAAA,kBAQKA,CAAC,GAAGD,OAAO,CAACE,MARjB;AAAA;AAAA;AAAA;;AASDC,YAAAA,MATC,GASQH,OAAO,CAACC,CAAD,CATf;AAAA;AAAA,mBAUDE,MAAM,CAACC,OAAP,CAAeC,MAAf,CAAsB;AACxBD,cAAAA,OAAO,EAAE,KAAIP,KAAK,CAACE,IAAV,qBAA4BI,MAAM,CAACC,OAAP,CAAeE,EAA3C,MAAoD,EADrC;AAExBP,cAAAA,IAAI,EAAJA,IAFwB;AAGxBQ,cAAAA,IAAI,EAAEV,KAAK,CAACE;AAHY,aAAtB,CAVC;;AAAA;AAQyBE,YAAAA,CAAC,EAR1B;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAf;;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import {\n    FbFormRenderComponentProps,\n    FbFormTriggerHandlerPlugin,\n    FormSubmitResponseType\n} from \"@webiny/app-form-builder/types\";\nimport { getPlugins } from \"@webiny/plugins\";\nimport { get } from \"lodash\";\n\ntype HandleFormTriggersArgs = {\n    props: FbFormRenderComponentProps;\n    data: any;\n    formSubmission: FormSubmitResponseType;\n};\n\nexport default async (args: HandleFormTriggersArgs) => {\n    if (args.props.preview) {\n        return;\n    }\n\n    const { data, props } = args;\n\n    const plugins = getPlugins<FbFormTriggerHandlerPlugin>(\"form-trigger-handler\");\n    for (let i = 0; i < plugins.length; i++) {\n        const plugin = plugins[i];\n        await plugin.trigger.handle({\n            trigger: get(props.data, `triggers.${plugin.trigger.id}`) || {},\n            data,\n            form: props.data\n        });\n    }\n};\n"],"file":"handleFormTriggers.js"}