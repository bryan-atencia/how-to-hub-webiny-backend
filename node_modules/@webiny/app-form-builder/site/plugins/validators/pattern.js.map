{"version":3,"sources":["../../../../src/site/plugins/validators/pattern.ts"],"names":["getPlugins","type","name","validator","validate","value","settings","pattern","preset","patternPlugin","find","item","RegExp","regex","flags","test"],"mappings":"AAAA,SAASA,UAAT,QAA2B,iBAA3B;AAGA,eAAe;AACXC,EAAAA,IAAI,EAAE,sBADK;AAEXC,EAAAA,IAAI,EAAE,8BAFK;AAGXC,EAAAA,SAAS,EAAE;AACPD,IAAAA,IAAI,EAAE,SADC;AAEPE,IAAAA,QAAQ,EAAE,kBAACC,KAAD,EAAQF,SAAR,EAAsB;AAC5B,UAAI,CAACE,KAAL,EAAY;AACR,eAAO,IAAP;AACH;;AAH2B,UAKpBC,QALoB,GAKPH,SALO,CAKpBG,QALoB;AAO5B,UAAIC,OAAJ;;AACA,UAAID,QAAQ,CAACE,MAAT,KAAoB,QAAxB,EAAkC;AAC9BD,QAAAA,OAAO,GAAGD,QAAV;AACH,OAFD,MAEO;AACH,YAAMG,aAAa,GAAGT,UAAU,CAC5B,8BAD4B,CAAV,CAEpBU,IAFoB,CAEf,UAAAC,IAAI;AAAA,iBAAIA,IAAI,CAACJ,OAAL,CAAaL,IAAb,KAAsBI,QAAQ,CAACE,MAAnC;AAAA,SAFW,CAAtB;;AAGA,YAAIC,aAAJ,EAAmB;AACfF,UAAAA,OAAO,GAAGE,aAAa,CAACF,OAAxB;AACH;AACJ;;AAED,UAAI,CAACA,OAAL,EAAc;AACV,eAAO,IAAP;AACH;;AAED,aAAO,IAAIK,MAAJ,CAAWL,OAAO,CAACM,KAAnB,EAA0BN,OAAO,CAACO,KAAlC,EAAyCC,IAAzC,CAA8CV,KAA9C,CAAP;AACH;AA1BM;AAHA,CAAf","sourcesContent":["import { getPlugins } from \"@webiny/plugins\";\nimport { FbFormFieldPatternValidatorPlugin } from \"@webiny/app-form-builder/types\";\n\nexport default {\n    type: \"form-field-validator\",\n    name: \"form-field-validator-pattern\",\n    validator: {\n        name: \"pattern\",\n        validate: (value, validator) => {\n            if (!value) {\n                return true;\n            }\n\n            const { settings } = validator;\n\n            let pattern;\n            if (settings.preset === \"custom\") {\n                pattern = settings;\n            } else {\n                const patternPlugin = getPlugins<FbFormFieldPatternValidatorPlugin>(\n                    \"form-field-validator-pattern\"\n                ).find(item => item.pattern.name === settings.preset);\n                if (patternPlugin) {\n                    pattern = patternPlugin.pattern;\n                }\n            }\n\n            if (!pattern) {\n                return true;\n            }\n\n            return new RegExp(pattern.regex, pattern.flags).test(value);\n        }\n    }\n};\n"],"file":"pattern.js"}