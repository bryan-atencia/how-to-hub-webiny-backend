{"version":3,"sources":["../../../../../../src/admin/plugins/contentDetails/header/publishRevision/PublishRevisionDialog.tsx"],"names":["React","css","Dialog","DialogTitle","DialogContent","DialogActions","DialogAccept","DialogCancel","Select","Form","validation","I18NValue","narrowDialog","width","minWidth","PublishRevisionDialog","open","onClose","onSubmit","revisions","selected","revision","find","r","id","submit","Bind","create","filter","meta","published","map","value","title","version"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,QAAoB,SAApB;AACA,SACIC,MADJ,EAEIC,WAFJ,EAGIC,aAHJ,EAIIC,aAJJ,EAKIC,YALJ,EAMIC,YANJ,QAQO,mBARP;AASA,SAASC,MAAT,QAAuB,mBAAvB;AACA,SAASC,IAAT,QAAqB,cAArB;AACA,SAASC,UAAT,QAA2B,oBAA3B;AACA,SAASC,SAAT,QAA0B,6BAA1B;AAEA,IAAMC,YAAY,gBAAGX,GAAG,CAAC;AACrB,0BAAwB;AACpBY,IAAAA,KAAK,EAAE,GADa;AAEpBC,IAAAA,QAAQ,EAAE;AAFU;AADH,CAAD,wBAAxB;;AAeA,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,OAA6D;AAAA,MAA1DC,IAA0D,QAA1DA,IAA0D;AAAA,MAApDC,OAAoD,QAApDA,OAAoD;AAAA,MAA3CC,SAA2C,QAA3CA,QAA2C;AAAA,MAAjCC,SAAiC,QAAjCA,SAAiC;AAAA,MAAtBC,QAAsB,QAAtBA,QAAsB;AACvF,sBACI,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAEJ,IAAd;AAAoB,IAAA,OAAO,EAAEC,OAA7B;AAAsC,IAAA,SAAS,EAAEL;AAAjD,kBACI,oBAAC,IAAD;AACI,IAAA,IAAI,EAAE;AAAES,MAAAA,QAAQ,EAAED,QAAQ,IAAI;AAAxB,KADV;AAEI,IAAA,QAAQ,EAAE;AAAA,UAAGC,QAAH,SAAGA,QAAH;AAAA,aAAkBH,SAAQ,CAACC,SAAS,CAACG,IAAV,CAAe,UAAAC,CAAC;AAAA,eAAIA,CAAC,CAACC,EAAF,KAASH,QAAb;AAAA,OAAhB,CAAD,CAA1B;AAAA;AAFd,KAIK;AAAA,QAAGI,MAAH,SAAGA,MAAH;AAAA,QAAWC,IAAX,SAAWA,IAAX;AAAA,wBACG,oBAAC,KAAD,CAAO,QAAP,qBACI,oBAAC,WAAD,uCADJ,eAEI,oBAAC,aAAD,qBACI,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAE,UAAZ;AAAwB,MAAA,UAAU,EAAEhB,UAAU,CAACiB,MAAX,CAAkB,UAAlB;AAApC,oBACI,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAE;AAAf,OACKR,SAAS,CACLS,MADJ,CACW,UAAAP,QAAQ;AAAA,aAAI,CAACA,QAAQ,CAACQ,IAAT,CAAcC,SAAnB;AAAA,KADnB,EAEIC,GAFJ,CAEQ,UAAAV,QAAQ;AAAA,0BACT;AAAQ,QAAA,GAAG,EAAEA,QAAQ,CAACG,EAAtB;AAA0B,QAAA,KAAK,EAAEH,QAAQ,CAACG;AAA1C,SACKb,SAAS,CAAC;AAAEqB,QAAAA,KAAK,EAAEX,QAAQ,CAACQ,IAAT,CAAcI;AAAvB,OAAD,CADd,QAEOZ,QAAQ,CAACQ,IAAT,CAAcK,OAFrB,MADS;AAAA,KAFhB,CADL,CADJ,CADJ,CAFJ,eAgBI,oBAAC,aAAD,qBACI,oBAAC,YAAD,iBADJ,eAEI,oBAAC,YAAD;AAAc,MAAA,OAAO,EAAET;AAAvB,iBAFJ,CAhBJ,CADH;AAAA,GAJL,CADJ,CADJ;AAgCH,CAjCD;;AAmCA,eAAeV,qBAAf","sourcesContent":["import React from \"react\";\nimport { css } from \"emotion\";\nimport {\n    Dialog,\n    DialogTitle,\n    DialogContent,\n    DialogActions,\n    DialogAccept,\n    DialogCancel,\n    DialogOnClose\n} from \"@webiny/ui/Dialog\";\nimport { Select } from \"@webiny/ui/Select\";\nimport { Form } from \"@webiny/form\";\nimport { validation } from \"@webiny/validation\";\nimport { I18NValue } from \"@webiny/app-i18n/components\";\n\nconst narrowDialog = css({\n    \".mdc-dialog__surface\": {\n        width: 600,\n        minWidth: 600\n    }\n});\n\ntype Props = {\n    open: boolean;\n    onClose: DialogOnClose;\n    onSubmit: Function;\n    revisions: Array<{ id: string; name: string; version: number; published: boolean; meta: any }>;\n    selected: string;\n};\n\nconst PublishRevisionDialog = ({ open, onClose, onSubmit, revisions, selected }: Props) => {\n    return (\n        <Dialog open={open} onClose={onClose} className={narrowDialog}>\n            <Form\n                data={{ revision: selected || \"\" }}\n                onSubmit={({ revision }) => onSubmit(revisions.find(r => r.id === revision))}\n            >\n                {({ submit, Bind }) => (\n                    <React.Fragment>\n                        <DialogTitle>Select a revision to publish</DialogTitle>\n                        <DialogContent>\n                            <Bind name={\"revision\"} validators={validation.create(\"required\")}>\n                                <Select label={\"Revision to publish\"}>\n                                    {revisions\n                                        .filter(revision => !revision.meta.published)\n                                        .map(revision => (\n                                            <option key={revision.id} value={revision.id}>\n                                                {I18NValue({ value: revision.meta.title })}\n                                                (#{revision.meta.version})\n                                            </option>\n                                        ))}\n                                </Select>\n                            </Bind>\n                        </DialogContent>\n                        <DialogActions>\n                            <DialogCancel>Cancel</DialogCancel>\n                            <DialogAccept onClick={submit}>Publish</DialogAccept>\n                        </DialogActions>\n                    </React.Fragment>\n                )}\n            </Form>\n        </Dialog>\n    );\n};\n\nexport default PublishRevisionDialog;\n"],"file":"PublishRevisionDialog.js"}