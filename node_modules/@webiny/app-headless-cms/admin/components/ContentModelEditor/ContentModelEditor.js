import _taggedTemplateLiteral from "@babel/runtime/helpers/taggedTemplateLiteral";

function _templateObject() {
  var data = _taggedTemplateLiteral(["Could not load content model with given ID."]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

import * as React from "react";
import { useRouter } from "@webiny/react-router";
import { useSnackbar } from "@webiny/app-admin/hooks/useSnackbar"; // Components

import EditorBar from "./Bar";
import EditorContent from "./EditorContent";
import DragPreview from "./DragPreview";
import { useContentModelEditor } from "./Context";
import { i18n } from "@webiny/app/i18n";
var t = i18n.ns("app-headless-cms/admin/editor");

var ContentModelEditor = function ContentModelEditor() {
  var _useContentModelEdito = useContentModelEditor(),
      getContentModel = _useContentModelEdito.getContentModel,
      _useContentModelEdito2 = _useContentModelEdito.state,
      data = _useContentModelEdito2.data,
      id = _useContentModelEdito2.id;

  var _useRouter = useRouter(),
      history = _useRouter.history;

  var _useSnackbar = useSnackbar(),
      showSnackbar = _useSnackbar.showSnackbar;

  React.useEffect(function () {
    getContentModel(id).catch(function () {
      history.push("/cms/content-models");
      showSnackbar(t(_templateObject()));
    });
  }, [id]);

  if (!data) {
    return null;
  }

  return /*#__PURE__*/React.createElement("div", {
    className: "content-model-editor"
  }, /*#__PURE__*/React.createElement(EditorBar, null), /*#__PURE__*/React.createElement(EditorContent, null), /*#__PURE__*/React.createElement(DragPreview, null));
};

export default ContentModelEditor;
//# sourceMappingURL=ContentModelEditor.js.map