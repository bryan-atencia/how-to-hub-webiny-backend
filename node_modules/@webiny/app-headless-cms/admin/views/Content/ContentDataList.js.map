{"version":3,"sources":["../../../../src/admin/views/Content/ContentDataList.tsx"],"names":["React","i18n","CurrentEnvironmentLabel","TimeAgo","Typography","css","DataList","List","ListItem","ListItemText","ListItemTextSecondary","ListItemMeta","I18NValue","t","ns","rightAlign","alignItems","justifyContent","listItemMinHeight","minHeight","getValue","item","value","ContentDataList","contentModel","dataList","pluralizedName","data","isSelected","select","map","id","meta","title","createdBy","firstName","user","time","savedOn","status","version"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,uBAAP,MAAoC,4CAApC;AACA,OAAOC,OAAP,MAAoB,eAApB;AAEA,SAASC,UAAT,QAA2B,uBAA3B;AACA,SAASC,GAAT,QAAoB,SAApB;AACA,SACIC,QADJ,EAEIC,IAFJ,EAGIC,QAHJ,EAIIC,YAJJ,EAKIC,qBALJ,EAMIC,YANJ,QAOO,iBAPP;AAQA,SAASC,SAAT,QAA0B,6BAA1B;AAEA,IAAMC,CAAC,GAAGZ,IAAI,CAACa,EAAL,CAAQ,2CAAR,CAAV;AAEA,IAAMC,UAAU,gBAAGV,GAAG,CAAC;AACnBW,EAAAA,UAAU,EAAE,qBADO;AAEnBC,EAAAA,cAAc,EAAE;AAFG,CAAD,sBAAtB;AAKA,IAAMC,iBAAiB,gBAAGb,GAAG,CAAC;AAC1Bc,EAAAA,SAAS,EAAE;AADe,CAAD,6BAA7B;;AAIA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAAC,IAAI,EAAI;AACrB,MAAI,CAACA,IAAI,CAACC,KAAV,EAAiB;AACb,2CAAYD,IAAZ;AAAkBC,MAAAA,KAAK,EAAE;AAAzB;AACH;;AACD,SAAOD,IAAP;AACH,CALD;;AAOA,IAAME,eAAe,GAAG,SAAlBA,eAAkB,OAAgC;AAAA,MAA7BC,YAA6B,QAA7BA,YAA6B;AAAA,MAAfC,QAAe,QAAfA,QAAe;AACpD,sBACI,oBAAC,QAAD,oBACQA,QADR;AAEI,IAAA,KAAK,EAAED,YAAY,CAACE,cAFxB;AAGI,IAAA,OAAO,eAAE,oBAAC,uBAAD;AAAyB,MAAA,KAAK,EAAE;AAAET,QAAAA,cAAc,EAAE;AAAlB;AAAhC;AAHb,MAKK;AAAA,QAAGU,IAAH,SAAGA,IAAH;AAAA,QAASC,UAAT,SAASA,UAAT;AAAA,QAAqBC,MAArB,SAAqBA,MAArB;AAAA,wBACG,oBAAC,IAAD;AAAM,qBAAY;AAAlB,OACKF,IAAI,CAACG,GAAL,CAAS,UAAAT,IAAI;AAAA,0BACV,oBAAC,QAAD;AACI,QAAA,GAAG,EAAEA,IAAI,CAACU,EADd;AAEI,QAAA,SAAS,EAAEb,iBAFf;AAGI,QAAA,QAAQ,EAAEU,UAAU,CAACP,IAAD;AAHxB,sBAKI,oBAAC,YAAD;AAAc,QAAA,OAAO,EAAE;AAAA,iBAAMQ,MAAM,CAACR,IAAD,CAAZ;AAAA;AAAvB,sBACI,oBAAC,SAAD;AAAW,QAAA,KAAK,EAAED,QAAQ,CAACC,IAAI,CAACW,IAAL,CAAUC,KAAX;AAA1B,QADJ,eAEI,oBAAC,qBAAD,QACKZ,IAAI,CAACa,SAAL,IAAkBb,IAAI,CAACa,SAAL,CAAeC,SAAjC,iBACG,0CACKtB,CAAC,mBAAD,CAAuB;AACpBuB,QAAAA,IAAI,EAAEf,IAAI,CAACa,SAAL,CAAeC;AADD,OAAvB,CADL,EAGQ,GAHR,CAFR,EAQKtB,CAAC,oBAAD,CAA0B;AACvBwB,QAAAA,IAAI,eAAE,oBAAC,OAAD;AAAS,UAAA,QAAQ,EAAEhB,IAAI,CAACiB;AAAxB;AADiB,OAA1B,CARL,CAFJ,CALJ,eAqBI,oBAAC,YAAD;AAAc,QAAA,SAAS,EAAEvB;AAAzB,sBACI,oBAAC,UAAD;AAAY,QAAA,GAAG,EAAE;AAAjB,SACK,YAAWM,IAAI,CAACW,IAAL,CAAUO,MAArB,CADL,SACsClB,IAAI,CAACW,IAAL,CAAUQ,OADhD,MADJ,CArBJ,CADU;AAAA,KAAb,CADL,CADH;AAAA,GALL,CADJ;AAyCH,CA1CD;;AA4CA,eAAejB,eAAf","sourcesContent":["import React from \"react\";\nimport { i18n } from \"@webiny/app/i18n\";\nimport CurrentEnvironmentLabel from \"./../../components/CurrentEnvironmentLabel\";\nimport TimeAgo from \"timeago-react\";\nimport { upperFirst } from \"lodash\";\nimport { Typography } from \"@webiny/ui/Typography\";\nimport { css } from \"emotion\";\nimport {\n    DataList,\n    List,\n    ListItem,\n    ListItemText,\n    ListItemTextSecondary,\n    ListItemMeta\n} from \"@webiny/ui/List\";\nimport { I18NValue } from \"@webiny/app-i18n/components\";\n\nconst t = i18n.ns(\"app-headless-cms/admin/contents/data-list\");\n\nconst rightAlign = css({\n    alignItems: \"flex-end !important\",\n    justifyContent: \"center !important\"\n});\n\nconst listItemMinHeight = css({\n    minHeight: \"66px !important\"\n});\n\nconst getValue = item => {\n    if (!item.value) {\n        return { ...item, value: \"Untitled\" };\n    }\n    return item;\n};\n\nconst ContentDataList = ({ contentModel, dataList }) => {\n    return (\n        <DataList\n            {...dataList}\n            title={contentModel.pluralizedName}\n            actions={<CurrentEnvironmentLabel style={{ justifyContent: \"flex-end\" }} />}\n        >\n            {({ data, isSelected, select }) => (\n                <List data-testid=\"default-data-list\">\n                    {data.map(item => (\n                        <ListItem\n                            key={item.id}\n                            className={listItemMinHeight}\n                            selected={isSelected(item)}\n                        >\n                            <ListItemText onClick={() => select(item)}>\n                                <I18NValue value={getValue(item.meta.title)} />\n                                <ListItemTextSecondary>\n                                    {item.createdBy && item.createdBy.firstName && (\n                                        <>\n                                            {t`Created by: {user}.`({\n                                                user: item.createdBy.firstName\n                                            })}{\" \"}\n                                        </>\n                                    )}\n                                    {t`Last modified: {time}.`({\n                                        time: <TimeAgo datetime={item.savedOn} />\n                                    })}\n                                </ListItemTextSecondary>\n                            </ListItemText>\n\n                            <ListItemMeta className={rightAlign}>\n                                <Typography use={\"subtitle2\"}>\n                                    {upperFirst(item.meta.status)} (v{item.meta.version})\n                                </Typography>\n                            </ListItemMeta>\n                        </ListItem>\n                    ))}\n                </List>\n            )}\n        </DataList>\n    );\n};\n\nexport default ContentDataList;\n"],"file":"ContentDataList.js"}