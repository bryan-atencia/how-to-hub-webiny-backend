{"version":3,"sources":["../../../../src/admin/views/AccessTokens/index.tsx"],"names":["React","SplitView","LeftPanel","RightPanel","FloatingActionButton","AccessTokensDataList","AccessTokensForm","CrudProvider","GET_ACCESS_TOKEN","LIST_ACCESS_TOKENS","CREATE_ACCESS_TOKEN","UPDATE_ACCESS_TOKEN","DELETE_ACCESS_TOKEN","getMutationVariables","formData","token","environments","selectedEnvironmentIds","data","EnvironmentAliases","mutation","variables","query","sort","savedOn","actions","resetForm"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,SAApB,EAA+BC,UAA/B,QAAiD,wCAAjD;AACA,SAASC,oBAAT,QAAqC,mDAArC;AACA,OAAOC,oBAAP,MAAiC,wBAAjC;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,SAASC,YAAT,QAA6B,iCAA7B;AACA,SACIC,gBADJ,EAEIC,kBAFJ,EAGIC,mBAHJ,EAIIC,mBAJJ,EAKIC,mBALJ,QAMO,WANP;;AAQA,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,CAAAC,QAAQ,EAAI;AACrC,SAAOA,QAAQ,CAACC,KAAhB;AACAD,EAAAA,QAAQ,CAACE,YAAT,GAAwBF,QAAQ,CAACG,sBAAjC;AACA,SAAOH,QAAQ,CAACG,sBAAhB;AACA,SAAO;AACHC,IAAAA,IAAI,EAAEJ;AADH,GAAP;AAGH,CAPD;;AASA,SAASK,kBAAT,GAA8B;AAC1B,sBACI,oBAAC,YAAD;AACI,IAAA,MAAM,EAAE;AACJC,MAAAA,QAAQ,EAAER;AADN,KADZ;AAII,IAAA,IAAI,EAAEJ,gBAJV;AAKI,IAAA,MAAM,EAAE;AACJY,MAAAA,QAAQ,EAAEV,mBADN;AAEJW,MAAAA,SAAS,EAAER;AAFP,KALZ;AASI,IAAA,MAAM,EAAE;AACJO,MAAAA,QAAQ,EAAET,mBADN;AAEJU,MAAAA,SAAS,EAAER;AAFP,KATZ;AAaI,IAAA,IAAI,EAAE;AACFS,MAAAA,KAAK,EAAEb,kBADL;AAEFY,MAAAA,SAAS,EAAE;AAAEE,QAAAA,IAAI,EAAE;AAAEC,UAAAA,OAAO,EAAE,CAAC;AAAZ;AAAR;AAFT;AAbV,KAkBK;AAAA,QAAGC,OAAH,QAAGA,OAAH;AAAA,wBACG,uDACI,oBAAC,SAAD,qBACI,oBAAC,SAAD;AAAW,MAAA,IAAI,EAAE;AAAjB,oBACI,oBAAC,oBAAD,OADJ,CADJ,eAII,oBAAC,UAAD;AAAY,MAAA,IAAI,EAAE;AAAlB,oBACI,oBAAC,gBAAD,OADJ,CAJJ,CADJ,eASI,oBAAC,oBAAD;AACI,qBAAY,mBADhB;AAEI,MAAA,OAAO,EAAEA,OAAO,CAACC;AAFrB,MATJ,CADH;AAAA,GAlBL,CADJ;AAqCH;;AAED,eAAeP,kBAAf","sourcesContent":["import React from \"react\";\nimport { SplitView, LeftPanel, RightPanel } from \"@webiny/app-admin/components/SplitView\";\nimport { FloatingActionButton } from \"@webiny/app-admin/components/FloatingActionButton\";\nimport AccessTokensDataList from \"./AccessTokensDataList\";\nimport AccessTokensForm from \"./AccessTokensForm\";\nimport { CrudProvider } from \"@webiny/app-admin/contexts/Crud\";\nimport {\n    GET_ACCESS_TOKEN,\n    LIST_ACCESS_TOKENS,\n    CREATE_ACCESS_TOKEN,\n    UPDATE_ACCESS_TOKEN,\n    DELETE_ACCESS_TOKEN\n} from \"./graphql\";\n\nconst getMutationVariables = formData => {\n    delete formData.token;\n    formData.environments = formData.selectedEnvironmentIds;\n    delete formData.selectedEnvironmentIds;\n    return {\n        data: formData\n    };\n};\n\nfunction EnvironmentAliases() {\n    return (\n        <CrudProvider\n            delete={{\n                mutation: DELETE_ACCESS_TOKEN\n            }}\n            read={GET_ACCESS_TOKEN}\n            create={{\n                mutation: CREATE_ACCESS_TOKEN,\n                variables: getMutationVariables\n            }}\n            update={{\n                mutation: UPDATE_ACCESS_TOKEN,\n                variables: getMutationVariables\n            }}\n            list={{\n                query: LIST_ACCESS_TOKENS,\n                variables: { sort: { savedOn: -1 } }\n            }}\n        >\n            {({ actions }) => (\n                <>\n                    <SplitView>\n                        <LeftPanel span={4}>\n                            <AccessTokensDataList />\n                        </LeftPanel>\n                        <RightPanel span={8}>\n                            <AccessTokensForm />\n                        </RightPanel>\n                    </SplitView>\n                    <FloatingActionButton\n                        data-testid=\"new-record-button\"\n                        onClick={actions.resetForm}\n                    />\n                </>\n            )}\n        </CrudProvider>\n    );\n}\n\nexport default EnvironmentAliases;\n"],"file":"index.js"}