{"version":3,"sources":["../../../../../src/admin/plugins/richTextEditor/link/index.tsx"],"names":["React","LinkDialog","LinkTooltip","plugin","name","type","menu","render","MenuButton","editor","activatePlugin","selection","renderDialog","props","renderElement","next","attributes","children","element","href","noFollow","rel","renderEditor"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,WAAT,QAA4B,eAA5B;AAGA,IAAMC,MAAqC,GAAG;AAC1CC,EAAAA,IAAI,EAAE,kCADoC;AAE1CC,EAAAA,IAAI,EAAE,6BAFoC;AAG1CF,EAAAA,MAAM,EAAE;AACJC,IAAAA,IAAI,EAAE,MADF;AAEJE,IAAAA,IAAI,EAAE;AACFC,MAAAA,MADE,wBAC6C;AAAA,YAAtCC,UAAsC,QAAtCA,UAAsC;AAAA,YAA1BC,MAA0B,QAA1BA,MAA0B;AAAA,YAAlBC,cAAkB,QAAlBA,cAAkB;AAC3C,4BACI,oBAAC,UAAD;AACI,UAAA,WAAW,EAAE,uBAAM;AACf,gBAAI,CAACD,MAAM,CAACE,SAAZ,EAAuB;AACnB;AACH;;AAEDD,YAAAA,cAAc,CAAC,MAAD,CAAd;AACH;AAPL,wBASI,oBAAC,QAAD,OATJ,CADJ;AAaH,OAfC;AAgBFE,MAAAA,YAhBE,wBAgBWC,KAhBX,EAgBkB;AAChB,4BAAO,oBAAC,UAAD,EAAgBA,KAAhB,CAAP;AACH;AAlBC,KAFF;AAsBJJ,IAAAA,MAAM,EAAE;AACJK,MAAAA,aADI,yBACUD,KADV,EACiBE,IADjB,EACuB;AAAA,YACfC,UADe,GACmBH,KADnB,CACfG,UADe;AAAA,YACHC,QADG,GACmBJ,KADnB,CACHI,QADG;AAAA,YACOC,OADP,GACmBL,KADnB,CACOK,OADP;;AAGvB,YAAIA,OAAO,CAACb,IAAR,KAAiB,MAArB,EAA6B;AAAA,cACjBc,IADiB,GACED,OADF,CACjBC,IADiB;AAAA,cACXC,QADW,GACEF,OADF,CACXE,QADW;AAEzB,8BACI,2CAAOJ,UAAP,EAAuB;AAAEG,YAAAA,IAAI,EAAJA,IAAF;AAAQE,YAAAA,GAAG,EAAED,QAAQ,GAAG,UAAH,GAAgB;AAArC,WAAvB,GACKH,QADL,CADJ;AAKH;;AAED,eAAOF,IAAI,EAAX;AACH,OAdG;AAeJO,MAAAA,YAfI,+BAe6BP,IAf7B,EAemC;AAAA,YAAxBL,cAAwB,SAAxBA,cAAwB;AACnC,4BACI,0CACKK,IAAI,EADT,eAEI,oBAAC,WAAD;AAAa,UAAA,cAAc,EAAEL;AAA7B,UAFJ,CADJ;AAMH;AAtBG;AAtBJ;AAHkC,CAA9C;AAoDA,eAAeP,MAAf","sourcesContent":["import React from \"react\";\nimport { ReactComponent as LinkIcon } from \"@webiny/app-i18n/admin/assets/icons/link.svg\";\nimport { LinkDialog } from \"./LinkDialog\";\nimport { LinkTooltip } from \"./LinkTooltip\";\nimport { I18NInputRichTextEditorPlugin } from \"@webiny/app-i18n/types\";\n\nconst plugin: I18NInputRichTextEditorPlugin = {\n    name: \"i18n-input-rich-text-editor-link\",\n    type: \"i18n-input-rich-text-editor\",\n    plugin: {\n        name: \"link\",\n        menu: {\n            render({ MenuButton, editor, activatePlugin }) {\n                return (\n                    <MenuButton\n                        onMouseDown={() => {\n                            if (!editor.selection) {\n                                return;\n                            }\n\n                            activatePlugin(\"link\");\n                        }}\n                    >\n                        <LinkIcon />\n                    </MenuButton>\n                );\n            },\n            renderDialog(props) {\n                return <LinkDialog {...props} />;\n            }\n        },\n        editor: {\n            renderElement(props, next) {\n                const { attributes, children, element } = props;\n\n                if (element.type === \"link\") {\n                    const { href, noFollow } = element;\n                    return (\n                        <a {...attributes} {...{ href, rel: noFollow ? \"nofollow\" : null }}>\n                            {children}\n                        </a>\n                    );\n                }\n\n                return next();\n            },\n            renderEditor({ activatePlugin }, next) {\n                return (\n                    <>\n                        {next()}\n                        <LinkTooltip activatePlugin={activatePlugin} />\n                    </>\n                );\n            }\n        }\n    }\n};\n\nexport default plugin;\n"],"file":"index.js"}