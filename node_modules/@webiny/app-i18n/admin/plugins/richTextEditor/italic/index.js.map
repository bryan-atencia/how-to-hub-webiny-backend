{"version":3,"sources":["../../../../../src/admin/plugins/richTextEditor/italic/index.tsx"],"names":["React","isKeyHotkey","css","isItalicHotkey","mark","italicStyle","plugin","name","type","editor","onKeyDown","next","event","preventDefault","toggleMark","renderLeaf","leaf","attributes","children","menu","render","MenuButton","hasMark"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,SAASC,WAAT,QAA4B,WAA5B;AAEA,SAASC,GAAT,QAAoB,SAApB;AAEA,IAAMC,cAAc,GAAGF,WAAW,CAAC,OAAD,CAAlC;AAEA,IAAMG,IAAI,GAAG,QAAb;AAEA;;AACA,IAAMC,WAAW,gBAAGH,GAAH,mDAAjB;AAIA,IAAMI,MAAqC,GAAG;AAC1CC,EAAAA,IAAI,EAAE,oCADoC;AAE1CC,EAAAA,IAAI,EAAE,6BAFoC;AAG1CF,EAAAA,MAAM,EAAE;AACJC,IAAAA,IAAI,EAAE,QADF;AAEJE,IAAAA,MAAM,EAAE;AACJC,MAAAA,SADI,2BACyBC,IADzB,EAC+B;AAAA,YAAvBC,KAAuB,QAAvBA,KAAuB;AAAA,YAAhBH,MAAgB,QAAhBA,MAAgB;;AAC/B,YAAIN,cAAc,CAACS,KAAD,CAAlB,EAA2B;AACvBA,UAAAA,KAAK,CAACC,cAAN;AACAJ,UAAAA,MAAM,CAACK,UAAP,CAAkBV,IAAlB;AACA,iBAAO,IAAP;AACH;;AAED,eAAOO,IAAI,EAAX;AACH,OATG;AAUJI,MAAAA,UAVI,6BAUuC;AAAA,YAA9BC,IAA8B,SAA9BA,IAA8B;AAAA,YAAxBC,UAAwB,SAAxBA,UAAwB;AAAA,YAAZC,QAAY,SAAZA,QAAY;;AACvC,YAAIF,IAAI,CAACZ,IAAD,CAAJ,KAAe,IAAnB,EAAyB;AACrB,8BACI;AAAI,YAAA,SAAS,EAAEC;AAAf,aAAgCY,UAAhC,GACKC,QADL,CADJ;AAKH;;AACD,eAAOA,QAAP;AACH;AAnBG,KAFJ;AAuBJC,IAAAA,IAAI,EAAE;AACFC,MAAAA,MADE,yBAC6B;AAAA,YAAtBC,UAAsB,SAAtBA,UAAsB;AAAA,YAAVZ,MAAU,SAAVA,MAAU;AAC3B;AAAA;AACI;AACA,8BAAC,UAAD;AACI,YAAA,OAAO,EAAE;AAAA,qBAAMA,MAAM,CAACK,UAAP,CAAkBV,IAAlB,CAAN;AAAA,aADb;AAEI,YAAA,MAAM,EAAEK,MAAM,CAACa,OAAP,CAAelB,IAAf;AAFZ,0BAII,oBAAC,gBAAD,OAJJ;AAFJ;AASH;AAXC;AAvBF;AAHkC,CAA9C;AA0CA,eAAeE,MAAf","sourcesContent":["import React from \"react\";\nimport { ReactComponent as FormatItalicIcon } from \"@webiny/app-i18n/admin/assets/icons/format_italic.svg\";\nimport { isKeyHotkey } from \"is-hotkey\";\nimport { I18NInputRichTextEditorPlugin } from \"@webiny/app-i18n/types\";\nimport { css } from \"emotion\";\n\nconst isItalicHotkey = isKeyHotkey(\"mod+i\");\n\nconst mark = \"italic\";\n\n/* prettier-ignore */\nconst italicStyle = css`\n    font-style: italic !important;\n`;\n\nconst plugin: I18NInputRichTextEditorPlugin = {\n    name: \"i18n-input-rich-text-editor-italic\",\n    type: \"i18n-input-rich-text-editor\",\n    plugin: {\n        name: \"italic\",\n        editor: {\n            onKeyDown({ event, editor }, next) {\n                if (isItalicHotkey(event)) {\n                    event.preventDefault();\n                    editor.toggleMark(mark);\n                    return true;\n                }\n\n                return next();\n            },\n            renderLeaf({ leaf, attributes, children }) {\n                if (leaf[mark] === true) {\n                    return (\n                        <em className={italicStyle} {...attributes}>\n                            {children}\n                        </em>\n                    );\n                }\n                return children;\n            }\n        },\n        menu: {\n            render({ MenuButton, editor }) {\n                return (\n                    // eslint-disable-next-line react/jsx-no-bind\n                    <MenuButton\n                        onClick={() => editor.toggleMark(mark)}\n                        active={editor.hasMark(mark)}\n                    >\n                        <FormatItalicIcon />\n                    </MenuButton>\n                );\n            }\n        }\n    }\n};\n\nexport default plugin;\n"],"file":"index.js"}