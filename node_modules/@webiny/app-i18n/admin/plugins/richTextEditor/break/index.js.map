{"version":3,"sources":["../../../../../src/admin/plugins/richTextEditor/break/index.ts"],"names":["isHotkey","Editor","Transforms","LIST_TYPES","plugin","name","type","editor","onKeyDown","next","event","insertBreak","setNodes","children","unwrapNodes","match","n","includes","split"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,WAArB;AACA,SAASC,MAAT,EAAiBC,UAAjB,QAAmC,OAAnC;AAGA,IAAMC,UAAU,GAAG,CAAC,cAAD,EAAiB,gBAAjB,CAAnB;AAEA,IAAMC,MAAqC,GAAG;AAC1CC,EAAAA,IAAI,EAAE,mCADoC;AAE1CC,EAAAA,IAAI,EAAE,6BAFoC;AAG1CF,EAAAA,MAAM,EAAE;AACJC,IAAAA,IAAI,EAAE,OADF;AAEJE,IAAAA,MAAM,EAAE;AACJC,MAAAA,SADI,2BACyBC,IADzB,EAC+B;AAAA,YAAvBC,KAAuB,QAAvBA,KAAuB;AAAA,YAAhBH,MAAgB,QAAhBA,MAAgB;;AAC/B,YAAIP,QAAQ,CAAC,aAAD,EAAgBU,KAAhB,CAAZ,EAAoC;AAChCT,UAAAA,MAAM,CAACU,WAAP,CAAmBJ,MAAnB;AAEAL,UAAAA,UAAU,CAACU,QAAX,CAAoBL,MAApB,EAA4B;AACxBD,YAAAA,IAAI,EAAE,WADkB;AAExBO,YAAAA,QAAQ,EAAE;AAFc,WAA5B;AAKAX,UAAAA,UAAU,CAACY,WAAX,CAAuBP,MAAvB,EAA+B;AAC3BQ,YAAAA,KAAK,EAAE,eAAAC,CAAC;AAAA,qBAAIb,UAAU,CAACc,QAAX,CAAoBD,CAAC,CAACV,IAAtB,CAAJ;AAAA,aADmB;AAE3BY,YAAAA,KAAK,EAAE;AAFoB,WAA/B;AAKA;AACH;;AACD,eAAOT,IAAI,EAAX;AACH;AAlBG;AAFJ;AAHkC,CAA9C;AA4BA,eAAeL,MAAf","sourcesContent":["import isHotkey from \"is-hotkey\";\nimport { Editor, Transforms } from \"slate\";\nimport { I18NInputRichTextEditorPlugin } from \"@webiny/app-i18n/types\";\n\nconst LIST_TYPES = [\"ordered-list\", \"unordered-list\"];\n\nconst plugin: I18NInputRichTextEditorPlugin = {\n    name: \"i18n-input-rich-text-editor-break\",\n    type: \"i18n-input-rich-text-editor\",\n    plugin: {\n        name: \"break\",\n        editor: {\n            onKeyDown({ event, editor }, next) {\n                if (isHotkey(\"shift+enter\", event)) {\n                    Editor.insertBreak(editor);\n\n                    Transforms.setNodes(editor, {\n                        type: \"paragraph\",\n                        children: []\n                    });\n\n                    Transforms.unwrapNodes(editor, {\n                        match: n => LIST_TYPES.includes(n.type as string),\n                        split: true\n                    });\n\n                    return;\n                }\n                return next();\n            }\n        }\n    }\n};\n\nexport default plugin;\n"],"file":"index.js"}