{"version":3,"sources":["../../../../../src/admin/plugins/richTextEditor/underline/index.tsx"],"names":["React","isKeyHotkey","isUnderlineHotkey","mark","plugin","name","type","menu","render","MenuButton","editor","toggleMark","hasMark","onKeyDown","next","event","preventDefault","renderLeaf","leaf","attributes","children"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;;AAEA,SAASC,WAAT,QAA4B,WAA5B;AAGA,IAAMC,iBAAiB,GAAGD,WAAW,CAAC,OAAD,CAArC;AAEA,IAAME,IAAI,GAAG,WAAb;AAEA,IAAMC,MAAqC,GAAG;AAC1CC,EAAAA,IAAI,EAAE,uCADoC;AAE1CC,EAAAA,IAAI,EAAE,6BAFoC;AAG1CF,EAAAA,MAAM,EAAE;AACJC,IAAAA,IAAI,EAAE,WADF;AAEJE,IAAAA,IAAI,EAAE;AACFC,MAAAA,MADE,wBAC6B;AAAA,YAAtBC,UAAsB,QAAtBA,UAAsB;AAAA,YAAVC,MAAU,QAAVA,MAAU;AAC3B,4BACI,oBAAC,UAAD;AACI,UAAA,OAAO,EAAE;AAAA,mBAAMA,MAAM,CAACC,UAAP,CAAkBR,IAAlB,CAAN;AAAA,WADb;AAEI,UAAA,MAAM,EAAEO,MAAM,CAACE,OAAP,CAAeT,IAAf;AAFZ,wBAII,oBAAC,aAAD,OAJJ,CADJ;AAQH;AAVC,KAFF;AAcJO,IAAAA,MAAM,EAAE;AACJG,MAAAA,SADI,4BACyBC,IADzB,EAC+B;AAAA,YAAvBC,KAAuB,SAAvBA,KAAuB;AAAA,YAAhBL,MAAgB,SAAhBA,MAAgB;;AAC/B;AACA,YAAIR,iBAAiB,CAACa,KAAD,CAArB,EAA8B;AAC1BA,UAAAA,KAAK,CAACC,cAAN;AACAN,UAAAA,MAAM,CAACC,UAAP,CAAkBR,IAAlB;AACA,iBAAO,IAAP;AACH;;AAED,eAAOW,IAAI,EAAX;AACH,OAVG;AAWJG,MAAAA,UAXI,6BAWuC;AAAA,YAA9BC,IAA8B,SAA9BA,IAA8B;AAAA,YAAxBC,UAAwB,SAAxBA,UAAwB;AAAA,YAAZC,QAAY,SAAZA,QAAY;;AACvC,YAAIF,IAAI,CAACf,IAAD,CAAJ,KAAe,IAAnB,EAAyB;AACrB,8BAAO,yBAAOgB,UAAP,EAAoBC,QAApB,CAAP;AACH;;AAED,eAAOA,QAAP;AACH;AAjBG;AAdJ;AAHkC,CAA9C;AAuCA,eAAehB,MAAf","sourcesContent":["import * as React from \"react\";\nimport { ReactComponent as UnderlineIcon } from \"./../icons/format_underlined.svg\";\nimport { isKeyHotkey } from \"is-hotkey\";\nimport { I18NInputRichTextEditorPlugin } from \"@webiny/app-i18n/types\";\n\nconst isUnderlineHotkey = isKeyHotkey(\"mod+u\");\n\nconst mark = \"underline\";\n\nconst plugin: I18NInputRichTextEditorPlugin = {\n    name: \"i18n-input-rich-text-editor-underline\",\n    type: \"i18n-input-rich-text-editor\",\n    plugin: {\n        name: \"underline\",\n        menu: {\n            render({ MenuButton, editor }) {\n                return (\n                    <MenuButton\n                        onClick={() => editor.toggleMark(mark)}\n                        active={editor.hasMark(mark)}\n                    >\n                        <UnderlineIcon />\n                    </MenuButton>\n                );\n            }\n        },\n        editor: {\n            onKeyDown({ event, editor }, next) {\n                // Decide what to do based on the key code...\n                if (isUnderlineHotkey(event)) {\n                    event.preventDefault();\n                    editor.toggleMark(mark);\n                    return true;\n                }\n\n                return next();\n            },\n            renderLeaf({ leaf, attributes, children }) {\n                if (leaf[mark] === true) {\n                    return <u {...attributes}>{children}</u>;\n                }\n\n                return children;\n            }\n        }\n    }\n};\n\nexport default plugin;\n"],"file":"index.js"}