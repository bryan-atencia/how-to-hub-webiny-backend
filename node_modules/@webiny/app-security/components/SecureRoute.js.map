{"version":3,"sources":["../../src/components/SecureRoute.tsx"],"names":["React","hasScopes","getPlugin","children","scopes","checkedScopes","forceBoolean","plugin","render"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,SAAT,QAA0B,sBAA1B;AACA,SAASC,SAAT,QAA0B,iBAA1B;AAIA,gBAAe,gBAMW;AAAA,MALtBC,QAKsB,QALtBA,QAKsB;AAAA,MAJtBC,MAIsB,QAJtBA,MAIsB;AACtB,MAAMC,aAAa,GAAGD,MAAM,GAAGH,SAAS,CAACG,MAAD,EAAS;AAAEE,IAAAA,YAAY,EAAE;AAAhB,GAAT,CAAZ,GAA+C,IAA3E;;AAEA,MAAID,aAAJ,EAAmB;AACf,WAAOF,QAAP;AACH;;AAED,MAAMI,MAAM,GAAGL,SAAS,CAAyB,oBAAzB,CAAxB;;AACA,MAAI,CAACK,MAAL,EAAa;AACT,wBAAO,+EAAP;AACH;;AACD,SAAOA,MAAM,CAACC,MAAP,EAAP;AACH,CAlBD","sourcesContent":["import * as React from \"react\";\nimport { hasScopes } from \"@webiny/app-security\";\nimport { getPlugin } from \"@webiny/plugins\";\nimport { ResourcesType } from \"../identity\";\nimport { SecureRouteErrorPlugin } from \"@webiny/app-security/types\";\n\nexport default ({\n    children,\n    scopes\n}: {\n    children: any;\n    scopes?: ResourcesType;\n}): React.ReactElement => {\n    const checkedScopes = scopes ? hasScopes(scopes, { forceBoolean: true }) : true;\n\n    if (checkedScopes) {\n        return children;\n    }\n\n    const plugin = getPlugin<SecureRouteErrorPlugin>(\"secure-route-error\");\n    if (!plugin) {\n        return <span>You are not authorized to view this route.</span>;\n    }\n    return plugin.render();\n};\n"],"file":"SecureRoute.js"}