{"version":3,"sources":["../../../../src/admin/views/Groups/Groups.tsx"],"names":["React","SplitView","LeftPanel","RightPanel","FloatingActionButton","GroupsDataList","GroupsForm","READ_GROUP","LIST_GROUPS","CREATE_GROUP","UPDATE_GROUP","DELETE_GROUP","CrudProvider","Groups","scopes","formProps","listProps","variables","data","roles","map","x","id","query","sort","savedOn","mutation","actions","resetForm"],"mappings":";;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AAEA,SAASC,SAAT,EAAoBC,SAApB,EAA+BC,UAA/B,QAAiD,wCAAjD;AACA,SAASC,oBAAT,QAAqC,mDAArC;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,SAASC,UAAT,EAAqBC,WAArB,EAAkCC,YAAlC,EAAgDC,YAAhD,EAA8DC,YAA9D,QAAkF,WAAlF;AACA,SAASC,YAAT,QAA6B,iCAA7B;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS,OAA2C;AAAA,MAAxCC,MAAwC,QAAxCA,MAAwC;AAAA,MAAhCC,SAAgC,QAAhCA,SAAgC;AAAA,MAArBC,SAAqB,QAArBA,SAAqB;;AACtD,MAAMC,SAAS,GAAG,SAAZA,SAAY,CAAAC,IAAI;AAAA,WAAK;AACvBA,MAAAA,IAAI,kCACG,MAAKA,IAAL,EAAW,CAAC,MAAD,EAAS,MAAT,EAAiB,aAAjB,CAAX,CADH;AAEAC,QAAAA,KAAK,EAAE,CAACD,IAAI,CAACC,KAAL,IAAc,EAAf,EAAmBC,GAAnB,CAAuB,UAAAC,CAAC;AAAA,iBAAIA,CAAC,CAACC,EAAN;AAAA,SAAxB;AAFP;AADmB,KAAL;AAAA,GAAtB;;AAOA,sBACI,oBAAC,KAAD,CAAO,QAAP,qBACI,oBAAC,YAAD;AACI,IAAA,MAAM,EAAEX,YADZ;AAEI,IAAA,IAAI,EAAEJ,UAFV;AAGI,IAAA,IAAI,EAAE;AACFgB,MAAAA,KAAK,EAAEf,WADL;AAEFS,MAAAA,SAAS,EAAE;AAAEO,QAAAA,IAAI,EAAE;AAAEC,UAAAA,OAAO,EAAE,CAAC;AAAZ;AAAR;AAFT,KAHV;AAOI,IAAA,MAAM,EAAE;AACJC,MAAAA,QAAQ,EAAEhB,YADN;AAEJO,MAAAA,SAAS,EAATA;AAFI,KAPZ;AAWI,IAAA,MAAM,EAAE;AACJS,MAAAA,QAAQ,EAAEjB,YADN;AAEJQ,MAAAA,SAAS,EAATA;AAFI;AAXZ,KAgBK;AAAA,QAAGU,OAAH,SAAGA,OAAH;AAAA,wBACG,uDACI,oBAAC,SAAD,qBACI,oBAAC,SAAD,qBACI,oBAAC,cAAD,EAAoBX,SAApB,CADJ,CADJ,eAII,oBAAC,UAAD,qBACI,oBAAC,UAAD;AAAY,MAAA,MAAM,EAAEF;AAApB,OAAgCC,SAAhC,EADJ,CAJJ,CADJ,eASI,oBAAC,oBAAD;AACI,qBAAY,mBADhB;AAEI,MAAA,OAAO,EAAEY,OAAO,CAACC;AAFrB,MATJ,CADH;AAAA,GAhBL,CADJ,CADJ;AAqCH,CA7CD;;AA+CA,eAAef,MAAf","sourcesContent":["import * as React from \"react\";\nimport { pick } from \"lodash\";\nimport { SplitView, LeftPanel, RightPanel } from \"@webiny/app-admin/components/SplitView\";\nimport { FloatingActionButton } from \"@webiny/app-admin/components/FloatingActionButton\";\nimport GroupsDataList from \"./GroupsDataList\";\nimport GroupsForm from \"./GroupsForm\";\nimport { READ_GROUP, LIST_GROUPS, CREATE_GROUP, UPDATE_GROUP, DELETE_GROUP } from \"./graphql\";\nimport { CrudProvider } from \"@webiny/app-admin/contexts/Crud\";\n\nconst Groups = ({ scopes, formProps, listProps }: any) => {\n    const variables = data => ({\n        data: {\n            ...pick(data, [\"name\", \"slug\", \"description\"]),\n            roles: (data.roles || []).map(x => x.id)\n        }\n    });\n\n    return (\n        <React.Fragment>\n            <CrudProvider\n                delete={DELETE_GROUP}\n                read={READ_GROUP}\n                list={{\n                    query: LIST_GROUPS,\n                    variables: { sort: { savedOn: -1 } }\n                }}\n                update={{\n                    mutation: UPDATE_GROUP,\n                    variables\n                }}\n                create={{\n                    mutation: CREATE_GROUP,\n                    variables\n                }}\n            >\n                {({ actions }) => (\n                    <>\n                        <SplitView>\n                            <LeftPanel>\n                                <GroupsDataList {...listProps} />\n                            </LeftPanel>\n                            <RightPanel>\n                                <GroupsForm scopes={scopes} {...formProps} />\n                            </RightPanel>\n                        </SplitView>\n                        <FloatingActionButton\n                            data-testid=\"new-record-button\"\n                            onClick={actions.resetForm}\n                        />\n                    </>\n                )}\n            </CrudProvider>\n        </React.Fragment>\n    );\n};\n\nexport default Groups;\n"],"file":"Groups.js"}