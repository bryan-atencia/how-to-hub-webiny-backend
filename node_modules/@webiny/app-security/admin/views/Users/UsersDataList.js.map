{"version":3,"sources":["../../../../src/admin/views/Users/UsersDataList.tsx"],"names":["React","i18n","useSecurity","ConfirmationDialog","Tooltip","Image","useCrud","DataList","ScrollList","ListItem","ListItemText","ListItemTextSecondary","ListItemMeta","ListActions","ListItemGraphic","DeleteIcon","Avatar","t","ns","UsersDataList","security","actions","list","label","sorters","savedOn","lastName","data","isSelected","select","map","item","id","props","width","avatar","src","fullName","email","user","showConfirmation","delete"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { i18n } from \"@webiny/app/i18n\";\nimport { useSecurity } from \"@webiny/app-security/hooks/useSecurity\";\nimport { ConfirmationDialog } from \"@webiny/ui/ConfirmationDialog\";\nimport { Tooltip } from \"@webiny/ui/Tooltip\";\nimport { Image } from \"@webiny/app/components\";\nimport { useCrud } from \"@webiny/app-admin/hooks/useCrud\";\n\nimport {\n    DataList,\n    ScrollList,\n    ListItem,\n    ListItemText,\n    ListItemTextSecondary,\n    ListItemMeta,\n    ListActions,\n    ListItemGraphic\n} from \"@webiny/ui/List\";\n\nimport { DeleteIcon } from \"@webiny/ui/List/DataList/icons\";\nimport { Avatar } from \"@webiny/ui/Avatar\";\n\nconst t = i18n.ns(\"app-security/admin/users/data-list\");\n\nconst UsersDataList = () => {\n    const security = useSecurity();\n    const { actions, list } = useCrud();\n    return (\n        <DataList\n            {...list}\n            title={t`Security Users`}\n            sorters={[\n                {\n                    label: t`Newest to oldest`,\n                    sorters: { savedOn: -1 }\n                },\n                {\n                    label: t`Oldest to newest`,\n                    sorters: { savedOn: 1 }\n                },\n                {\n                    label: t`Name A-Z`,\n                    sorters: { lastName: 1 }\n                },\n                {\n                    label: t`Name Z-A`,\n                    sorters: { lastName: -1 }\n                }\n            ]}\n        >\n            {({ data, isSelected, select }) => (\n                <ScrollList twoLine avatarList>\n                    {data.map(item => (\n                        <ListItem key={item.id} selected={isSelected(item)}>\n                            <ListItemGraphic>\n                                <Avatar\n                                    renderImage={props => (\n                                        <Image {...props} transform={{ width: 100 }} />\n                                    )}\n                                    src={item.avatar && item.avatar.src}\n                                    fallbackText={item.fullName}\n                                    alt={t`User's avatar.`}\n                                />\n                            </ListItemGraphic>\n                            <ListItemText onClick={() => select(item)}>\n                                {item.fullName}\n                                <ListItemTextSecondary>{item.email}</ListItemTextSecondary>\n                            </ListItemText>\n\n                            <ListItemMeta>\n                                <ListActions>\n                                    {security.user && security.user.id !== item.id ? (\n                                        <ConfirmationDialog>\n                                            {({ showConfirmation }) => (\n                                                <DeleteIcon\n                                                    onClick={() =>\n                                                        showConfirmation(() => actions.delete(item))\n                                                    }\n                                                />\n                                            )}\n                                        </ConfirmationDialog>\n                                    ) : (\n                                        <Tooltip\n                                            placement={\"bottom\"}\n                                            content={\n                                                <span>{t`You can't delete your own user account.`}</span>\n                                            }\n                                        >\n                                            <DeleteIcon disabled />\n                                        </Tooltip>\n                                    )}\n                                </ListActions>\n                            </ListItemMeta>\n                        </ListItem>\n                    ))}\n                </ScrollList>\n            )}\n        </DataList>\n    );\n};\n\nexport default UsersDataList;\n"],"file":"UsersDataList.js"}