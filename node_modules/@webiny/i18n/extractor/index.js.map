{"version":3,"sources":["../../src/extractor/index.ts"],"names":["Extractor","setGlob","glob","setContent","content","execute","results","paths","sync","forEach","path","contents","fs","readFileSync","parsed","key","setListOnly","flag","listOnly"],"mappings":";;;;;;;;;;;AAAA;;AACA;;AACA;;AAEA,MAAMA,SAAN,CAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;;AAKZC,EAAAA,OAAO,CAACC,IAAD,EAA0B;AAC7B,SAAKA,IAAL,GAAYA,IAAZ;AACA,WAAO,IAAP;AACH;;AAEDC,EAAAA,UAAU,CAACC,OAAD,EAA6B;AACnC,SAAKA,OAAL,GAAeA,OAAf;AACA,WAAO,IAAP;AACH;;AAEDC,EAAAA,OAAO,GAAG;AACN,UAAMC,OAAO,GAAG,EAAhB;;AAEA,QAAI,KAAKJ,IAAT,EAAe;AACX,YAAMK,KAAK,GAAGL,cAAKM,IAAL,CAAU,KAAKN,IAAf,CAAd;;AACAK,MAAAA,KAAK,CAACE,OAAN,CAAcC,IAAI,IAAI;AAClB,cAAMC,QAAQ,GAAGC,YAAGC,YAAH,CAAgBH,IAAhB,EAAsB,MAAtB,CAAjB;;AACA,cAAMI,MAAM,GAAG,sBAAQH,QAAR,CAAf;;AACA,aAAK,MAAMI,GAAX,IAAkBD,MAAlB,EAA0B;AACtBR,UAAAA,OAAO,CAACS,GAAD,CAAP,GAAeD,MAAM,CAACC,GAAD,CAArB;AACH;AACJ,OAND;AAOH;;AAED,WAAOT,OAAP;AACH;;AAEDU,EAAAA,WAAW,CAACC,IAAI,GAAG,IAAR,EAAyB;AAChC,SAAKC,QAAL,GAAgBD,IAAhB;AACA,WAAO,IAAP;AACH;;AAnCW;;eAsCDjB,S","sourcesContent":["import extract from \"./extract\";\nimport glob from \"glob\";\nimport fs from \"fs\";\n\nclass Extractor {\n    glob: string;\n    content: string;\n    listOnly: boolean;\n\n    setGlob(glob: string): Extractor {\n        this.glob = glob;\n        return this;\n    }\n\n    setContent(content: string): Extractor {\n        this.content = content;\n        return this;\n    }\n\n    execute() {\n        const results = {};\n\n        if (this.glob) {\n            const paths = glob.sync(this.glob);\n            paths.forEach(path => {\n                const contents = fs.readFileSync(path, \"utf8\");\n                const parsed = extract(contents);\n                for (const key in parsed) {\n                    results[key] = parsed[key];\n                }\n            });\n        }\n\n        return results;\n    }\n\n    setListOnly(flag = true): Extractor {\n        this.listOnly = flag;\n        return this;\n    }\n}\n\nexport default Extractor;\n"],"file":"index.js"}