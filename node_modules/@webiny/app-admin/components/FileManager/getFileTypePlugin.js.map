{"version":3,"sources":["../../../src/components/FileManager/getFileTypePlugin.ts"],"names":["getPlugins","getPlugin","invariant","getFileTypePlugin","file","plugins","plugin","i","length","current","Array","isArray","types","includes","type"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,SAArB,QAAsC,iBAAtC;AACA,OAAOC,SAAP,MAAsB,WAAtB;AAGA,eAAe,SAASC,iBAAT,CAA2BC,IAA3B,EAAiC;AAC5C,MAAI,CAACA,IAAL,EAAW;AACP,WAAO,IAAP;AACH;;AAED,MAAMC,OAAO,GAAGL,UAAU,CAAiC,8BAAjC,CAA1B;AAEA,MAAIM,MAAM,GAAG,IAAb;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,OAAO,CAACG,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACrC,QAAME,OAAO,GAAGJ,OAAO,CAACE,CAAD,CAAvB;;AACA,QAAIG,KAAK,CAACC,OAAN,CAAcF,OAAO,CAACG,KAAtB,KAAgCH,OAAO,CAACG,KAAR,CAAcC,QAAd,CAAuBT,IAAI,CAACU,IAA5B,CAApC,EAAuE;AACnER,MAAAA,MAAM,GAAGG,OAAT;AACH;AACJ;;AAED,MAAI,CAACH,MAAL,EAAa;AACTA,IAAAA,MAAM,GAAGL,SAAS,CAAC,gCAAD,CAAlB;AACAC,IAAAA,SAAS,CAACI,MAAD,uDAAT;AACH;;AAED,SAAOA,MAAP;AACH","sourcesContent":["import { getPlugins, getPlugin } from \"@webiny/plugins\";\nimport invariant from \"invariant\";\nimport { AdminFileManagerFileTypePlugin } from \"@webiny/app-admin/types\";\n\nexport default function getFileTypePlugin(file) {\n    if (!file) {\n        return null;\n    }\n\n    const plugins = getPlugins<AdminFileManagerFileTypePlugin>(\"admin-file-manager-file-type\");\n\n    let plugin = null;\n    for (let i = 0; i < plugins.length; i++) {\n        const current = plugins[i];\n        if (Array.isArray(current.types) && current.types.includes(file.type)) {\n            plugin = current;\n        }\n    }\n\n    if (!plugin) {\n        plugin = getPlugin(\"file-manager-file-type-default\");\n        invariant(plugin, `Missing default \"file-manager-file-type\" plugin.`);\n    }\n\n    return plugin;\n}\n"],"file":"getFileTypePlugin.js"}