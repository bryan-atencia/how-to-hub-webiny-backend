{"version":3,"sources":["../../../../src/admin/views/Pages/PagesDataList.tsx"],"names":["React","TimeAgo","useRouter","i18n","css","Typography","DataList","List","ListItem","ListItemText","ListItemTextSecondary","ListTextOverline","ListItemMeta","t","namespace","rightAlign","alignItems","PagesDataList","props","location","history","dataList","query","URLSearchParams","search","label","sorters","createdOn","title","data","map","page","id","set","push","toString","category","name","createdBy","firstName","savedOn","locked","version"],"mappings":";;;;;;;;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,OAAP,MAAoB,eAApB;AACA,SAASC,SAAT,QAA0B,sBAA1B;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,GAAT,QAAoB,SAApB;AACA,SAASC,UAAT,QAA2B,uBAA3B;AACA,SACIC,QADJ,EAEIC,IAFJ,EAGIC,QAHJ,EAIIC,YAJJ,EAKIC,qBALJ,EAMIC,gBANJ,EAOIC,YAPJ,QAQO,iBARP;AAUA,IAAMC,CAAC,GAAGV,IAAI,CAACW,SAAL,CAAe,kBAAf,CAAV;AAEA,IAAMC,UAAU,gBAAGX,GAAG,CAAC;AACnBY,EAAAA,UAAU,EAAE;AADO,CAAD,sBAAtB;;AAQA,IAAMC,aAA2C,GAAG,SAA9CA,aAA8C,CAAAC,KAAK,EAAI;AAAA,mBAC3BhB,SAAS,EADkB;AAAA,MACjDiB,QADiD,cACjDA,QADiD;AAAA,MACvCC,OADuC,cACvCA,OADuC;;AAAA,MAEjDC,QAFiD,GAEpCH,KAFoC,CAEjDG,QAFiD;AAGzD,MAAMC,KAAK,GAAG,IAAIC,eAAJ,CAAoBJ,QAAQ,CAACK,MAA7B,CAAd;AAEA,sBACI,oBAAC,QAAD,oBACQH,QADR;AAEI,IAAA,KAAK,EAAER,CAAF,mBAFT;AAGI,IAAA,OAAO,EAAE,CACL;AACIY,MAAAA,KAAK,EAAE,kBADX;AAEIC,MAAAA,OAAO,EAAE;AAAEC,QAAAA,SAAS,EAAE,CAAC;AAAd;AAFb,KADK,EAKL;AACIF,MAAAA,KAAK,EAAE,kBADX;AAEIC,MAAAA,OAAO,EAAE;AAAEC,QAAAA,SAAS,EAAE;AAAb;AAFb,KALK,EASL;AACIF,MAAAA,KAAK,EAAE,WADX;AAEIC,MAAAA,OAAO,EAAE;AAAEE,QAAAA,KAAK,EAAE;AAAT;AAFb,KATK,EAaL;AACIH,MAAAA,KAAK,EAAE,WADX;AAEIC,MAAAA,OAAO,EAAE;AAAEE,QAAAA,KAAK,EAAE,CAAC;AAAV;AAFb,KAbK;AAHb,MAsBK;AAAA,yBAAGC,IAAH;AAAA,QAAGA,IAAH,0BAAU,EAAV;AAAA,wBACG,oBAAC,IAAD;AAAM,qBAAY;AAAlB,OACKA,IAAI,CAACC,GAAL,CAAS,UAAAC,IAAI;AAAA,0BACV,oBAAC,QAAD;AAAU,QAAA,GAAG,EAAEA,IAAI,CAACC;AAApB,sBACI,oBAAC,YAAD;AACI,QAAA,OAAO,EAAE,mBAAM;AACXV,UAAAA,KAAK,CAACW,GAAN,CAAU,IAAV,EAAgBF,IAAI,CAACC,EAArB;AACAZ,UAAAA,OAAO,CAACc,IAAR,CAAa;AAAEV,YAAAA,MAAM,EAAEF,KAAK,CAACa,QAAN;AAAV,WAAb;AACH;AAJL,SAMKJ,IAAI,CAACH,KANV,eAOI,oBAAC,gBAAD,QAAmBG,IAAI,CAACK,QAAL,CAAcC,IAAjC,CAPJ,EAQKN,IAAI,CAACO,SAAL,iBACG,oBAAC,qBAAD,wBACiBP,IAAI,CAACO,SAAL,CAAeC,SAAf,IAA4B,KAD7C,oCAEc,oBAAC,OAAD;AAAS,QAAA,QAAQ,EAAER,IAAI,CAACS;AAAxB,QAFd,MATR,CADJ,eAgBI,oBAAC,YAAD;AAAc,QAAA,SAAS,EAAEzB;AAAzB,sBACI,oBAAC,UAAD;AAAY,QAAA,GAAG,EAAE;AAAjB,SACKgB,IAAI,CAACU,MAAL,GAAc,WAAd,GAA4B,OADjC,SAC6CV,IAAI,CAACW,OADlD,MADJ,CAhBJ,CADU;AAAA,KAAb,CADL,CADH;AAAA,GAtBL,CADJ;AAqDH,CA1DD;;AA4DA,eAAezB,aAAf","sourcesContent":["import * as React from \"react\";\nimport TimeAgo from \"timeago-react\";\nimport { useRouter } from \"@webiny/react-router\";\nimport { i18n } from \"@webiny/app/i18n\";\nimport { css } from \"emotion\";\nimport { Typography } from \"@webiny/ui/Typography\";\nimport {\n    DataList,\n    List,\n    ListItem,\n    ListItemText,\n    ListItemTextSecondary,\n    ListTextOverline,\n    ListItemMeta\n} from \"@webiny/ui/List\";\n\nconst t = i18n.namespace(\"Pb.PagesDataList\");\n\nconst rightAlign = css({\n    alignItems: \"flex-end !important\"\n});\n\nexport type PagesDataListProps = {\n    dataList: any;\n};\n\nconst PagesDataList: React.FC<PagesDataListProps> = props => {\n    const { location, history } = useRouter();\n    const { dataList } = props;\n    const query = new URLSearchParams(location.search);\n\n    return (\n        <DataList\n            {...dataList}\n            title={t`Pages`}\n            sorters={[\n                {\n                    label: \"Newest to oldest\",\n                    sorters: { createdOn: -1 }\n                },\n                {\n                    label: \"Oldest to newest\",\n                    sorters: { createdOn: 1 }\n                },\n                {\n                    label: \"Title A-Z\",\n                    sorters: { title: 1 }\n                },\n                {\n                    label: \"Title Z-A\",\n                    sorters: { title: -1 }\n                }\n            ]}\n        >\n            {({ data = [] }) => (\n                <List data-testid=\"default-data-list\">\n                    {data.map(page => (\n                        <ListItem key={page.id}>\n                            <ListItemText\n                                onClick={() => {\n                                    query.set(\"id\", page.id);\n                                    history.push({ search: query.toString() });\n                                }}\n                            >\n                                {page.title}\n                                <ListTextOverline>{page.category.name}</ListTextOverline>\n                                {page.createdBy && (\n                                    <ListItemTextSecondary>\n                                        Created by: {page.createdBy.firstName || \"N/A\"}. Last\n                                        modified: <TimeAgo datetime={page.savedOn} />.\n                                    </ListItemTextSecondary>\n                                )}\n                            </ListItemText>\n                            <ListItemMeta className={rightAlign}>\n                                <Typography use={\"subtitle2\"}>\n                                    {page.locked ? \"Published\" : \"Draft\"} (v{page.version})\n                                </Typography>\n                            </ListItemMeta>\n                        </ListItem>\n                    ))}\n                </List>\n            )}\n        </DataList>\n    );\n};\n\nexport default PagesDataList;\n"],"file":"PagesDataList.js"}