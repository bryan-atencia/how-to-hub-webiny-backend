{"version":3,"sources":["../../../../src/admin/views/Categories/CategoriesDialog.tsx"],"names":["React","css","useRouter","Query","Dialog","DialogTitle","DialogContent","DialogActions","List","ListItem","ListItemText","ListItemTextPrimary","ListItemTextSecondary","ButtonDefault","LIST_CATEGORIES_BY_NAME","narrowDialog","width","minWidth","CategoriesDialog","open","onClose","onSelect","children","history","data","loading","pageBuilder","categories","map","item","id","name","url","push"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,QAAoB,SAApB;AACA,SAASC,SAAT,QAA0B,sBAA1B;AACA,SAASC,KAAT,QAAsB,cAAtB;AACA,SACIC,MADJ,EAEIC,WAFJ,EAGIC,aAHJ,EAIIC,aAJJ,QAMO,mBANP;AAOA,SACIC,IADJ,EAEIC,QAFJ,EAGIC,YAHJ,EAIIC,mBAJJ,EAKIC,qBALJ,QAMO,iBANP;AAOA,SAASC,aAAT,QAA8B,mBAA9B;AACA,SAASC,uBAAT,QAAwC,WAAxC;AAEA,IAAMC,YAAY,gBAAGd,GAAG,CAAC;AACrB,0BAAwB;AACpBe,IAAAA,KAAK,EAAE,GADa;AAEpBC,IAAAA,QAAQ,EAAE;AAFU;AADH,CAAD,wBAAxB;;AAcA,IAAMC,gBAAiD,GAAG,SAApDA,gBAAoD,OAKpD;AAAA,MAJFC,IAIE,QAJFA,IAIE;AAAA,MAHFC,OAGE,QAHFA,OAGE;AAAA,MAFFC,QAEE,QAFFA,QAEE;AAAA,MADFC,QACE,QADFA,QACE;;AAAA,mBACkBpB,SAAS,EAD3B;AAAA,MACMqB,OADN,cACMA,OADN;;AAEF,sBACI,oBAAC,MAAD;AACI,IAAA,IAAI,EAAEJ,IADV;AAEI,IAAA,OAAO,EAAEC,OAFb;AAGI,IAAA,SAAS,EAAEL,YAHf;AAII,mBAAY;AAJhB,KAMKO,QANL,eAOI,oBAAC,WAAD,4BAPJ,eAQI,oBAAC,aAAD,qBACI,oBAAC,IAAD;AAAM,IAAA,OAAO;AAAb,kBACI,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAER;AAAd,KACK,iBAAuB;AAAA,QAApBU,IAAoB,SAApBA,IAAoB;AAAA,QAAdC,OAAc,SAAdA,OAAc;;AACpB,QAAIA,OAAJ,EAAa;AACT,0BAAO,0DAAP;AACH;;AAED,wBACI,oBAAC,KAAD,CAAO,QAAP,QACKD,IAAI,CAACE,WAAL,CAAiBC,UAAjB,CAA4BH,IAA5B,CAAiCI,GAAjC,CAAqC,UAAAC,IAAI;AAAA,0BACtC,oBAAC,QAAD;AAAU,QAAA,GAAG,EAAEA,IAAI,CAACC,EAApB;AAAwB,QAAA,OAAO,EAAE;AAAA,iBAAMT,QAAQ,CAACQ,IAAD,CAAd;AAAA;AAAjC,sBACI,oBAAC,YAAD,qBACI,oBAAC,mBAAD,QACKA,IAAI,CAACE,IADV,CADJ,eAII,oBAAC,qBAAD,QACKF,IAAI,CAACG,GADV,CAJJ,CADJ,CADsC;AAAA,KAAzC,CADL,CADJ;AAgBH,GAtBL,CADJ,CADJ,CARJ,eAoCI,oBAAC,aAAD,qBACI,oBAAC,aAAD;AAAe,IAAA,OAAO,EAAE;AAAA,aAAMT,OAAO,CAACU,IAAR,CAAa,0BAAb,CAAN;AAAA;AAAxB,6BADJ,CApCJ,CADJ;AA4CH,CAnDD;;AAqDA,eAAef,gBAAf","sourcesContent":["import React from \"react\";\nimport { css } from \"emotion\";\nimport { useRouter } from \"@webiny/react-router\";\nimport { Query } from \"react-apollo\";\nimport {\n    Dialog,\n    DialogTitle,\n    DialogContent,\n    DialogActions,\n    DialogOnClose\n} from \"@webiny/ui/Dialog\";\nimport {\n    List,\n    ListItem,\n    ListItemText,\n    ListItemTextPrimary,\n    ListItemTextSecondary\n} from \"@webiny/ui/List\";\nimport { ButtonDefault } from \"@webiny/ui/Button\";\nimport { LIST_CATEGORIES_BY_NAME } from \"./graphql\";\n\nconst narrowDialog = css({\n    \".mdc-dialog__surface\": {\n        width: 400,\n        minWidth: 400\n    }\n});\n\nexport type CategoriesDialogProps = {\n    open: boolean;\n    onClose: DialogOnClose;\n    onSelect: Function;\n    children: any;\n};\n\nconst CategoriesDialog: React.FC<CategoriesDialogProps> = ({\n    open,\n    onClose,\n    onSelect,\n    children\n}) => {\n    const { history } = useRouter();\n    return (\n        <Dialog\n            open={open}\n            onClose={onClose}\n            className={narrowDialog}\n            data-testid=\"pb-new-page-category-modal\"\n        >\n            {children}\n            <DialogTitle>Select a category</DialogTitle>\n            <DialogContent>\n                <List twoLine>\n                    <Query query={LIST_CATEGORIES_BY_NAME}>\n                        {({ data, loading }) => {\n                            if (loading) {\n                                return <span>Loading categories...</span>;\n                            }\n\n                            return (\n                                <React.Fragment>\n                                    {data.pageBuilder.categories.data.map(item => (\n                                        <ListItem key={item.id} onClick={() => onSelect(item)}>\n                                            <ListItemText>\n                                                <ListItemTextPrimary>\n                                                    {item.name}\n                                                </ListItemTextPrimary>\n                                                <ListItemTextSecondary>\n                                                    {item.url}\n                                                </ListItemTextSecondary>\n                                            </ListItemText>\n                                        </ListItem>\n                                    ))}\n                                </React.Fragment>\n                            );\n                        }}\n                    </Query>\n                </List>\n            </DialogContent>\n            <DialogActions>\n                <ButtonDefault onClick={() => history.push(\"/page-builder/categories\")}>\n                    + Create new category\n                </ButtonDefault>\n            </DialogActions>\n        </Dialog>\n    );\n};\n\nexport default CategoriesDialog;\n"],"file":"CategoriesDialog.js"}