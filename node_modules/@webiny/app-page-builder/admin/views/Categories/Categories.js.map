{"version":3,"sources":["../../../../src/admin/views/Categories/Categories.tsx"],"names":["React","useCallback","useApolloClient","SplitView","LeftPanel","RightPanel","FloatingActionButton","CrudProvider","CategoriesDataList","CategoriesForm","READ_CATEGORY","LIST_CATEGORIES","LIST_CATEGORIES_BY_NAME","CREATE_CATEGORY","UPDATE_CATEGORY","DELETE_CATEGORY","Categories","client","onCompleted","query","fetchPolicy","mutation","options","variables","sort","savedOn","actions","resetForm"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,WAAhB,QAAmC,OAAnC;AACA,SAASC,eAAT,QAAgC,cAAhC;AACA,SAASC,SAAT,EAAoBC,SAApB,EAA+BC,UAA/B,QAAiD,wCAAjD;AACA,SAASC,oBAAT,QAAqC,mDAArC;AACA,SAASC,YAAT,QAA6B,iCAA7B;AACA,OAAOC,kBAAP,MAA+B,sBAA/B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AAEA,SACIC,aADJ,EAEIC,eAFJ,EAGIC,uBAHJ,EAIIC,eAJJ,EAKIC,eALJ,EAMIC,eANJ,QAOO,WAPP;;AASA,IAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACrB,MAAMC,MAAM,GAAGf,eAAe,EAA9B;AAEA,MAAMgB,WAAW,GAAGjB,WAAW,wEAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACtBgB,MAAM,CAACE,KAAP,CAAa;AACfA,cAAAA,KAAK,EAAEP,uBADQ;AAEfQ,cAAAA,WAAW,EAAE;AAFE,aAAb,CADsB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,IAK5B,EAL4B,CAA/B;AAOA,sBACI,oBAAC,YAAD;AACI,IAAA,MAAM,EAAE;AACJC,MAAAA,QAAQ,EAAEN,eADN;AAEJO,MAAAA,OAAO,EAAE;AAAEJ,QAAAA,WAAW,EAAXA;AAAF;AAFL,KADZ;AAKI,IAAA,IAAI,EAAER,aALV;AAMI,IAAA,MAAM,EAAE;AACJW,MAAAA,QAAQ,EAAER,eADN;AAEJS,MAAAA,OAAO,EAAE;AAAEJ,QAAAA,WAAW,EAAXA;AAAF;AAFL,KANZ;AAUI,IAAA,MAAM,EAAE;AACJG,MAAAA,QAAQ,EAAEP,eADN;AAEJQ,MAAAA,OAAO,EAAE;AAAEJ,QAAAA,WAAW,EAAXA;AAAF;AAFL,KAVZ;AAcI,IAAA,IAAI,EAAE;AACFC,MAAAA,KAAK,EAAER,eADL;AAEFY,MAAAA,SAAS,EAAE;AAAEC,QAAAA,IAAI,EAAE;AAAEC,UAAAA,OAAO,EAAE,CAAC;AAAZ;AAAR;AAFT;AAdV,KAmBK;AAAA,QAAGC,OAAH,SAAGA,OAAH;AAAA,wBACG,uDACI,oBAAC,SAAD,qBACI,oBAAC,SAAD,qBACI,oBAAC,kBAAD,OADJ,CADJ,eAII,oBAAC,UAAD,qBACI,oBAAC,cAAD,OADJ,CAJJ,CADJ,eASI,oBAAC,oBAAD;AAAsB,MAAA,OAAO,EAAEA,OAAO,CAACC;AAAvC,MATJ,CADH;AAAA,GAnBL,CADJ;AAmCH,CA7CD;;AA+CA,eAAeX,UAAf","sourcesContent":["import React, { useCallback } from \"react\";\nimport { useApolloClient } from \"react-apollo\";\nimport { SplitView, LeftPanel, RightPanel } from \"@webiny/app-admin/components/SplitView\";\nimport { FloatingActionButton } from \"@webiny/app-admin/components/FloatingActionButton\";\nimport { CrudProvider } from \"@webiny/app-admin/contexts/Crud\";\nimport CategoriesDataList from \"./CategoriesDataList\";\nimport CategoriesForm from \"./CategoriesForm\";\n\nimport {\n    READ_CATEGORY,\n    LIST_CATEGORIES,\n    LIST_CATEGORIES_BY_NAME,\n    CREATE_CATEGORY,\n    UPDATE_CATEGORY,\n    DELETE_CATEGORY\n} from \"./graphql\";\n\nconst Categories = () => {\n    const client = useApolloClient();\n\n    const onCompleted = useCallback(async () => {\n        await client.query({\n            query: LIST_CATEGORIES_BY_NAME,\n            fetchPolicy: \"network-only\"\n        });\n    }, []);\n\n    return (\n        <CrudProvider\n            delete={{\n                mutation: DELETE_CATEGORY,\n                options: { onCompleted }\n            }}\n            read={READ_CATEGORY}\n            create={{\n                mutation: CREATE_CATEGORY,\n                options: { onCompleted }\n            }}\n            update={{\n                mutation: UPDATE_CATEGORY,\n                options: { onCompleted }\n            }}\n            list={{\n                query: LIST_CATEGORIES,\n                variables: { sort: { savedOn: -1 } }\n            }}\n        >\n            {({ actions }) => (\n                <>\n                    <SplitView>\n                        <LeftPanel>\n                            <CategoriesDataList />\n                        </LeftPanel>\n                        <RightPanel>\n                            <CategoriesForm />\n                        </RightPanel>\n                    </SplitView>\n                    <FloatingActionButton onClick={actions.resetForm} />\n                </>\n            )}\n        </CrudProvider>\n    );\n};\n\nexport default Categories;\n"],"file":"Categories.js"}