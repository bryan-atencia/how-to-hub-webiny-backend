{"version":3,"sources":["../../../../src/admin/views/Categories/CategoriesForm.tsx"],"names":["React","i18n","getPlugins","Form","Grid","Cell","Input","Select","ButtonPrimary","SimpleForm","SimpleFormHeader","SimpleFormFooter","SimpleFormContent","categoryUrlValidator","CircularProgress","validation","useCrud","t","ns","CategoriesForm","crudForm","form","layouts","useMemo","map","pl","layout","data","Bind","loading","name","create","id","title","submit"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport { i18n } from \"@webiny/app/i18n\";\nimport { getPlugins } from \"@webiny/plugins\";\nimport { Form } from \"@webiny/form\";\nimport { Grid, Cell } from \"@webiny/ui/Grid\";\nimport { Input } from \"@webiny/ui/Input\";\nimport { Select } from \"@webiny/ui/Select\";\nimport { ButtonPrimary } from \"@webiny/ui/Button\";\nimport {\n    SimpleForm,\n    SimpleFormHeader,\n    SimpleFormFooter,\n    SimpleFormContent\n} from \"@webiny/app-admin/components/SimpleForm\";\nimport { categoryUrlValidator } from \"./validators\";\nimport { CircularProgress } from \"@webiny/ui/Progress\";\nimport { validation } from \"@webiny/validation\";\nimport { useCrud } from \"@webiny/app-admin/hooks/useCrud\";\nimport { PbPageLayoutPlugin } from \"@webiny/app-page-builder/types\";\n\nconst t = i18n.ns(\"app-page-builder/admin/categories/form\");\n\nconst CategoriesForm = () => {\n    const { form: crudForm } = useCrud();\n\n    const layouts = React.useMemo(\n        () => getPlugins<PbPageLayoutPlugin>(\"pb-page-layout\").map(pl => pl.layout),\n        []\n    );\n\n    return (\n        <Form {...crudForm}>\n            {({ data, form, Bind }) => (\n                <SimpleForm>\n                    {crudForm.loading && <CircularProgress />}\n                    <SimpleFormHeader title={data.name || t`New Category`} />\n                    <SimpleFormContent>\n                        <Grid>\n                            <Cell span={6}>\n                                <Bind name=\"name\" validators={validation.create(\"required\")}>\n                                    <Input label={t`Name`} />\n                                </Bind>\n                            </Cell>\n                            <Cell span={6}>\n                                <Bind name=\"slug\" validators={validation.create(\"required\")}>\n                                    <Input disabled={data.id} label={t`Slug`} />\n                                </Bind>\n                            </Cell>\n                            <Cell span={12}>\n                                <Bind\n                                    name=\"url\"\n                                    validators={[\n                                        validation.create(\"required\"),\n                                        categoryUrlValidator\n                                    ]}\n                                >\n                                    <Input disabled={data.id} label={t`URL`} />\n                                </Bind>\n                            </Cell>\n                            <Cell span={6}>\n                                <Bind name=\"layout\" defaultValue={layouts[0].name}>\n                                    <Select label={t`Layout`}>\n                                        {layouts.map(({ name, title }) => (\n                                            <option key={name} value={name}>\n                                                {title}\n                                            </option>\n                                        ))}\n                                    </Select>\n                                </Bind>\n                            </Cell>\n                        </Grid>\n                    </SimpleFormContent>\n                    <SimpleFormFooter>\n                        <ButtonPrimary onClick={form.submit}>{t`Save category`}</ButtonPrimary>\n                    </SimpleFormFooter>\n                </SimpleForm>\n            )}\n        </Form>\n    );\n};\n\nexport default CategoriesForm;\n"],"file":"CategoriesForm.js"}