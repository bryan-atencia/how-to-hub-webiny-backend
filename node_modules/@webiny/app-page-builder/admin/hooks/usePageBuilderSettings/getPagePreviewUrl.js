import _trimEnd from "lodash/trimEnd";
export default (function (_ref) {
  var _ref$page = _ref.page,
      url = _ref$page.url,
      id = _ref$page.id,
      domain = _ref.domain;
  var previewUrl = "";

  if (!domain) {
    previewUrl += url;
    previewUrl += "?preview=" + id;
    return previewUrl;
  }

  previewUrl = "//"; // Removes protocol from the beginning of the URL.

  previewUrl += domain.replace(/(^\w+:|^)\/\//, "");
  previewUrl = _trimEnd(previewUrl, "/");
  previewUrl += url;
  previewUrl += "?preview=" + id + "&ssr-no-cache";
  return previewUrl;
});
//# sourceMappingURL=getPagePreviewUrl.js.map