{"version":3,"sources":["../../../src/admin/components/CategoriesAutocomplete.tsx"],"names":["React","AutoComplete","gql","Query","useAutocomplete","GET_CATEGORY","LIST_CATEGORIES","CategoriesAutocomplete","props","autoComplete","search","query","fields","value","id","data"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,YAAT,QAA6B,yBAA7B;AACA,OAAOC,GAAP,MAAgB,aAAhB;AAEA,SAASC,KAAT,QAAsB,cAAtB;AACA,SAASC,eAAT,QAAgC,mCAAhC;AAEA,IAAMC,YAAY,GAAGH,GAAH,mBAAlB;AAaA,IAAMI,eAAe,GAAGJ,GAAH,oBAArB;AAaA,OAAO,SAASK,sBAAT,CAAgCC,KAAhC,EAAuC;AAC1C,MAAMC,YAAY,GAAGL,eAAe,CAAC;AACjCM,IAAAA,MAAM,EAAE,gBAAAC,KAAK;AAAA,aAAK;AAAEA,QAAAA,KAAK,EAALA,KAAF;AAASC,QAAAA,MAAM,EAAE,CAAC,MAAD;AAAjB,OAAL;AAAA,KADoB;AAEjCD,IAAAA,KAAK,EAAEL;AAF0B,GAAD,CAApC;AAKA,sBACI,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAE,CAACE,KAAK,CAACK,KAApB;AAA2B,IAAA,SAAS,EAAE;AAAEC,MAAAA,EAAE,EAAEN,KAAK,CAACK;AAAZ,KAAtC;AAA2D,IAAA,KAAK,EAAER;AAAlE,KACK;AAAA,QAAGU,IAAH,QAAGA,IAAH;AAAA,wBACG,oBAAC,YAAD,oBACQP,KADR,EAEQC,YAFR;AAGI,MAAA,KAAK,EAAE,KAAIM,IAAJ,EAAU,8BAAV;AAHX,OADH;AAAA,GADL,CADJ;AAWH","sourcesContent":["import * as React from \"react\";\nimport { AutoComplete } from \"@webiny/ui/AutoComplete\";\nimport gql from \"graphql-tag\";\nimport { get } from \"lodash\";\nimport { Query } from \"react-apollo\";\nimport { useAutocomplete } from \"@webiny/app/hooks/useAutocomplete\";\n\nconst GET_CATEGORY = gql`\n    query getCategory($id: ID!) {\n        pageBuilder {\n            getCategory(id: $id) {\n                data {\n                    id\n                    name\n                }\n            }\n        }\n    }\n`;\n\nconst LIST_CATEGORIES = gql`\n    query listCategories($search: PbSearchInput) {\n        pageBuilder {\n            categories: listCategories(search: $search) {\n                data {\n                    id\n                    name\n                }\n            }\n        }\n    }\n`;\n\nexport function CategoriesAutocomplete(props) {\n    const autoComplete = useAutocomplete({\n        search: query => ({ query, fields: [\"name\"] }),\n        query: LIST_CATEGORIES\n    });\n\n    return (\n        <Query skip={!props.value} variables={{ id: props.value }} query={GET_CATEGORY}>\n            {({ data }) => (\n                <AutoComplete\n                    {...props}\n                    {...autoComplete}\n                    value={get(data, \"pageBuilder.getCategory.data\")}\n                />\n            )}\n        </Query>\n    );\n}\n"],"file":"CategoriesAutocomplete.js"}