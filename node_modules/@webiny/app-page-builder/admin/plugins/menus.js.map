{"version":3,"sources":["../../../src/admin/plugins/menus.tsx"],"names":["React","i18n","getPlugins","SecureView","t","ns","ROLE_PB_MENUS","ROLE_PB_CATEGORIES","ROLE_PB_EDITOR","plugin","type","name","render","Menu","Section","Item","menus","categories","editor","scopes","map"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,UAAT,QAA2B,iBAA3B;AACA,SAASC,UAAT,QAA2B,iCAA3B;AAGA,IAAMC,CAAC,GAAGH,IAAI,CAACI,EAAL,CAAQ,8BAAR,CAAV;AAEA,IAAMC,aAAa,GAAG,CAAC,eAAD,CAAtB;AACA,IAAMC,kBAAkB,GAAG,CAAC,kBAAD,CAA3B;AACA,IAAMC,cAAc,GAAG,CAAC,cAAD,CAAvB;AAEA,IAAMC,MAAuB,GAAG;AAC5BC,EAAAA,IAAI,EAAE,YADsB;AAE5BC,EAAAA,IAAI,EAAE,cAFsB;AAG5BC,EAAAA,MAH4B,wBAGI;AAAA,QAAvBC,IAAuB,QAAvBA,IAAuB;AAAA,QAAjBC,OAAiB,QAAjBA,OAAiB;AAAA,QAARC,IAAQ,QAARA,IAAQ;AAC5B,wBACI,oBAAC,UAAD;AACI,MAAA,MAAM,EAAE;AACJC,QAAAA,KAAK,EAAEV,aADH;AAEJW,QAAAA,UAAU,EAAEV,kBAFR;AAGJW,QAAAA,MAAM,EAAEV;AAHJ;AADZ,OAOK,iBAAgB;AAAA,UAAbW,MAAa,SAAbA,MAAa;AAAA,UACLH,KADK,GACyBG,MADzB,CACLH,KADK;AAAA,UACEC,UADF,GACyBE,MADzB,CACEF,UADF;AAAA,UACcC,MADd,GACyBC,MADzB,CACcD,MADd;;AAEb,UAAI,CAACF,KAAD,IAAU,CAACC,UAAX,IAAyB,CAACC,MAA9B,EAAsC;AAClC,eAAO,IAAP;AACH;;AAED,0BACI,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAC,WAAX;AAAuB,QAAA,KAAK,EAAEd,CAAF,mBAA5B;AAA0C,QAAA,IAAI,eAAE,oBAAC,SAAD;AAAhD,sBACI,oBAAC,OAAD;AAAS,QAAA,KAAK,EAAEA,CAAF;AAAd,SACKa,UAAU,iBACP,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEb,CAAF,oBAAX;AAA4B,QAAA,IAAI,EAAC;AAAjC,QAFR,EAIKc,MAAM,iBAAI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEd,CAAF,oBAAX;AAAuB,QAAA,IAAI,EAAC;AAA5B,QAJf,EAKKY,KAAK,iBAAI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEZ,CAAF,oBAAX;AAAuB,QAAA,IAAI,EAAC;AAA5B,QALd,CADJ,EAQKF,UAAU,CAAC,4BAAD,CAAV,CAAyCkB,GAAzC,CACG,UAACX,MAAD;AAAA,4BACI,oBAAC,KAAD,CAAO,QAAP;AAAgB,UAAA,GAAG,EAAEA,MAAM,CAACE;AAA5B,WACKF,MAAM,CAACG,MAAP,CAAc;AAAEE,UAAAA,OAAO,EAAPA,OAAF;AAAWC,UAAAA,IAAI,EAAJA;AAAX,SAAd,CADL,CADJ;AAAA,OADH,CARL,CADJ;AAkBH,KA/BL,CADJ;AAmCH;AAvC2B,CAAhC;AA0CA,eAAeN,MAAf","sourcesContent":["import React from \"react\";\nimport { ReactComponent as PagesIcon } from \"@webiny/app-page-builder/admin/assets/round-ballot-24px.svg\";\nimport { i18n } from \"@webiny/app/i18n\";\nimport { getPlugins } from \"@webiny/plugins\";\nimport { SecureView } from \"@webiny/app-security/components\";\nimport { AdminMenuPlugin, AdminMenuContentSectionPlugin } from \"@webiny/app-admin/types\";\n\nconst t = i18n.ns(\"app-form-builder/admin/menus\");\n\nconst ROLE_PB_MENUS = [\"pb:menus:crud\"];\nconst ROLE_PB_CATEGORIES = [\"pb:category:crud\"];\nconst ROLE_PB_EDITOR = [\"pb:page:crud\"];\n\nconst plugin: AdminMenuPlugin = {\n    type: \"admin-menu\",\n    name: \"menu-content\",\n    render({ Menu, Section, Item }) {\n        return (\n            <SecureView\n                scopes={{\n                    menus: ROLE_PB_MENUS,\n                    categories: ROLE_PB_CATEGORIES,\n                    editor: ROLE_PB_EDITOR\n                }}\n            >\n                {({ scopes }) => {\n                    const { menus, categories, editor } = scopes;\n                    if (!menus && !categories && !editor) {\n                        return null;\n                    }\n\n                    return (\n                        <Menu name=\"content-2\" label={t`Content`} icon={<PagesIcon />}>\n                            <Section label={t`Pages`}>\n                                {categories && (\n                                    <Item label={t`Categories`} path=\"/page-builder/categories\" />\n                                )}\n                                {editor && <Item label={t`Pages`} path=\"/page-builder/pages\" />}\n                                {menus && <Item label={t`Menus`} path=\"/page-builder/menus\" />}\n                            </Section>\n                            {getPlugins(\"admin-menu-content-section\").map(\n                                (plugin: AdminMenuContentSectionPlugin) => (\n                                    <React.Fragment key={plugin.name}>\n                                        {plugin.render({ Section, Item })}\n                                    </React.Fragment>\n                                )\n                            )}\n                        </Menu>\n                    );\n                }}\n            </SecureView>\n        );\n    }\n};\n\nexport default plugin;\n"],"file":"menus.js"}