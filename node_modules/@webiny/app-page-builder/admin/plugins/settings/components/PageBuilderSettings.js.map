{"version":3,"sources":["../../../../../src/admin/plugins/settings/components/PageBuilderSettings.tsx"],"names":["React","Form","Grid","Cell","ButtonPrimary","Query","Mutation","useSnackbar","graphql","PagesAutocomplete","CircularProgress","SingleImageUpload","SimpleForm","SimpleFormFooter","SimpleFormContent","SimpleFormHeader","PageBuilderSettings","showSnackbar","query","data","queryInProgress","loading","settings","mutation","update","mutationInProgress","variables","Bind","form","submit"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,cAArB;AACA,SAASC,IAAT,EAAeC,IAAf,QAA2B,iBAA3B;AACA,SAASC,aAAT,QAA8B,mBAA9B;AACA,SAASC,KAAT,EAAgBC,QAAhB,QAAgC,cAAhC;AACA,SAASC,WAAT,QAA4B,qCAA5B;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,iBAAT,QAAkC,6DAAlC;AACA,SAASC,gBAAT,QAAiC,qBAAjC;AACA,OAAOC,iBAAP,MAA8B,gDAA9B;AAGA,SACIC,UADJ,EAEIC,gBAFJ,EAGIC,iBAHJ,EAIIC,gBAJJ,QAKO,yCALP;;AAOA,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAM;AAAA,qBACLT,WAAW,EADN;AAAA,MACtBU,YADsB,gBACtBA,YADsB;;AAG9B,sBACI,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAET,OAAO,CAACU;AAAtB,KACK,gBAAwC;AAAA,QAArCC,IAAqC,QAArCA,IAAqC;AAAA,QAAtBC,eAAsB,QAA/BC,OAA+B;AACrC,QAAMC,QAAQ,GAAG,KAAIH,IAAJ,EAAU,8BAAV,KAA6C,EAA9D;AAEA,wBACI,oBAAC,QAAD;AAAU,MAAA,QAAQ,EAAEX,OAAO,CAACe;AAA5B,OACK,UAACC,MAAD;AAAA,UAAoBC,kBAApB,SAAWJ,OAAX;AAAA,0BACG,oBAAC,IAAD;AACI,QAAA,IAAI,EAAEC,QADV;AAEI,QAAA,QAAQ;AAAA,+EAAE,iBAAMH,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BACAK,MAAM,CAAC;AACTE,sBAAAA,SAAS,EAAE;AACPP,wBAAAA,IAAI,EAAJA;AADO;AADF,qBAAD,CADN;;AAAA;AAONF,oBAAAA,YAAY,CAAC,gCAAD,CAAZ;;AAPM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAF;;AAAA;AAAA;AAAA;AAAA;AAFZ,SAYK;AAAA,YAAGU,IAAH,SAAGA,IAAH;AAAA,YAASC,IAAT,SAASA,IAAT;AAAA,4BACG,oBAAC,UAAD,QACK,CAACR,eAAe,IAAIK,kBAApB,kBACG,oBAAC,gBAAD,OAFR,eAII,oBAAC,gBAAD;AAAkB,UAAA,KAAK,EAAC;AAAxB,UAJJ,eAKI,oBAAC,iBAAD,qBACI,oBAAC,IAAD,qBACI,oBAAC,IAAD;AAAM,UAAA,IAAI,EAAE;AAAZ,wBACI,oBAAC,IAAD,qBACI,oBAAC,IAAD;AAAM,UAAA,IAAI,EAAE;AAAZ,wBACI,oBAAC,IAAD;AAAM,UAAA,IAAI,EAAE;AAAZ,wBACI,oBAAC,iBAAD;AACI,UAAA,KAAK,EAAE,UADX;AAEI,UAAA,WAAW;AAFf,UADJ,CADJ,CADJ,eASI,oBAAC,IAAD;AAAM,UAAA,IAAI,EAAE;AAAZ,wBACI,oBAAC,IAAD;AAAM,UAAA,IAAI,EAAE;AAAZ,wBACI,oBAAC,iBAAD;AACI,UAAA,KAAK,EAAE,YADX;AAEI,UAAA,WAAW;AAFf,UADJ,CADJ,CATJ,eAiBI,oBAAC,IAAD;AAAM,UAAA,IAAI,EAAE;AAAZ,wBACI,oBAAC,IAAD;AAAM,UAAA,IAAI,EAAE;AAAZ,wBACI,oBAAC,iBAAD;AACI,UAAA,KAAK,EAAE,sBADX;AAEI,UAAA,WAAW;AAFf,UADJ,CADJ,CAjBJ,CADJ,CADJ,eA8BI,oBAAC,IAAD;AAAM,UAAA,IAAI,EAAE;AAAZ,wBACI,oBAAC,IAAD,qBACI,oBAAC,IAAD;AAAM,UAAA,IAAI,EAAE;AAAZ,wBACI,oBAAC,IAAD;AAAM,UAAA,IAAI,EAAE;AAAZ,wBACI,oBAAC,iBAAD;AACI,UAAA,KAAK,EAAC,0BADV;AAEI,UAAA,WAAW,wEAFf,CAGI;AACA;AACA;AACA;AACA;AACA;AACA;;AATJ,UADJ,CADJ,CADJ,CADJ,CA9BJ,CADJ,CALJ,eAyDI,oBAAC,gBAAD,qBACI,oBAAC,aAAD;AAAe,UAAA,OAAO,EAAEG,IAAI,CAACC;AAA7B,kBADJ,CAzDJ,CADH;AAAA,OAZL,CADH;AAAA,KADL,CADJ;AAoFH,GAxFL,CADJ;AA4FH,CA/FD;;AAiGA,eAAeb,mBAAf","sourcesContent":["import React from \"react\";\nimport { Form } from \"@webiny/form\";\nimport { Grid, Cell } from \"@webiny/ui/Grid\";\nimport { ButtonPrimary } from \"@webiny/ui/Button\";\nimport { Query, Mutation } from \"react-apollo\";\nimport { useSnackbar } from \"@webiny/app-admin/hooks/useSnackbar\";\nimport graphql from \"./graphql\";\nimport { PagesAutocomplete } from \"@webiny/app-page-builder/admin/components/PagesAutocomplete\";\nimport { CircularProgress } from \"@webiny/ui/Progress\";\nimport SingleImageUpload from \"@webiny/app-admin/components/SingleImageUpload\";\nimport { get } from \"lodash\";\n\nimport {\n    SimpleForm,\n    SimpleFormFooter,\n    SimpleFormContent,\n    SimpleFormHeader\n} from \"@webiny/app-admin/components/SimpleForm\";\n\nconst PageBuilderSettings = () => {\n    const { showSnackbar } = useSnackbar();\n\n    return (\n        <Query query={graphql.query}>\n            {({ data, loading: queryInProgress }) => {\n                const settings = get(data, \"pageBuilder.getSettings.data\") || {};\n\n                return (\n                    <Mutation mutation={graphql.mutation}>\n                        {(update, { loading: mutationInProgress }) => (\n                            <Form\n                                data={settings}\n                                onSubmit={async data => {\n                                    await update({\n                                        variables: {\n                                            data\n                                        }\n                                    });\n\n                                    showSnackbar(\"Settings updated successfully.\");\n                                }}\n                            >\n                                {({ Bind, form }) => (\n                                    <SimpleForm>\n                                        {(queryInProgress || mutationInProgress) && (\n                                            <CircularProgress />\n                                        )}\n                                        <SimpleFormHeader title=\"Website Settings\" />\n                                        <SimpleFormContent>\n                                            <Grid>\n                                                <Cell span={6}>\n                                                    <Grid>\n                                                        <Cell span={12}>\n                                                            <Bind name={\"pages.home\"}>\n                                                                <PagesAutocomplete\n                                                                    label={\"Homepage\"}\n                                                                    description={`This is the homepage of your website.`}\n                                                                />\n                                                            </Bind>\n                                                        </Cell>\n                                                        <Cell span={12}>\n                                                            <Bind name={\"pages.error\"}>\n                                                                <PagesAutocomplete\n                                                                    label={\"Error page\"}\n                                                                    description={`Shown when an error occurs during a page load.`}\n                                                                />\n                                                            </Bind>\n                                                        </Cell>\n                                                        <Cell span={12}>\n                                                            <Bind name={\"pages.notFound\"}>\n                                                                <PagesAutocomplete\n                                                                    label={\"Not found (404) page\"}\n                                                                    description={`Shown when the requested page is not found.`}\n                                                                />\n                                                            </Bind>\n                                                        </Cell>\n                                                    </Grid>\n                                                </Cell>\n\n                                                <Cell span={6}>\n                                                    <Grid>\n                                                        <Cell span={12}>\n                                                            <Bind name={\"social.image\"}>\n                                                                <SingleImageUpload\n                                                                    label=\"Default Open Graph image\"\n                                                                    description={`The default OG image for all pages. Recommended resolution 1596x545.`}\n                                                                    // TODO: @adrian\n                                                                    // imageEditor={{\n                                                                    //     crop: {\n                                                                    //         autoEnable: true,\n                                                                    //         aspectRatio: 1596 / 545\n                                                                    //     }\n                                                                    // }}\n                                                                />\n                                                            </Bind>\n                                                        </Cell>\n                                                    </Grid>\n                                                </Cell>\n                                            </Grid>\n                                        </SimpleFormContent>\n                                        <SimpleFormFooter>\n                                            <ButtonPrimary onClick={form.submit}>\n                                                Save\n                                            </ButtonPrimary>\n                                        </SimpleFormFooter>\n                                    </SimpleForm>\n                                )}\n                            </Form>\n                        )}\n                    </Mutation>\n                );\n            }}\n        </Query>\n    );\n};\n\nexport default PageBuilderSettings;\n"],"file":"PageBuilderSettings.js"}