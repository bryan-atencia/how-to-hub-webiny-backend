{"version":3,"sources":["../../../src/editor/components/withActiveElement.ts"],"names":["connect","getActiveElementId","getElement","getElementWithChildren","withActiveElement","propName","shallow","keys","decorator","Component","state","elementId","element","length","reduce","el","key"],"mappings":";AACA,SAASA,OAAT,QAAwB,uCAAxB;AACA,SACIC,kBADJ,EAEIC,UAFJ,EAGIC,sBAHJ,QAIO,2CAJP;AAMA,OAAO,SAASC,iBAAT,GAAsF;AAAA,iFAAJ,EAAI;AAAA,2BAAzDC,QAAyD;AAAA,MAAzDA,QAAyD,8BAA9C,SAA8C;AAAA,0BAAnCC,OAAmC;AAAA,MAAnCA,OAAmC,6BAAzB,KAAyB;AAAA,uBAAlBC,IAAkB;AAAA,MAAlBA,IAAkB,0BAAX,EAAW;;AACzF,SAAO,SAASC,SAAT,CAAmBC,SAAnB,EAAwD;AAC3D,WAAOT,OAAO,CAAgB,UAAAU,KAAK,EAAI;AACnC,UAAMC,SAAS,GAAGV,kBAAkB,CAACS,KAAD,CAApC;;AACA,UAAI,CAACC,SAAL,EAAgB;AACZ,mCAAUN,QAAV,EAAqB,IAArB;AACH;;AAED,UAAMO,OAAO,GAAGN,OAAO,GACjBJ,UAAU,CAACQ,KAAD,EAAQC,SAAR,CADO,GAEjBR,sBAAsB,CAACO,KAAD,EAAQC,SAAR,CAF5B;;AAIA,UAAIJ,IAAI,CAACM,MAAL,GAAc,CAAlB,EAAqB;AACjB,mCACKR,QADL,EACgBE,IAAI,CAACO,MAAL,CAAY,UAACC,EAAD,EAAKC,GAAL,EAAa;AACjCD,UAAAA,EAAE,CAACC,GAAD,CAAF,GAAUJ,OAAO,CAACI,GAAD,CAAjB;AACA,iBAAOD,EAAP;AACH,SAHW,EAGT,EAHS,CADhB;AAMH;;AAED,iCAAUV,QAAV,EAAqBO,OAArB;AACH,KApBa,CAAP,CAoBJH,SApBI,CAAP;AAqBH,GAtBD;AAuBH","sourcesContent":["import * as React from \"react\";\nimport { connect } from \"@webiny/app-page-builder/editor/redux\";\nimport {\n    getActiveElementId,\n    getElement,\n    getElementWithChildren\n} from \"@webiny/app-page-builder/editor/selectors\";\n\nexport function withActiveElement({ propName = \"element\", shallow = false, keys = [] } = {}) {\n    return function decorator(Component: React.ComponentType<any>) {\n        return connect<any, any, any>(state => {\n            const elementId = getActiveElementId(state);\n            if (!elementId) {\n                return { [propName]: null };\n            }\n\n            const element = shallow\n                ? getElement(state, elementId)\n                : getElementWithChildren(state, elementId);\n\n            if (keys.length > 0) {\n                return {\n                    [propName]: keys.reduce((el, key) => {\n                        el[key] = element[key];\n                        return el;\n                    }, {})\n                };\n            }\n\n            return { [propName]: element };\n        })(Component);\n    };\n}\n"],"file":"withActiveElement.js"}