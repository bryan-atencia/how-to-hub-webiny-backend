{"version":3,"sources":["../../../src/editor/components/Resizer.ts"],"names":["React","Resizer","dragging","e","props","axis","pageX","pageY","preventDefault","stopPropagation","startPosition","getMousePosition","setState","document","addEventListener","onMouseMove","onMouseUp","onResizeStart","state","onResizeStop","mousePosition","onResize","children","isResizing","onMouseDown","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAoD,OAApD;;IAUMC,O;;;;;;;;;;;;;;;;4DACM;AACJC,MAAAA,QAAQ,EAAE;AADN,K;;;;uEAMW,UAAAC,CAAC,EAAI;AACpB,aAAO,MAAKC,KAAL,CAAWC,IAAX,KAAoB,GAApB,GAA0BF,CAAC,CAACG,KAA5B,GAAoCH,CAAC,CAACI,KAA7C;AACH,K;;kEAEa,UAACJ,CAAD,EAAuB;AACjCA,MAAAA,CAAC,CAACK,cAAF;AACAL,MAAAA,CAAC,CAACM,eAAF;AACA,YAAKC,aAAL,GAAqB,MAAKC,gBAAL,CAAsBR,CAAtB,CAArB;;AACA,YAAKS,QAAL,CACI;AACIV,QAAAA,QAAQ,EAAE;AADd,OADJ,EAII,YAAM;AACFW,QAAAA,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuC,MAAKC,WAA5C;AACAF,QAAAA,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAqC,MAAKE,SAA1C;AACH,OAPL;;AASA,YAAKZ,KAAL,CAAWa,aAAX;AACH,K;;gEAEW,YAAM;AACd,UAAI,MAAKC,KAAL,CAAWhB,QAAf,EAAyB;AACrB,cAAKU,QAAL,CAAc;AAAEV,UAAAA,QAAQ,EAAE;AAAZ,SAAd;;AACA,cAAKE,KAAL,CAAWe,YAAX;AACH;AACJ,K;;kEAEa,UAAAhB,CAAC,EAAI;AACf,UAAI,CAAC,MAAKe,KAAL,CAAWhB,QAAhB,EAA0B;AACtB;AACH;;AAED,UAAMkB,aAAa,GAAG,MAAKT,gBAAL,CAAsBR,CAAtB,CAAtB;;AACA,YAAKC,KAAL,CAAWiB,QAAX,CAAoB,MAAKX,aAAL,GAAqBU,aAAzC;;AACA,YAAKV,aAAL,GAAqBU,aAArB;AACH,K;;;;;;;6BAEQ;AACL,aAAO,KAAKhB,KAAL,CAAWkB,QAAX,CAAoB;AACvBC,QAAAA,UAAU,EAAE,KAAKL,KAAL,CAAWhB,QADA;AAEvBsB,QAAAA,WAAW,EAAE,KAAKA;AAFK,OAApB,CAAP;AAIH;;;;EAjDiBxB,KAAK,CAACyB,S;;AAoD5B,eAAexB,OAAf","sourcesContent":["import React, { ReactElement, SyntheticEvent } from \"react\";\n\ntype ResizerProps = {\n    axis: \"x\" | \"y\";\n    onResizeStart?: () => void;\n    onResizeStop?: () => void;\n    onResize(position: number): void;\n    children(params: { isResizing: boolean; onMouseDown(e: SyntheticEvent): void }): ReactElement;\n};\n\nclass Resizer extends React.Component<ResizerProps> {\n    state = {\n        dragging: false\n    };\n\n    startPosition: number;\n\n    getMousePosition = e => {\n        return this.props.axis === \"x\" ? e.pageX : e.pageY;\n    };\n\n    onMouseDown = (e: SyntheticEvent) => {\n        e.preventDefault();\n        e.stopPropagation();\n        this.startPosition = this.getMousePosition(e);\n        this.setState(\n            {\n                dragging: true\n            },\n            () => {\n                document.addEventListener(\"mousemove\", this.onMouseMove);\n                document.addEventListener(\"mouseup\", this.onMouseUp);\n            }\n        );\n        this.props.onResizeStart();\n    };\n\n    onMouseUp = () => {\n        if (this.state.dragging) {\n            this.setState({ dragging: false });\n            this.props.onResizeStop();\n        }\n    };\n\n    onMouseMove = e => {\n        if (!this.state.dragging) {\n            return;\n        }\n\n        const mousePosition = this.getMousePosition(e);\n        this.props.onResize(this.startPosition - mousePosition);\n        this.startPosition = mousePosition;\n    };\n\n    render() {\n        return this.props.children({\n            isResizing: this.state.dragging,\n            onMouseDown: this.onMouseDown\n        });\n    }\n}\n\nexport default Resizer;\n"],"file":"Resizer.js"}