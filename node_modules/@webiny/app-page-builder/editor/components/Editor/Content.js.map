{"version":3,"sources":["../../../../src/editor/components/Editor/Content.tsx"],"names":["React","get","connect","styled","css","getPlugins","usePageBuilder","getContent","isPluginActive","getPage","Element","Elevation","ContentContainer","theme","backgroundColor","overflowY","overflowX","contentContainerWrapper","margin","padding","position","width","top","boxSizing","zIndex","BaseContainer","left","Content","rootElement","renderLayout","layout","plugins","layouts","useMemo","map","pl","themeLayout","find","l","name","content","id","createElement","component","plugin","cloneElement","render","key","stateToProps","state","elements"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { get } from \"dot-prop-immutable\";\nimport { connect } from \"@webiny/app-page-builder/editor/redux\";\nimport styled from \"@emotion/styled\";\nimport { css } from \"emotion\";\nimport { getPlugins } from \"@webiny/plugins\";\nimport { usePageBuilder } from \"@webiny/app-page-builder/hooks/usePageBuilder\";\nimport { getContent, isPluginActive, getPage } from \"@webiny/app-page-builder/editor/selectors\";\nimport Element from \"@webiny/app-page-builder/editor/components/Element\";\nimport { Elevation } from \"@webiny/ui/Elevation\";\nimport { PbPageLayoutPlugin } from \"@webiny/app-page-builder/types\";\nimport { PbEditorContentPlugin } from \"@webiny/app-page-builder/types\";\n\nconst ContentContainer = styled(\"div\")(({ theme }) => ({\n    backgroundColor: get(theme, \"colors.background\"),\n    \".webiny-pb-page-document\": {\n        overflowY: \"visible\", // cuts off the block selector tooltip\n        overflowX: \"visible\"\n    }\n}));\n\nconst contentContainerWrapper = css({\n    margin: \"95px 65px 50px 85px\",\n    padding: 0,\n    position: \"absolute\",\n    width: \"calc(100vw - 115px)\",\n    //overflow: \"hidden\", // cuts off the block selector tooltip\n    top: 0,\n    boxSizing: \"border-box\",\n    zIndex: 1\n});\n\nconst BaseContainer = styled(\"div\")({\n    width: \"100%\",\n    left: 52,\n    margin: \"0 auto\"\n});\n\nconst Content = ({ rootElement, renderLayout, layout }) => {\n    const { theme } = usePageBuilder();\n    const plugins = getPlugins<PbEditorContentPlugin>(\"pb-editor-content\");\n\n    const layouts = React.useMemo(() => {\n        const plugins = getPlugins<PbPageLayoutPlugin>(\"pb-page-layout\");\n        return plugins.map(pl => pl.layout);\n    }, []);\n\n    const themeLayout = layouts.find(l => l.name === layout);\n\n    if (renderLayout && !themeLayout) {\n        return <div>Layout &quot;{layout}&quot; was not found in your theme!</div>;\n    }\n\n    let content = <Element id={rootElement.id} />;\n\n    content = renderLayout ? React.createElement(themeLayout.component, null, content) : content;\n\n    return (\n        <Elevation className={contentContainerWrapper} z={2}>\n            <ContentContainer theme={theme}>\n                {plugins.map(plugin => React.cloneElement(plugin.render(), { key: plugin.name }))}\n                <BaseContainer className={\"webiny-pb-editor-content-preview\"}>\n                    {content}\n                </BaseContainer>\n            </ContentContainer>\n        </Elevation>\n    );\n};\n\nconst stateToProps = state => ({\n    rootElement: state.elements[getContent(state).id],\n    layout: get(getPage(state), \"settings.general.layout\"),\n    renderLayout: isPluginActive(\"pb-editor-toolbar-preview\")(state)\n});\n\nexport default connect<any, any, any>(stateToProps)(Content);\n"],"file":"Content.js"}