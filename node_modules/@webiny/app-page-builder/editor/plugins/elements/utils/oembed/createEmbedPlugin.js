import _objectSpread from "@babel/runtime/helpers/objectSpread2";
import _objectWithoutProperties from "@babel/runtime/helpers/objectWithoutProperties";
import * as React from "react";
import OEmbed from "@webiny/app-page-builder/editor/components/OEmbed";
export var createEmbedPlugin = function createEmbedPlugin(config) {
  return {
    name: "pb-editor-page-element-" + config.type,
    type: "pb-editor-page-element",
    elementType: config.type,
    toolbar: config.toolbar,
    settings: config.settings || ["pb-editor-page-element-settings-delete", ""],
    target: config.target || ["column", "row", "list-item"],
    // eslint-disable-next-line
    create: function create(_ref) {
      var _ref$content = _ref.content,
          content = _ref$content === void 0 ? {} : _ref$content,
          options = _objectWithoutProperties(_ref, ["content"]);

      return _objectSpread({
        type: config.type,
        elements: [],
        data: {
          settings: {
            margin: {
              desktop: {
                all: 0
              },
              mobile: {
                all: 0
              }
            },
            padding: {
              desktop: {
                all: 0
              },
              mobile: {
                all: 0
              }
            }
          }
        }
      }, options);
    },
    render: function render(props) {
      if (config.render) {
        return config.render(props);
      }

      return /*#__PURE__*/React.createElement(OEmbed, Object.assign({
        element: props.element
      }, config.oembed || {}));
    },
    onCreate: config.onCreate || "open-settings",
    renderElementPreview: config.renderElementPreview
  };
};
export var createEmbedSettingsPlugin = function createEmbedSettingsPlugin(_ref2) {
  var type = _ref2.type,
      render = _ref2.render;
  return {
    name: "pb-editor-page-element-advanced-settings-" + type,
    type: "pb-editor-page-element-advanced-settings",
    elementType: type,
    render: render
  };
};
//# sourceMappingURL=createEmbedPlugin.js.map