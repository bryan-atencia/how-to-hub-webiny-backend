{"version":3,"sources":["../../../../../src/editor/plugins/elements/column/ColumnChild.tsx"],"names":["React","isEqual","useHandler","connect","DropZone","Element","dropElement","getElement","ColumnChild","props","target","element","last","dropElementAbove","index","source","position","dropElementBelow","count","width","type","id","state","areStatePropsEqual","memo"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,gBAApB;AACA,SAASC,UAAT,QAA2B,8BAA3B;AACA,SAASC,OAAT,QAAwB,uCAAxB;AACA,OAAOC,QAAP,MAAqB,qDAArB;AACA,OAAOC,OAAP,MAAoB,oDAApB;AACA,SAASC,WAAT,QAA4B,yCAA5B;AACA,SAASC,UAAT,QAA2B,2CAA3B;;AAYA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAA6B;AAAA,MACrCC,MADqC,GACHD,KADG,CACrCC,MADqC;AAAA,MAC7BC,OAD6B,GACHF,KADG,CAC7BE,OAD6B;AAAA,oBACHF,KADG,CACpBG,IADoB;AAAA,MACpBA,IADoB,4BACb,KADa;AAG7C,MAAMC,gBAAgB,GAAGX,UAAU,CAACO,KAAD,EAAQ;AAAA,QAAGK,KAAH,QAAGA,KAAH;AAAA,QAAUJ,MAAV,QAAUA,MAAV;AAAA,QAAkBJ,WAAlB,QAAkBA,WAAlB;AAAA,WAAoC,UAAAS,MAAM,EAAI;AACrFT,MAAAA,WAAW,CAAC;AAAES,QAAAA,MAAM,EAANA,MAAF;AAAUL,QAAAA,MAAM,kCAAOA,MAAP;AAAeM,UAAAA,QAAQ,EAAEF;AAAzB;AAAhB,OAAD,CAAX;AACH,KAF0C;AAAA,GAAR,CAAnC;AAIA,MAAMG,gBAAgB,GAAGf,UAAU,CAACO,KAAD,EAAQ;AAAA,QAAGH,WAAH,SAAGA,WAAH;AAAA,QAAgBY,KAAhB,SAAgBA,KAAhB;AAAA,QAAuBR,MAAvB,SAAuBA,MAAvB;AAAA,WAAoC,UAAAK,MAAM,EAAI;AACrFT,MAAAA,WAAW,CAAC;AAAES,QAAAA,MAAM,EAANA,MAAF;AAAUL,QAAAA,MAAM,kCAAOA,MAAP;AAAeM,UAAAA,QAAQ,EAAEE;AAAzB;AAAhB,OAAD,CAAX;AACH,KAF0C;AAAA,GAAR,CAAnC;AAIA,sBACI;AAAK,IAAA,KAAK,EAAE;AAAEC,MAAAA,KAAK,EAAE,MAAT;AAAiBH,MAAAA,QAAQ,EAAE;AAA3B;AAAZ,kBACI,oBAAC,QAAD,CAAU,KAAV;AAAgB,IAAA,IAAI,EAAEN,MAAM,CAACU,IAA7B;AAAmC,IAAA,MAAM,EAAEP;AAA3C,IADJ,eAEI,oBAAC,OAAD;AAAS,IAAA,EAAE,EAAEF,OAAO,CAACU;AAArB,IAFJ,EAGKT,IAAI,iBAAI,oBAAC,QAAD,CAAU,KAAV;AAAgB,IAAA,IAAI,EAAEF,MAAM,CAACU,IAA7B;AAAmC,IAAA,MAAM,EAAEH;AAA3C,IAHb,CADJ;AAOH,CAlBD;;AAoBA,eAAed,OAAO,CAClB,UAACmB,KAAD,EAAQb,KAAR;AAAA,SAAmB;AACfE,IAAAA,OAAO,EAAEJ,UAAU,CAACe,KAAD,EAAQb,KAAK,CAACY,EAAd;AADJ,GAAnB;AAAA,CADkB,EAIlB;AAAEf,EAAAA,WAAW,EAAXA;AAAF,CAJkB,EAKlB,IALkB,EAMlB;AAAEiB,EAAAA,kBAAkB,EAAEtB;AAAtB,CANkB,CAAP,eAObD,KAAK,CAACwB,IAAN,CAAWhB,WAAX,CAPa,CAAf","sourcesContent":["import React from \"react\";\nimport isEqual from \"lodash/isEqual\";\nimport { useHandler } from \"@webiny/app/hooks/useHandler\";\nimport { connect } from \"@webiny/app-page-builder/editor/redux\";\nimport DropZone from \"@webiny/app-page-builder/editor/components/DropZone\";\nimport Element from \"@webiny/app-page-builder/editor/components/Element\";\nimport { dropElement } from \"@webiny/app-page-builder/editor/actions\";\nimport { getElement } from \"@webiny/app-page-builder/editor/selectors\";\nimport { PbElement } from \"@webiny/app-page-builder/types\";\n\ntype ColumnChildProps = {\n    element: PbElement;\n    index: number;\n    last: boolean;\n    target: { type: string };\n    dropElementAbove: Function;\n    dropElementBelow: Function;\n};\n\nconst ColumnChild = (props: ColumnChildProps) => {\n    const { target, element, last = false } = props;\n\n    const dropElementAbove = useHandler(props, ({ index, target, dropElement }) => source => {\n        dropElement({ source, target: { ...target, position: index } });\n    });\n\n    const dropElementBelow = useHandler(props, ({ dropElement, count, target }) => source => {\n        dropElement({ source, target: { ...target, position: count } });\n    });\n\n    return (\n        <div style={{ width: \"100%\", position: \"relative\" }}>\n            <DropZone.Above type={target.type} onDrop={dropElementAbove} />\n            <Element id={element.id} />\n            {last && <DropZone.Below type={target.type} onDrop={dropElementBelow} />}\n        </div>\n    );\n};\n\nexport default connect<any, any, any>(\n    (state, props) => ({\n        element: getElement(state, props.id)\n    }),\n    { dropElement },\n    null,\n    { areStatePropsEqual: isEqual }\n)(React.memo(ColumnChild));\n"],"file":"ColumnChild.js"}