{"version":3,"sources":["../../../../../src/editor/plugins/elements/imagesList/ImagesListImagesSettings.tsx"],"names":["React","css","sortable","FileManager","Grid","Cell","ButtonPrimary","File","style","addImagesButton","clear","padding","textAlign","liItem","display","Item","props","children","Component","SortableItem","ImagesListImagesSettings","Bind","form","onChange","value","files","Array","isArray","showFileManager","map","item","i","setState","state","next","data","images","splice"],"mappings":";;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,GAAT,QAAoB,SAApB;AACA,SAASC,QAAT,QAAyB,gBAAzB;AACA,SAASC,WAAT,QAA4B,8BAA5B;AACA,SAASC,IAAT,EAAeC,IAAf,QAA2B,iBAA3B;AACA,SAASC,aAAT,QAA8B,mBAA9B;AACA,OAAOC,IAAP,MAAiB,QAAjB;AAEA,IAAMC,KAAK,GAAG;AACVC,EAAAA,eAAe,eAAER,GAAG,CAAC;AAAES,IAAAA,KAAK,EAAE,MAAT;AAAiBC,IAAAA,OAAO,EAAE,WAA1B;AAAuCC,IAAAA,SAAS,EAAE;AAAlD,GAAD,2BADV;AAEVC,EAAAA,MAAM,EAAE;AACJC,IAAAA,OAAO,EAAE;AADL;AAFE,CAAd;;IAOMC,I;;;;;;;;;;;;;6BACO;AACL,0BACI;AAAI,QAAA,KAAK,EAAEP,KAAK,CAACK;AAAjB,SAA6B,KAAKG,KAAlC,GACK,KAAKA,KAAL,CAAWC,QADhB,CADJ;AAKH;;;;EAPcjB,KAAK,CAACkB,S;;AAUzB,IAAMC,YAAY,GAAGjB,QAAQ,CAACa,IAAD,CAA7B;;AAEA,IAAMK,wBAAwB,GAAG,SAA3BA,wBAA2B,CAAAJ,KAAK,EAAI;AAAA,MAC9BK,IAD8B,GACfL,KADe,CAC9BK,IAD8B;AAAA,MACxBC,IADwB,GACfN,KADe,CACxBM,IADwB;AAEtC,sBACI,oBAAC,KAAD,CAAO,QAAP,qBACI,oBAAC,IAAD,qBACI,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAE;AAAZ,kBACI,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAE;AAAZ,KACK;AAAA,QAAGC,SAAH,QAAGA,QAAH;AAAA,QAAaC,KAAb,QAAaA,KAAb;AAAA,wBACG,oBAAC,WAAD;AACI,MAAA,MAAM,MADV;AAEI,MAAA,QAAQ,MAFZ;AAGI,MAAA,QAAQ,EAAE,kBAAAC,KAAK,EAAI;AACfC,QAAAA,KAAK,CAACC,OAAN,CAAcH,KAAd,IACMD,SAAQ,8BAAKC,KAAL,sBAAeC,KAAf,GADd,GAEMF,SAAQ,oBAAKE,KAAL,EAFd;AAGH;AAPL,OASK;AAAA,UAAGG,eAAH,SAAGA,eAAH;AAAA,0BACG,uDACI;AAAI,QAAA,SAAS,EAAC;AAAd,SACKF,KAAK,CAACC,OAAN,CAAcH,KAAd,KACGA,KAAK,CAACK,GAAN,CAAU,UAACC,IAAD,EAAOC,CAAP;AAAA,4BACN,oBAAC,YAAD;AACI,UAAA,GAAG,EAAEA,CADT;AAEI,UAAA,WAAW,EAAER,SAFjB;AAGI,UAAA,KAAK,EAAEC,KAHX;AAII,UAAA,MAAM,EAAEO;AAJZ,wBAMI,oBAAC,IAAD;AACI,UAAA,IAAI,EAAED,IADV;AAEI,UAAA,QAAQ,EAAE;AAAA,mBACNR,IAAI,CAACU,QAAL,CAAc,UAAAC,KAAK,EAAI;AACnB,kBAAMC,IAAI,qBACHD,KADG,CAAV;;AAGAC,cAAAA,IAAI,CAACC,IAAL,CAAUC,MAAV,CAAiBC,MAAjB,CAAwBN,CAAxB,EAA2B,CAA3B;AACA,qBAAOG,IAAP;AACH,aAND,CADM;AAAA;AAFd,UANJ,CADM;AAAA,OAAV,CAFR,CADJ,eAyBI;AAAK,QAAA,SAAS,EAAE1B,KAAK,CAACC;AAAtB,sBACI,oBAAC,aAAD;AAAe,QAAA,OAAO,EAAEmB;AAAxB,yBADJ,CAzBJ,CADH;AAAA,KATL,CADH;AAAA,GADL,CADJ,CADJ,CADJ,CADJ;AAuDH,CAzDD;;AA2DA,eAAeR,wBAAf","sourcesContent":["import * as React from \"react\";\nimport { css } from \"emotion\";\nimport { sortable } from \"react-sortable\";\nimport { FileManager } from \"@webiny/app-admin/components\";\nimport { Grid, Cell } from \"@webiny/ui/Grid\";\nimport { ButtonPrimary } from \"@webiny/ui/Button\";\nimport File from \"./File\";\n\nconst style = {\n    addImagesButton: css({ clear: \"both\", padding: \"20px 10px\", textAlign: \"center\" }),\n    liItem: {\n        display: \"inline-block\"\n    }\n};\n\nclass Item extends React.Component {\n    render() {\n        return (\n            <li style={style.liItem} {...this.props}>\n                {this.props.children}\n            </li>\n        );\n    }\n}\n\nconst SortableItem = sortable(Item);\n\nconst ImagesListImagesSettings = props => {\n    const { Bind, form } = props;\n    return (\n        <React.Fragment>\n            <Grid>\n                <Cell span={12}>\n                    <Bind name={\"images\"}>\n                        {({ onChange, value }) => (\n                            <FileManager\n                                images\n                                multiple\n                                onChange={files => {\n                                    Array.isArray(value)\n                                        ? onChange([...value, ...files])\n                                        : onChange([...files]);\n                                }}\n                            >\n                                {({ showFileManager }) => (\n                                    <>\n                                        <ul className=\"sortable-list\">\n                                            {Array.isArray(value) &&\n                                                value.map((item, i) => (\n                                                    <SortableItem\n                                                        key={i}\n                                                        onSortItems={onChange}\n                                                        items={value}\n                                                        sortId={i}\n                                                    >\n                                                        <File\n                                                            file={item}\n                                                            onRemove={() =>\n                                                                form.setState(state => {\n                                                                    const next = {\n                                                                        ...state\n                                                                    };\n                                                                    next.data.images.splice(i, 1);\n                                                                    return next;\n                                                                })\n                                                            }\n                                                        />\n                                                    </SortableItem>\n                                                ))}\n                                        </ul>\n                                        <div className={style.addImagesButton}>\n                                            <ButtonPrimary onClick={showFileManager}>\n                                                Add images...\n                                            </ButtonPrimary>\n                                        </div>\n                                    </>\n                                )}\n                            </FileManager>\n                        )}\n                    </Bind>\n                </Cell>\n            </Grid>\n        </React.Fragment>\n    );\n};\n\nexport default ImagesListImagesSettings;\n"],"file":"ImagesListImagesSettings.js"}