{"version":3,"sources":["../../../../../src/editor/plugins/elements/image/ImageSettings.tsx"],"names":["React","useMemo","useCallback","connect","set","Tabs","Tab","updateElement","getActiveElement","Input","ImageSettings","element","image","setData","historyUpdated","name","value","attrKey","newElement","updateTitle","updateWidth","updateHeight","title","width","height","state"],"mappings":"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","sourcesContent":["import React, { useMemo, useCallback } from \"react\";\nimport { connect } from \"@webiny/app-page-builder/editor/redux\";\nimport { set } from \"dot-prop-immutable\";\nimport { get } from \"lodash\";\nimport { Tabs, Tab } from \"@webiny/ui/Tabs\";\nimport { updateElement } from \"@webiny/app-page-builder/editor/actions\";\nimport { getActiveElement } from \"@webiny/app-page-builder/editor/selectors\";\nimport Input from \"@webiny/app-page-builder/editor/plugins/elementSettings/components/Input\";\nimport { ReactComponent as ImageIcon } from \"./round-image-24px.svg\";\n\nconst ImageSettings = ({ element, updateElement }) => {\n    const { image = {} } = get(element, \"data\", {});\n\n    const setData = useMemo(() => {\n        const historyUpdated = {};\n\n        return (name, value) => {\n            const attrKey = `data.image.${name}`;\n            const newElement = set(element, attrKey, value);\n\n            if (historyUpdated[name] !== value) {\n                historyUpdated[name] = value;\n                updateElement({ element: newElement });\n            }\n        };\n    }, [element, updateElement]);\n\n    const updateTitle = useCallback(value => setData(\"title\", value), [setData]);\n    const updateWidth = useCallback(value => setData(\"width\", value), [setData]);\n    const updateHeight = useCallback(value => setData(\"height\", value), [setData]);\n\n    return (\n        <Tabs>\n            <Tab icon={<ImageIcon />} label=\"Image\">\n                <Input\n                    label=\"Title\"\n                    value={image.title || \"\"}\n                    updateValue={updateTitle}\n                    inputWidth={\"max-content\"}\n                />\n                <Input\n                    label=\"Width\"\n                    placeholder=\"auto\"\n                    description=\"eg. 300 or 50%\"\n                    value={image.width || \"\"}\n                    updateValue={updateWidth}\n                    inputWidth={80}\n                />\n                <Input\n                    label=\"Height\"\n                    placeholder=\"auto\"\n                    description=\"eg. 300 or 50%\"\n                    value={image.height || \"\"}\n                    updateValue={updateHeight}\n                    inputWidth={80}\n                />\n            </Tab>\n        </Tabs>\n    );\n};\n\nexport default connect<any, any, any>(\n    state => ({ element: getActiveElement(state) }),\n    { updateElement }\n)(ImageSettings);\n"],"file":"ImageSettings.js"}