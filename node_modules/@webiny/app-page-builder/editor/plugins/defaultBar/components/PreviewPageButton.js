import _isEqual from "lodash/isEqual";
import _omit from "lodash/omit";
import React from "react";
import { connect } from "@webiny/app-page-builder/editor/redux";
import { getPage } from "@webiny/app-page-builder/editor/selectors";
import { MenuItem } from "@webiny/ui/Menu";
import { usePageBuilderSettings } from "@webiny/app-page-builder/admin/hooks/usePageBuilderSettings";
import { ListItemGraphic } from "@webiny/ui/List";
import { Icon } from "@webiny/ui/Icon";
import { ReactComponent as PreviewIcon } from "@svgr/webpack!@webiny/app-page-builder/admin/assets/visibility.svg";
var openTarget = window.Cypress ? "_self" : "_blank";

var PreviewPageButton = function PreviewPageButton(_ref) {
  var page = _ref.page;

  var _usePageBuilderSettin = usePageBuilderSettings(),
      getPagePreviewUrl = _usePageBuilderSettin.getPagePreviewUrl;

  return /*#__PURE__*/React.createElement(MenuItem, {
    onClick: function onClick() {
      return window.open(getPagePreviewUrl(page), openTarget);
    },
    "data-testid": "pb-editor-page-options-menu-preview"
  }, /*#__PURE__*/React.createElement(ListItemGraphic, null, /*#__PURE__*/React.createElement(Icon, {
    icon: /*#__PURE__*/React.createElement(PreviewIcon, null)
  })), "Preview");
};

export default connect(function (state) {
  return {
    page: _omit(getPage(state), ["content"])
  };
}, null, null, {
  areStatePropsEqual: _isEqual
})(PreviewPageButton);
//# sourceMappingURL=PreviewPageButton.js.map