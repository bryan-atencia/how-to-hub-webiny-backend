{"version":3,"sources":["../../../../../src/editor/plugins/slate/link/utils.ts"],"names":["TYPE","isLink","i","type","getLinkRange","change","selection","select","link","value","inlines","find","firstText","getFirstText","lastText","getLastText","anchor","path","document","getPath","key","offset","focus","text","length"],"mappings":"AAAA,OAAO,IAAMA,IAAI,GAAG,MAAb;AAEP,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAS,CAAAC,CAAC;AAAA,SAAIA,CAAC,CAACC,IAAF,KAAWH,IAAf;AAAA,CAAhB;AAEP,OAAO,IAAMI,YAAY,GAAG,SAAfA,YAAe,CAACC,MAAD,EAASC,SAAT,EAAuB;AAC/CD,EAAAA,MAAM,CAACE,MAAP,CAAcD,SAAd;AACA,MAAME,IAAI,GAAGH,MAAM,CAACI,KAAP,CAAaC,OAAb,CAAqBC,IAArB,CAA0BV,MAA1B,CAAb;;AACA,MAAI,CAACO,IAAL,EAAW;AACP,WAAOF,SAAP;AACH,GAL8C,CAM/C;;;AACA,MAAMM,SAAS,GAAGJ,IAAI,CAACK,YAAL,EAAlB;AACA,MAAMC,QAAQ,GAAGN,IAAI,CAACO,WAAL,EAAjB;AACA,SAAO;AACHC,IAAAA,MAAM,EAAE;AACJC,MAAAA,IAAI,EAAEZ,MAAM,CAACI,KAAP,CAAaS,QAAb,CAAsBC,OAAtB,CAA8BP,SAAS,CAACQ,GAAxC,CADF;AAEJC,MAAAA,MAAM,EAAE;AAFJ,KADL;AAKHC,IAAAA,KAAK,EAAE;AACHL,MAAAA,IAAI,EAAEZ,MAAM,CAACI,KAAP,CAAaS,QAAb,CAAsBC,OAAtB,CAA8BL,QAAQ,CAACM,GAAvC,CADH;AAEHC,MAAAA,MAAM,EAAEP,QAAQ,CAACS,IAAT,CAAcC;AAFnB;AALJ,GAAP;AAUH,CAnBM","sourcesContent":["export const TYPE = \"link\";\n\nexport const isLink = i => i.type === TYPE;\n\nexport const getLinkRange = (change, selection) => {\n    change.select(selection);\n    const link = change.value.inlines.find(isLink);\n    if (!link) {\n        return selection;\n    }\n    // Create full link range\n    const firstText = link.getFirstText();\n    const lastText = link.getLastText();\n    return {\n        anchor: {\n            path: change.value.document.getPath(firstText.key),\n            offset: 0\n        },\n        focus: {\n            path: change.value.document.getPath(lastText.key),\n            offset: lastText.text.length\n        }\n    };\n};\n"],"file":"utils.js"}