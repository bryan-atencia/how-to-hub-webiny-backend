{"version":3,"sources":["../../../../../src/editor/plugins/slate/code/index.tsx"],"names":["React","MARK","hasMark","value","type","Boolean","marks","find","mark","onClickMark","editor","onChange","change","toggleMark","menu","name","render","MenuButton","isActive","slate","renderMark","props","next","attributes","children"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;;AAQA,IAAMC,IAAI,GAAG,MAAb;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,KAAD,EAAeC,IAAf,EAAyC;AACrD,SAAOC,OAAO,CAACF,KAAK,CAACG,KAAN,CAAYC,IAAZ,CAAiB,UAAAC,IAAI;AAAA,WAAIA,IAAI,CAACJ,IAAL,KAAcA,IAAlB;AAAA,GAArB,CAAD,CAAd;AACH,CAFD;;AAIA,IAAMK,WAAW,GAAG,SAAdA,WAAc,CAACL,IAAD,EAAOM,MAAP,EAAeC,QAAf,EAA4B;AAC5CD,EAAAA,MAAM,CAACE,MAAP,CAAc,UAAAA,MAAM;AAAA,WAAID,QAAQ,CAACC,MAAM,CAACC,UAAP,CAAkBT,IAAlB,CAAD,CAAZ;AAAA,GAApB;AACH,CAFD;;AAIA,gBAAe,YAAM;AACjB,SAAO;AACHU,IAAAA,IAAI,EAAE,CACF;AACIC,MAAAA,IAAI,EAAE,gCADV;AAEIX,MAAAA,IAAI,EAAE,2BAFV;AAGIY,MAAAA,MAHJ,wBAG6C;AAAA,YAAhCC,UAAgC,QAAhCA,UAAgC;AAAA,YAApBP,MAAoB,QAApBA,MAAoB;AAAA,YAAZC,QAAY,QAAZA,QAAY;AACrC,YAAMO,QAAQ,GAAGhB,OAAO,CAACQ,MAAM,CAACP,KAAR,EAAeF,IAAf,CAAxB;AAEA;AAAA;AACI;AACA,8BAAC,UAAD;AACI,YAAA,OAAO,EAAE;AAAA,qBAAMQ,WAAW,CAACR,IAAD,EAAOS,MAAP,EAAeC,QAAf,CAAjB;AAAA,aADb;AAEI,YAAA,MAAM,EAAEO;AAFZ,0BAII,oBAAC,QAAD,OAJJ;AAFJ;AASH;AAfL,KADE,CADH;AAoBHR,IAAAA,MAAM,EAAE,CACJ;AACIK,MAAAA,IAAI,EAAE,6BADV;AAEIX,MAAAA,IAAI,EAAE,wBAFV;AAGIe,MAAAA,KAAK,EAAE;AACHC,QAAAA,UADG,sBACQC,KADR,EACeX,MADf,EACuBY,IADvB,EAC6B;AAC5B,cAAID,KAAK,CAACb,IAAN,CAAWJ,IAAX,KAAoBH,IAAxB,EAA8B;AAC1B,gCACI;AAAM,cAAA,SAAS,EAAE;AAAjB,eAAkDoB,KAAK,CAACE,UAAxD,GACKF,KAAK,CAACG,QADX,CADJ;AAKH;;AAED,iBAAOF,IAAI,EAAX;AACH;AAXE;AAHX,KADI;AApBL,GAAP;AAwCH,CAzCD","sourcesContent":["import * as React from \"react\";\nimport { Value } from \"slate\";\nimport { ReactComponent as CodeIcon } from \"@webiny/app-page-builder/editor/assets/icons/code.svg\";\nimport {\n    PbEditorSlateEditorPlugin,\n    PbEditorSlateMenuItemPlugin\n} from \"@webiny/app-page-builder/types\";\n\nconst MARK = \"code\";\n\nconst hasMark = (value: Value, type: string): boolean => {\n    return Boolean(value.marks.find(mark => mark.type === type));\n};\n\nconst onClickMark = (type, editor, onChange) => {\n    editor.change(change => onChange(change.toggleMark(type)));\n};\n\nexport default () => {\n    return {\n        menu: [\n            {\n                name: \"pb-editor-slate-menu-item-code\",\n                type: \"pb-editor-slate-menu-item\",\n                render({ MenuButton, editor, onChange }) {\n                    const isActive = hasMark(editor.value, MARK);\n\n                    return (\n                        // eslint-disable-next-line react/jsx-no-bind\n                        <MenuButton\n                            onClick={() => onClickMark(MARK, editor, onChange)}\n                            active={isActive}\n                        >\n                            <CodeIcon />\n                        </MenuButton>\n                    );\n                }\n            } as PbEditorSlateMenuItemPlugin\n        ],\n        editor: [\n            {\n                name: \"pb-editor-slate-editor-code\",\n                type: \"pb-editor-slate-editor\",\n                slate: {\n                    renderMark(props, editor, next) {\n                        if (props.mark.type === MARK) {\n                            return (\n                                <code className={\"webiny-pb-typography-code\"} {...props.attributes}>\n                                    {props.children}\n                                </code>\n                            );\n                        }\n\n                        return next();\n                    }\n                }\n            } as PbEditorSlateEditorPlugin\n        ]\n    };\n};\n"],"file":"index.js"}