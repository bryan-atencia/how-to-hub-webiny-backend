{"version":3,"sources":["../../../../../src/editor/plugins/elementSettings/link/LinkSettings.tsx"],"names":["React","connect","get","merge","Tabs","Tab","Switch","Input","Grid","Cell","Typography","withActiveElement","DelayedOnChange","updateElement","Form","validation","LinkSettings","data","props","element","attrKey","newElement","historyUpdated","href","newTab","updateSettings","Bind","create","Component"],"mappings":";;;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,OAAT,QAAwB,uCAAxB;AAEA,SAASC,GAAT,EAAcC,KAAd,QAA2B,oBAA3B;AACA,SAASC,IAAT,EAAeC,GAAf,QAA0B,iBAA1B;AACA,SAASC,MAAT,QAAuB,mBAAvB;AACA,SAASC,KAAT,QAAsB,kBAAtB;AACA,SAASC,IAAT,EAAeC,IAAf,QAA2B,iBAA3B;AACA,SAASC,UAAT,QAA2B,uBAA3B;AACA,SAASC,iBAAT,QAAkC,4CAAlC;AACA,SAASC,eAAT,QAAgC,4DAAhC;AACA,SAASC,aAAT,QAA8B,yCAA9B;AACA,SAASC,IAAT,QAAqB,cAArB;AACA,SAASC,UAAT,QAA2B,oBAA3B;;IAEMC,Y;;;;;;;;;;;;;;;;qEACe,E;;qEAEA,UAAAC,IAAI,EAAI;AAAA,wBACc,MAAKC,KADnB;AAAA,UACbC,OADa,eACbA,OADa;AAAA,UACJN,aADI,eACJA,aADI;AAErB,UAAMO,OAAO,cAAb;AAEA,UAAMC,UAAU,GAAGlB,KAAK,CAACgB,OAAD,EAAUC,OAAV,EAAmBH,IAAnB,CAAxB;AAEAJ,MAAAA,aAAa,CAAC;AAAEM,QAAAA,OAAO,EAAEE;AAAX,OAAD,CAAb;;AAEA,UAAI,CAAC,SAAQ,MAAKC,cAAb,EAA6BL,IAA7B,CAAL,EAAyC;AACrC,cAAKK,cAAL,GAAsBL,IAAtB;AACAJ,QAAAA,aAAa,CAAC;AAAEM,UAAAA,OAAO,EAAEE;AAAX,SAAD,CAAb;AACH;AACJ,K;;;;;;;6BAEQ;AAAA,UACGF,OADH,GACe,KAAKD,KADpB,CACGC,OADH;;AAAA,iBAEoBjB,GAAG,CAACiB,OAAD,EAAU,WAAV,CAAH,IAA6B,EAFjD;AAAA,UAEGI,IAFH,QAEGA,IAFH;AAAA,UAESC,MAFT,QAESA,MAFT;;AAIL,0BACI,oBAAC,IAAD,qBACI,oBAAC,GAAD;AAAK,QAAA,KAAK,EAAE;AAAZ,sBACI,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAE;AAAED,UAAAA,IAAI,EAAJA,IAAF;AAAQC,UAAAA,MAAM,EAANA;AAAR,SAAZ;AAA8B,QAAA,QAAQ,EAAE,KAAKC;AAA7C,SACK;AAAA,YAAGC,IAAH,SAAGA,IAAH;AAAA,4BACG,oBAAC,KAAD,CAAO,QAAP,qBACI,oBAAC,IAAD,qBACI,oBAAC,IAAD;AAAM,UAAA,IAAI,EAAE;AAAZ,wBACI,oBAAC,IAAD;AAAM,UAAA,IAAI,EAAE,MAAZ;AAAoB,UAAA,UAAU,EAAEX,UAAU,CAACY,MAAX,CAAkB,KAAlB;AAAhC,wBACI,oBAAC,eAAD,QACK,UAAAT,KAAK;AAAA,8BAAI,oBAAC,KAAD,oBAAWA,KAAX;AAAkB,YAAA,KAAK,EAAE;AAAzB,aAAJ;AAAA,SADV,CADJ,CADJ,CADJ,CADJ,eAUI,oBAAC,IAAD,qBACI,oBAAC,IAAD;AAAM,UAAA,IAAI,EAAE;AAAZ,wBACI,oBAAC,UAAD;AAAY,UAAA,GAAG,EAAE;AAAjB,qBADJ,CADJ,eAII,oBAAC,IAAD;AAAM,UAAA,IAAI,EAAE;AAAZ,wBACI,oBAAC,IAAD;AAAM,UAAA,IAAI,EAAE;AAAZ,wBACI,oBAAC,MAAD,OADJ,CADJ,CAJJ,CAVJ,CADH;AAAA,OADL,CADJ,CADJ,CADJ;AA+BH;;;;EApDsBlB,KAAK,CAAC4B,S;;AAuDjC,eAAe3B,OAAO,CAClB,IADkB,EAElB;AAAEY,EAAAA,aAAa,EAAbA;AAAF,CAFkB,CAAP,CAGbF,iBAAiB,GAAGK,YAAH,CAHJ,CAAf","sourcesContent":["import * as React from \"react\";\nimport { connect } from \"@webiny/app-page-builder/editor/redux\";\nimport { isEqual } from \"lodash\";\nimport { get, merge } from \"dot-prop-immutable\";\nimport { Tabs, Tab } from \"@webiny/ui/Tabs\";\nimport { Switch } from \"@webiny/ui/Switch\";\nimport { Input } from \"@webiny/ui/Input\";\nimport { Grid, Cell } from \"@webiny/ui/Grid\";\nimport { Typography } from \"@webiny/ui/Typography\";\nimport { withActiveElement } from \"@webiny/app-page-builder/editor/components\";\nimport { DelayedOnChange } from \"@webiny/app-page-builder/editor/components/DelayedOnChange\";\nimport { updateElement } from \"@webiny/app-page-builder/editor/actions\";\nimport { Form } from \"@webiny/form\";\nimport { validation } from \"@webiny/validation\";\n\nclass LinkSettings extends React.Component<any> {\n    historyUpdated = {};\n\n    updateSettings = data => {\n        const { element, updateElement } = this.props;\n        const attrKey = `data.link`;\n\n        const newElement = merge(element, attrKey, data);\n\n        updateElement({ element: newElement });\n\n        if (!isEqual(this.historyUpdated, data)) {\n            this.historyUpdated = data;\n            updateElement({ element: newElement });\n        }\n    };\n\n    render() {\n        const { element } = this.props;\n        const { href, newTab } = get(element, \"data.link\") || {};\n\n        return (\n            <Tabs>\n                <Tab label={\"Link\"}>\n                    <Form data={{ href, newTab }} onChange={this.updateSettings}>\n                        {({ Bind }) => (\n                            <React.Fragment>\n                                <Grid>\n                                    <Cell span={12}>\n                                        <Bind name={\"href\"} validators={validation.create(\"url\")}>\n                                            <DelayedOnChange>\n                                                {props => <Input {...props} label={\"URL\"} />}\n                                            </DelayedOnChange>\n                                        </Bind>\n                                    </Cell>\n                                </Grid>\n                                <Grid>\n                                    <Cell span={6}>\n                                        <Typography use={\"overline\"}>New tab</Typography>\n                                    </Cell>\n                                    <Cell span={6}>\n                                        <Bind name={\"newTab\"}>\n                                            <Switch />\n                                        </Bind>\n                                    </Cell>\n                                </Grid>\n                            </React.Fragment>\n                        )}\n                    </Form>\n                </Tab>\n            </Tabs>\n        );\n    }\n}\n\nexport default connect<any, any, any>(\n    null,\n    { updateElement }\n)(withActiveElement()(LinkSettings));\n"],"file":"LinkSettings.js"}