{"version":3,"sources":["../../../../../src/editor/plugins/elementSettings/align/VerticalAlignAction.tsx"],"names":["React","connect","getPlugins","set","updateElement","getActiveElement","get","icons","start","center","end","VerticalAlignAction","element","children","align","plugin","find","pl","elementType","type","alignElement","useCallback","alignments","Object","keys","nextAlign","indexOf","cloneElement","onClick","icon","state"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,OAAT,QAAwB,uCAAxB;AACA,SAASC,UAAT,QAA2B,iBAA3B;AACA,SAASC,GAAT,QAAoB,oBAApB;AACA,SAASC,aAAT,QAA8B,yCAA9B;AACA,SAASC,gBAAT,QAAiC,2CAAjC;AACA,SAASC,GAAT,QAAoB,oBAApB;;;;AAMA;AACA,IAAMC,KAAK,GAAG;AACVC,EAAAA,KAAK,eAAE,oBAAC,YAAD,OADG;AAEVC,EAAAA,MAAM,eAAE,oBAAC,eAAD,OAFE;AAGVC,EAAAA,GAAG,eAAE,oBAAC,eAAD;AAHK,CAAd;;AAMA,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,OAA0C;AAAA,MAAvCC,OAAuC,QAAvCA,OAAuC;AAAA,MAA9BR,aAA8B,QAA9BA,aAA8B;AAAA,MAAfS,QAAe,QAAfA,QAAe;AAClE,MAAMC,KAAK,GAAGR,GAAG,CAACM,OAAD,EAAU,6BAAV,CAAH,IAA+C,OAA7D;AACA,MAAMG,MAAM,GAAGb,UAAU,CAA4B,wBAA5B,CAAV,CAAgEc,IAAhE,CACX,UAAAC,EAAE;AAAA,WAAIA,EAAE,CAACC,WAAH,KAAmBN,OAAO,CAACO,IAA/B;AAAA,GADS,CAAf;AAIA,MAAMC,YAAY,GAAGpB,KAAK,CAACqB,WAAN,CAAkB,YAAM;AACzC,QAAMC,UAAU,GAAGC,MAAM,CAACC,IAAP,CAAYjB,KAAZ,CAAnB;AAEA,QAAMkB,SAAS,GAAGH,UAAU,CAACA,UAAU,CAACI,OAAX,CAAmBZ,KAAnB,IAA4B,CAA7B,CAAV,IAA6C,OAA/D;AAEAV,IAAAA,aAAa,CAAC;AACVQ,MAAAA,OAAO,EAAET,GAAG,CAACS,OAAD,EAAU,6BAAV,EAAyCa,SAAzC;AADF,KAAD,CAAb;AAGH,GARoB,EAQlB,CAACX,KAAD,CARkB,CAArB;;AAUA,MAAI,CAACC,MAAL,EAAa;AACT,WAAO,IAAP;AACH;;AAED,sBAAOf,KAAK,CAAC2B,YAAN,CAAmBd,QAAnB,EAA6B;AAAEe,IAAAA,OAAO,EAAER,YAAX;AAAyBS,IAAAA,IAAI,EAAEtB,KAAK,CAACO,KAAD;AAApC,GAA7B,CAAP;AACH,CArBD;;AAuBA,eAAeb,OAAO,CAClB,UAAA6B,KAAK;AAAA,SAAK;AAAElB,IAAAA,OAAO,EAAEP,gBAAgB,CAACyB,KAAD;AAA3B,GAAL;AAAA,CADa,EAElB;AAAE1B,EAAAA,aAAa,EAAbA;AAAF,CAFkB,CAAP,CAGbO,mBAHa,CAAf","sourcesContent":["import * as React from \"react\";\nimport { connect } from \"@webiny/app-page-builder/editor/redux\";\nimport { getPlugins } from \"@webiny/plugins\";\nimport { set } from \"dot-prop-immutable\";\nimport { updateElement } from \"@webiny/app-page-builder/editor/actions\";\nimport { getActiveElement } from \"@webiny/app-page-builder/editor/selectors\";\nimport { get } from \"dot-prop-immutable\";\nimport { ReactComponent as AlignCenterIcon } from \"./icons/round-border_horizontal-24px.svg\";\nimport { ReactComponent as AlignTopIcon } from \"./icons/round-border_top-24px.svg\";\nimport { ReactComponent as AlignBottomIcon } from \"./icons/round-border_bottom-24px.svg\";\nimport { PbEditorPageElementPlugin } from \"@webiny/app-page-builder/types\";\n\n// Icons map for dynamic render\nconst icons = {\n    start: <AlignTopIcon />,\n    center: <AlignCenterIcon />,\n    end: <AlignBottomIcon />\n};\n\nconst VerticalAlignAction = ({ element, updateElement, children }) => {\n    const align = get(element, \"data.settings.verticalAlign\") || \"start\";\n    const plugin = getPlugins<PbEditorPageElementPlugin>(\"pb-editor-page-element\").find(\n        pl => pl.elementType === element.type\n    );\n\n    const alignElement = React.useCallback(() => {\n        const alignments = Object.keys(icons);\n\n        const nextAlign = alignments[alignments.indexOf(align) + 1] || \"start\";\n\n        updateElement({\n            element: set(element, \"data.settings.verticalAlign\", nextAlign)\n        });\n    }, [align]);\n\n    if (!plugin) {\n        return null;\n    }\n\n    return React.cloneElement(children, { onClick: alignElement, icon: icons[align] });\n};\n\nexport default connect<any, any, any>(\n    state => ({ element: getActiveElement(state) }),\n    { updateElement }\n)(VerticalAlignAction);\n"],"file":"VerticalAlignAction.js"}