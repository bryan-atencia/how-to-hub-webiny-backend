{"version":3,"sources":["../../../../src/editor/plugins/breadcrumbs/Breadcrumbs.tsx"],"names":["React","connect","css","getActiveElement","getElement","activateElement","highlightElement","breadcrumbs","display","zIndex","flexDirection","padding","position","left","bottom","width","backgroundColor","borderTop","fontSize","cursor","color","Breadcrumbs","elements","map","el","index","id","element","type","replace","length","state","paths","path","split","slice","elPath","join","active","areStatePropsEqual"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport { connect } from \"react-redux\";\nimport { isEqual } from \"lodash\";\nimport { css } from \"emotion\";\nimport { getActiveElement, getElement } from \"@webiny/app-page-builder/editor/selectors\";\nimport { activateElement, highlightElement } from \"@webiny/app-page-builder/editor/actions\";\n\nconst breadcrumbs = css({\n    display: \"flex\",\n    zIndex: 20,\n    flexDirection: \"row\",\n    padding: 0,\n    position: \"fixed\",\n    left: 55,\n    bottom: 0,\n    width: \"calc(100% - 55px)\",\n    backgroundColor: \"var(--mdc-theme-surface)\",\n    borderTop: \"1px solid var(--mdc-theme-on-background)\",\n    fontSize: \"14px\",\n    \"> li\": {\n        cursor: \"pointer\",\n        \".element\": {\n            color: \"var(--mdc-theme-secondary)\",\n            padding: \"5px\",\n            display: \"inline-block\",\n            \"&:hover\": {\n                backgroundColor: \"var(--mdc-theme-background)\",\n                color: \"var(--mdc-theme-on-surface)\"\n            }\n        },\n        \".divider\": {\n            color: \"var(--mdc-theme-text-secondary-on-background)\"\n        }\n    }\n});\n\nconst Breadcrumbs = ({ elements, activateElement, highlightElement }) => {\n    if (!elements) {\n        return null;\n    }\n\n    return (\n        <ul className={breadcrumbs}>\n            {elements.map((el, index) => (\n                <li\n                    key={el.id}\n                    onMouseOver={() => highlightElement({ element: el.id })}\n                    onClick={() => activateElement({ element: el.id })}\n                >\n                    <span className={\"element\"}>{el.type.replace(\"pb-editor-page-element-\", \"\")}</span>\n                    {elements.length - 1 > index ? (\n                        <span className={\"divider\"}>&nbsp;&gt;&nbsp;</span>\n                    ) : null}\n                </li>\n            ))}\n        </ul>\n    );\n};\n\nexport default connect<any, any, any>(\n    state => {\n        const element = getActiveElement(state);\n        if (!element) {\n            return { elements: null };\n        }\n\n        const paths = element.path.split(\".\").slice(1);\n        const elements = paths.map((path, index) => {\n            const elPath = [0, ...paths.slice(0, index + 1)].join(\".\");\n            const el = getElement(state, elPath);\n            return { id: el.id, type: el.type, index: path, active: el.id === element.id };\n        });\n\n        return { elements };\n    },\n    { activateElement, highlightElement },\n    null,\n    { areStatePropsEqual: isEqual }\n)(Breadcrumbs);\n"],"file":"Breadcrumbs.js"}