{"version":3,"sources":["../../../../../src/editor/plugins/toolbar/onboarding/Onboarding.tsx"],"names":["React","useCallback","useEffect","useState","styled","Carousel","connect","deactivatePlugin","isPluginActive","useKeyHandler","Slide1","Slide2","Slide3","Slide4","Slide5","Slide6","Slide7","Overlay","position","top","left","width","height","backgroundColor","display","alignItems","justifyContent","right","bottom","OutsideContainer","Container","borderRadius","color","InnerContainer","SlideControl","background","boxShadow","cursor","Onboarding","showOnboarding","slideIndex","setSlideIndex","addKeyHandler","removeKeyHandler","nextSlide","closeDialog","name","currentSlide","previousSlide","state","memo"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\nimport styled from \"@emotion/styled\";\nimport { Carousel } from \"@webiny/ui/Carousel\";\nimport { connect } from \"@webiny/app-page-builder/editor/redux\";\nimport { deactivatePlugin } from \"@webiny/app-page-builder/editor/actions\";\nimport { isPluginActive } from \"@webiny/app-page-builder/editor/selectors\";\nimport { useKeyHandler } from \"@webiny/app-page-builder/editor/hooks/useKeyHandler\";\n\nimport { ReactComponent as NextSlideIcon } from \"./assets/next-slide.svg\";\nimport { ReactComponent as PrevSlideIcon } from \"./assets/prev-slide.svg\";\n\nimport Slide1 from \"./slides/Slide1\";\nimport Slide2 from \"./slides/Slide2\";\nimport Slide3 from \"./slides/Slide3\";\nimport Slide4 from \"./slides/Slide4\";\nimport Slide5 from \"./slides/Slide5\";\nimport Slide6 from \"./slides/Slide6\";\nimport Slide7 from \"./slides/Slide7\";\n\nconst Overlay = styled(\"div\")({\n    position: \"fixed\",\n    top: 0,\n    left: 0,\n    width: \"100vw\",\n    height: \"100vh\",\n    backgroundColor: \"rgba(0,0,0,0.5)\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    \".slider-control-centerright\": {\n        right: \"-50px !important\"\n    },\n    \".slider-control-centerleft\": {\n        left: \"-50px !important\"\n    },\n    \".slider-control-bottomcenter\": {\n        bottom: \"-50px !important\"\n    }\n});\n\nconst OutsideContainer = styled(\"div\")({\n    width: \"100%\",\n    height: \"100%\",\n    position: \"absolute\"\n})\n\nconst Container = styled(\"div\")({\n    width: 800,\n    height: 600,\n    backgroundColor: \"var(--mdc-theme-surface)\",\n    borderRadius: 2,\n    color: \"var(--mdc-theme-text-primary-on-background)\"\n});\n\nconst InnerContainer = styled(\"div\")({\n    width: \"100%\",\n    height: \"100%\",\n    display: \"flex\"\n});\n\nconst SlideControl = styled(\"div\")({\n    background: \"var(--mdc-theme-surface)\",\n    boxShadow: \"0 6px 6px 0 rgba(0,0,0,0.26), 0 10px 20px 0 rgba(0,0,0,0.19)\",\n    borderRadius: \"50%\",\n    width: 40,\n    height: 40,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    cursor: \"pointer\",\n    color: \"var(--mdc-theme-text-secondary-on-background)\",\n    \"&:hover\": {\n        background: \"var(--mdc-theme-background)\"\n    }\n});\n\nconst Onboarding = ({ deactivatePlugin, showOnboarding }) => {\n    const [slideIndex, setSlideIndex] = useState(0);\n    const { addKeyHandler, removeKeyHandler } = useKeyHandler();\n\n    const nextSlide = useCallback(() => {\n        setSlideIndex(slideIndex + 1);\n    }, [slideIndex]);\n\n    const closeDialog = useCallback(() => {\n        setSlideIndex(0);\n        deactivatePlugin({ name: \"pb-editor-toolbar-onboarding\" });\n    }, [setSlideIndex]);\n\n    useEffect(() => {\n        showOnboarding ? addKeyHandler(\"escape\", closeDialog) : removeKeyHandler(\"escape\");\n    });\n\n    if (!showOnboarding) {\n        return null;\n    }\n\n    return (\n        <Overlay>\n            <OutsideContainer onClick={closeDialog} />\n            <Container>\n                <Carousel\n                    speed={slideIndex < 1 || slideIndex > 4 ? 500 : 0}\n                    dragging={true}\n                    transitionMode={\"scroll\"}\n                    slideIndex={slideIndex}\n                    afterSlide={setSlideIndex}\n                    renderNextSlide={({ nextSlide, currentSlide }) =>\n                        currentSlide < 6 && (\n                            <SlideControl onClick={nextSlide}>\n                                <NextSlideIcon />\n                            </SlideControl>\n                        )\n                    }\n                    renderPreviousSlide={({ previousSlide, currentSlide }) =>\n                        currentSlide > 0 && (\n                            <SlideControl onClick={previousSlide}>\n                                <PrevSlideIcon />\n                            </SlideControl>\n                        )\n                    }\n                >\n                    <InnerContainer>\n                        <Slide1 nextSlide={nextSlide} />\n                    </InnerContainer>\n                    <InnerContainer>\n                        <Slide2 currentSlide={slideIndex + 1} />\n                    </InnerContainer>\n                    <InnerContainer>\n                        <Slide3 currentSlide={slideIndex + 1} />\n                    </InnerContainer>\n                    <InnerContainer>\n                        <Slide4 currentSlide={slideIndex + 1} />\n                    </InnerContainer>\n                    <InnerContainer>\n                        <Slide5 currentSlide={slideIndex + 1} />\n                    </InnerContainer>\n                    <InnerContainer>\n                        <Slide6 currentSlide={slideIndex + 1} />\n                    </InnerContainer>\n                    <InnerContainer>\n                        <Slide7 closeDialog={closeDialog} />\n                    </InnerContainer>\n                </Carousel>\n            </Container>\n        </Overlay>\n    );\n};\n\nexport default connect<any, any, any>(\n    state => ({\n        showOnboarding: isPluginActive(\"pb-editor-toolbar-onboarding\")(state)\n    }),\n    { deactivatePlugin }\n)(React.memo(Onboarding));\n"],"file":"Onboarding.js"}