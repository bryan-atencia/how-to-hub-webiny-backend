{"version":3,"sources":["../../../../src/editor/actions/history/debug.ts"],"names":["__DEBUG__","displayBuffer","colors","prevState","action","nextState","initBuffer","header","prev","next","msgs","printBuffer","console","group","groupCollapsed","log","groupEnd","colorFormat","text","color","obj","start","state","type","end","args","concat","set","debug"],"mappings":"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","sourcesContent":["/* eslint-disable */\nlet __DEBUG__;\nlet displayBuffer;\n\nconst colors = {\n    prevState: \"#9E9E9E\",\n    action: \"#03A9F4\",\n    nextState: \"#4CAF50\"\n};\n\n/* istanbul ignore next: debug messaging is not tested */\nfunction initBuffer() {\n    displayBuffer = {\n        header: [],\n        prev: [],\n        action: [],\n        next: [],\n        msgs: []\n    };\n}\n\n/* istanbul ignore next: debug messaging is not tested */\nfunction printBuffer() {\n    let { header, prev, next, action, msgs } = displayBuffer;\n    if (console.group) {\n        console.groupCollapsed(...header);\n        console.log(...prev);\n        console.log(...action);\n        console.log(...next);\n        console.log(...msgs);\n        console.groupEnd();\n    } else {\n        console.log(...header);\n        console.log(...prev);\n        console.log(...action);\n        console.log(...next);\n        console.log(...msgs);\n    }\n}\n\n/* istanbul ignore next: debug messaging is not tested */\nfunction colorFormat(text, color, obj) {\n    return [`%c${text}`, `color: ${color}; font-weight: bold`, obj];\n}\n\n/* istanbul ignore next: debug messaging is not tested */\nfunction start(action, state) {\n    initBuffer();\n    if (__DEBUG__) {\n        if (console.group) {\n            displayBuffer.header = [\"%credux-undo\", \"font-style: italic\", \"action\", action.type];\n            displayBuffer.action = colorFormat(\"action\", colors.action, action);\n            displayBuffer.prev = colorFormat(\"prev history\", colors.prevState, state);\n        } else {\n            displayBuffer.header = [\"redux-undo action\", action.type];\n            displayBuffer.action = [\"action\", action];\n            displayBuffer.prev = [\"prev history\", state];\n        }\n    }\n}\n\n/* istanbul ignore next: debug messaging is not tested */\nfunction end(nextState) {\n    if (__DEBUG__) {\n        if (console.group) {\n            displayBuffer.next = colorFormat(\"next history\", colors.nextState, nextState);\n        } else {\n            displayBuffer.next = [\"next history\", nextState];\n        }\n        printBuffer();\n    }\n}\n\n/* istanbul ignore next: debug messaging is not tested */\nfunction log(...args) {\n    if (__DEBUG__) {\n        displayBuffer.msgs = displayBuffer.msgs.concat([...args, \"\\n\"]);\n    }\n}\n\n/* istanbul ignore next: debug messaging is not tested */\nfunction set(debug) {\n    __DEBUG__ = debug;\n}\n\nexport { set, start, end, log };\n"],"file":"debug.js"}