{"version":3,"sources":["../../../../../src/render/plugins/slate/link/index.tsx"],"names":["React","Link","name","type","slate","renderNode","props","next","attributes","children","node","data","href","get","noFollow","newTab","isInternal","startsWith","LinkComponent","linkProps","rel","target"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,IAAT,QAAqB,sBAArB;AAEA,gBAAe,YAAiC;AAC5C,SAAO;AACHC,IAAAA,IAAI,EAAE,6BADH;AAEHC,IAAAA,IAAI,EAAE,wBAFH;AAGHC,IAAAA,KAAK,EAAE;AACHC,MAAAA,UADG,sBACQC,KADR,EACeC,IADf,EACqB;AAAA,YACZC,UADY,GACmBF,KADnB,CACZE,UADY;AAAA,YACAC,QADA,GACmBH,KADnB,CACAG,QADA;AAAA,YACUC,IADV,GACmBJ,KADnB,CACUI,IADV,EAGpB;;AACA,YAAIA,IAAI,CAACP,IAAL,KAAc,MAAlB,EAA0B;AACtB;AADsB,cAEdQ,IAFc,GAELD,IAFK,CAEdC,IAFc;AAGtB,cAAMC,IAAI,GAAGD,IAAI,CAACE,GAAL,CAAS,MAAT,CAAb;AACA,cAAMC,QAAQ,GAAGH,IAAI,CAACE,GAAL,CAAS,UAAT,CAAjB;AACA,cAAME,MAAM,GAAGJ,IAAI,CAACE,GAAL,CAAS,QAAT,CAAf;AAEA,cAAMG,UAAU,GAAGJ,IAAI,CAACK,UAAL,CAAgB,GAAhB,CAAnB;AACA,cAAMC,aAAa,GAAGF,UAAU,GAAGf,IAAH,GAAU,GAA1C;;AACA,cAAMkB,SAAS,mCACRX,UADQ;AAEXY,YAAAA,GAAG,EAAEN,QAAQ,GAAG,UAAH,GAAgB,IAFlB;AAGXO,YAAAA,MAAM,EAAEN,MAAM,GAAG,QAAH,GAAc;AAHjB,aAIVC,UAAU,GAAG,IAAH,GAAU,MAJV,EAImBJ,IAJnB,EAAf;;AAOA,8BAAO,oBAAC,aAAD,EAAmBO,SAAnB,EAA+BV,QAA/B,CAAP;AACH;;AAED,eAAOF,IAAI,EAAX;AACH;AAzBE;AAHJ,GAAP;AA+BH,CAhCD","sourcesContent":["import React from \"react\";\nimport { PbRenderSlateEditorPlugin } from \"@webiny/app-page-builder/types\";\nimport { Link } from \"@webiny/react-router\";\n\nexport default (): PbRenderSlateEditorPlugin => {\n    return {\n        name: \"pb-render-slate-editor-link\",\n        type: \"pb-render-slate-editor\",\n        slate: {\n            renderNode(props, next) {\n                const { attributes, children, node } = props;\n\n                // @ts-ignore\n                if (node.type === \"link\") {\n                    // @ts-ignore\n                    const { data } = node;\n                    const href = data.get(\"href\");\n                    const noFollow = data.get(\"noFollow\");\n                    const newTab = data.get(\"newTab\");\n\n                    const isInternal = href.startsWith(\"/\")\n                    const LinkComponent = isInternal ? Link : \"a\"\n                    const linkProps = {\n                        ...attributes,\n                        rel: noFollow ? \"nofollow\" : null,\n                        target: newTab ? \"_blank\" : \"_self\",\n                        [isInternal ? \"to\" : \"href\"]: href\n                    }\n\n                    return <LinkComponent {...linkProps}>{children}</LinkComponent>\n                }\n\n                return next();\n            }\n        }\n    };\n};\n"],"file":"index.js"}