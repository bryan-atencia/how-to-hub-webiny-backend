{"version":3,"sources":["../../../../../src/render/plugins/elementSettings/background/index.ts"],"names":["scaling","cover","backgroundSize","backgroundRepeat","contain","originalSize","tile","tileHorizontally","tileVertically","name","type","renderStyle","element","style","background","color","image","src","backgroundImage","backgroundPosition","position","backgroundColor"],"mappings":";;AAGA,IAAMA,OAAO,GAAG;AACZC,EAAAA,KAAK,EAAE;AACHC,IAAAA,cAAc,EAAE,OADb;AAEHC,IAAAA,gBAAgB,EAAE;AAFf,GADK;AAKZC,EAAAA,OAAO,EAAE;AACLF,IAAAA,cAAc,EAAE,SADX;AAELC,IAAAA,gBAAgB,EAAE;AAFb,GALG;AASZE,EAAAA,YAAY,EAAE;AACVH,IAAAA,cAAc,EAAE,MADN;AAEVC,IAAAA,gBAAgB,EAAE;AAFR,GATF;AAaZG,EAAAA,IAAI,EAAE;AACFJ,IAAAA,cAAc,EAAE,MADd;AAEFC,IAAAA,gBAAgB,EAAE;AAFhB,GAbM;AAiBZI,EAAAA,gBAAgB,EAAE;AACdL,IAAAA,cAAc,EAAE,MADF;AAEdC,IAAAA,gBAAgB,EAAE;AAFJ,GAjBN;AAqBZK,EAAAA,cAAc,EAAE;AACZN,IAAAA,cAAc,EAAE,MADJ;AAEZC,IAAAA,gBAAgB,EAAE;AAFN;AArBJ,CAAhB;AA2BA,eAAe;AACXM,EAAAA,IAAI,EAAE,yCADK;AAEXC,EAAAA,IAAI,EAAE,8BAFK;AAGXC,EAAAA,WAHW,6BAGqB;AAAA,QAAlBC,OAAkB,QAAlBA,OAAkB;AAAA,QAATC,KAAS,QAATA,KAAS;;AAAA,gBACL,KAAID,OAAJ,EAAa,eAAb,EAA8B,EAA9B,CADK;AAAA,QACpBE,UADoB,SACpBA,UADoB;;AAE5B,QAAI,CAACA,UAAL,EAAiB;AACb,aAAOD,KAAP;AACH;;AAJ2B,QAMpBE,KANoB,GAMHD,UANG,CAMpBC,KANoB;AAAA,QAMbC,KANa,GAMHF,UANG,CAMbE,KANa;;AAQ5B,QAAMC,GAAG,GAAG,KAAID,KAAJ,EAAW,UAAX,CAAZ;;AACA,QAAIC,GAAJ,EAAS;AACL,2DACOJ,KADP,GAEOb,OAAO,CAACgB,KAAK,CAAChB,OAAN,IAAiB,OAAlB,CAFd;AAGIkB,QAAAA,eAAe,gBAASD,GAAT,MAHnB;AAIIE,QAAAA,kBAAkB,EAAEH,KAAK,CAACI,QAAN,IAAkB;AAJ1C;AAMH;;AAED,QAAIL,KAAJ,EAAW;AACP,6CAAYF,KAAZ;AAAmBQ,QAAAA,eAAe,EAAEN;AAApC;AACH;;AAED,WAAOF,KAAP;AACH;AA1BU,CAAf","sourcesContent":["import { get } from \"lodash\";\nimport { PbRenderElementStylePlugin } from \"@webiny/app-page-builder/types\";\n\nconst scaling = {\n    cover: {\n        backgroundSize: \"cover\",\n        backgroundRepeat: \"no-repeat\"\n    },\n    contain: {\n        backgroundSize: \"contain\",\n        backgroundRepeat: \"no-repeat\"\n    },\n    originalSize: {\n        backgroundSize: \"auto\",\n        backgroundRepeat: \"no-repeat\"\n    },\n    tile: {\n        backgroundSize: \"auto\",\n        backgroundRepeat: \"repeat\"\n    },\n    tileHorizontally: {\n        backgroundSize: \"auto\",\n        backgroundRepeat: \"repeat-x\"\n    },\n    tileVertically: {\n        backgroundSize: \"auto\",\n        backgroundRepeat: \"repeat-y\"\n    }\n};\n\nexport default {\n    name: \"pb-render-page-element-style-background\",\n    type: \"pb-render-page-element-style\",\n    renderStyle({ element, style }) {\n        const { background } = get(element, \"data.settings\", {});\n        if (!background) {\n            return style;\n        }\n\n        const { color, image } = background;\n\n        const src = get(image, \"file.src\");\n        if (src) {\n            return {\n                ...style,\n                ...scaling[image.scaling || \"cover\"],\n                backgroundImage: `url(${src})`,\n                backgroundPosition: image.position || \"center center\"\n            };\n        }\n\n        if (color) {\n            return { ...style, backgroundColor: color };\n        }\n\n        return style;\n    }\n} as PbRenderElementStylePlugin;\n"],"file":"index.js"}