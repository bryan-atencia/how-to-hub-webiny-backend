{"version":3,"sources":["../../../../../src/render/plugins/elements/image/Image.tsx"],"names":["React","ElementRoot","Image","WebinyImage","Link","RouterLink","link","children","href","newTab","props","image","settings","file","width","height","title","horizontalAlign","style","endsWith","element","textAlign","src"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,WAAT,QAA4B,wDAA5B;AACA,SAASC,KAAK,IAAIC,WAAlB,QAAqC,wBAArC;AACA,SAASC,IAAI,IAAIC,UAAjB,QAAmC,sBAAnC;;AAEA,IAAMD,IAAI,GAAG,SAAPA,IAAO,OAAwB;AAAA,MAArBE,IAAqB,QAArBA,IAAqB;AAAA,MAAfC,QAAe,QAAfA,QAAe;;AACjC,MAAID,IAAI,IAAIA,IAAI,CAACE,IAAjB,EAAuB;AACnB,wBACI,oBAAC,UAAD;AAAY,MAAA,EAAE,EAAEF,IAAI,CAACE,IAArB;AAA2B,MAAA,MAAM,EAAEF,IAAI,CAACG,MAAL,GAAc,QAAd,GAAyB;AAA5D,OACKF,QADL,CADJ;AAKH;;AACD,SAAOA,QAAP;AACH,CATD;;AAWA,IAAML,KAAK,GAAG,SAARA,KAAQ,CAAAQ,KAAK,EAAI;AAAA,cAC8B,KAAIA,KAAJ,EAAW,cAAX,EAA2B,EAA3B,CAD9B;AAAA,0BACXC,KADW;AAAA,MACXA,KADW,4BACH,EADG;AAAA,yBACCL,IADD;AAAA,MACCA,IADD,2BACQ,EADR;AAAA,6BACYM,QADZ;AAAA,MACYA,QADZ,+BACuB,EADvB;;AAEnB,MAAI,CAACD,KAAD,IAAU,CAACA,KAAK,CAACE,IAArB,EAA2B;AACvB,WAAO,IAAP;AACH;;AAJkB,MAMXC,KANW,GAMcH,KANd,CAMXG,KANW;AAAA,MAMJC,MANI,GAMcJ,KANd,CAMJI,MANI;AAAA,MAMIC,KANJ,GAMcL,KANd,CAMIK,KANJ;AAAA,8BAQoBJ,QARpB,CAQXK,eARW;AAAA,MAQXA,eARW,sCAQO,QARP;AAUnB,MAAMC,KAAK,GAAG;AAAEJ,IAAAA,KAAK,EAALA,KAAF;AAASC,IAAAA,MAAM,EAANA;AAAT,GAAd;;AACA,MAAI,CAACG,KAAK,CAACJ,KAAX,EAAkB;AACdI,IAAAA,KAAK,CAACJ,KAAN,GAAc,MAAd;AACH,GAFD,MAEO;AACHI,IAAAA,KAAK,CAACJ,KAAN,IAAeI,KAAK,CAACJ,KAAN,CAAYK,QAAZ,CAAqB,IAArB,IAA6B,EAA7B,GAAkC,IAAjD;AACH;;AAED,MAAI,CAACD,KAAK,CAACH,MAAX,EAAmB;AACfG,IAAAA,KAAK,CAACH,MAAN,GAAe,MAAf;AACH,GAFD,MAEO;AACHG,IAAAA,KAAK,CAACH,MAAN,IAAgBG,KAAK,CAACH,MAAN,CAAaI,QAAb,CAAsB,IAAtB,IAA8B,EAA9B,GAAmC,IAAnD;AACH;;AAED,sBACI,oBAAC,WAAD;AACI,IAAA,OAAO,EAAET,KAAK,CAACU,OADnB;AAEI,IAAA,KAAK,EAAE;AAAEC,MAAAA,SAAS,EAAEJ;AAAb,KAFX;AAGI,IAAA,SAAS,EAAE;AAHf,kBAKI,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAEX;AAAZ,kBACI,oBAAC,WAAD;AACI,IAAA,KAAK,EAAEU,KADX;AAEI,IAAA,GAAG,EAAEA,KAFT;AAGI,IAAA,KAAK,EAAEE,KAHX;AAII,IAAA,GAAG,EAAEP,KAAK,CAACE,IAAN,CAAWS,GAJpB;AAKI,IAAA,MAAM,EAAC;AALX,IADJ,CALJ,CADJ;AAiBH,CAxCD;;AA0CA,eAAepB,KAAf","sourcesContent":["import React from \"react\";\nimport { get } from \"lodash\";\nimport { ElementRoot } from \"@webiny/app-page-builder/render/components/ElementRoot\";\nimport { Image as WebinyImage } from \"@webiny/app/components\";\nimport { Link as RouterLink } from \"@webiny/react-router\";\n\nconst Link = ({ link, children }) => {\n    if (link && link.href) {\n        return (\n            <RouterLink to={link.href} target={link.newTab ? \"_blank\" : \"_self\"}>\n                {children}\n            </RouterLink>\n        );\n    }\n    return children;\n};\n\nconst Image = props => {\n    const { image = {}, link = {}, settings = {} } = get(props, \"element.data\", {});\n    if (!image || !image.file) {\n        return null;\n    }\n\n    const { width, height, title } = image;\n\n    const { horizontalAlign = \"center\" } = settings;\n\n    const style = { width, height };\n    if (!style.width) {\n        style.width = \"100%\";\n    } else {\n        style.width += style.width.endsWith(\"px\") ? \"\" : \"px\";\n    }\n\n    if (!style.height) {\n        style.height = \"100%\";\n    } else {\n        style.height += style.height.endsWith(\"px\") ? \"\" : \"px\";\n    }\n\n    return (\n        <ElementRoot\n            element={props.element}\n            style={{ textAlign: horizontalAlign }}\n            className={\"webiny-pb-base-page-element-style webiny-pb-page-element-image\"}\n        >\n            <Link link={link}>\n                <WebinyImage\n                    title={title}\n                    alt={title}\n                    style={style}\n                    src={image.file.src}\n                    srcSet=\"auto\"\n                />\n            </Link>\n        </ElementRoot>\n    );\n};\n\nexport default Image;\n"],"file":"Image.js"}