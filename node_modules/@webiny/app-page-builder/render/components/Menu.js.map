{"version":3,"sources":["../../../src/render/components/Menu.tsx"],"names":["React","Query","gql","invariant","getMenuBySlug","Menu","slug","Component","component","props","data","items","title"],"mappings":";;;;;;;;;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,KAAT,QAAsB,cAAtB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AAEA,OAAOC,SAAP,MAAsB,WAAtB;AAcA,OAAO,IAAMC,aAAa,GAAGF,GAAH,mBAAnB;;AAcP,IAAMG,IAAI,GAAG,SAAPA,IAAO,OAAoC;AAAA,MAAjCC,IAAiC,QAAjCA,IAAiC;AAAA,MAAhBC,SAAgB,QAA3BC,SAA2B;AAC7CL,EAAAA,SAAS,CAACI,SAAD,2EAAT;AAEA,sBACI,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAEH,aAAd;AAA6B,IAAA,SAAS,EAAE;AAAEE,MAAAA,IAAI,EAAJA;AAAF;AAAxC,KACK,UAAAG,KAAK,EAAI;AACN,QAAMC,IAAI,GAAG,KAAID,KAAJ,EAAW,6BAAX,EAA0C;AACnDE,MAAAA,KAAK,EAAE,EAD4C;AAEnDC,MAAAA,KAAK,EAAE,IAF4C;AAGnDN,MAAAA,IAAI,EAAE;AAH6C,KAA1C,CAAb;;AAMA,wBACI,uDACI;AAAW,oBAAW,SAAtB;AAAgC,iBAASA;AAAzC,MADJ,eAEI,oBAAC,SAAD,oBAAeG,KAAf;AAAsB,MAAA,IAAI,EAAEC;AAA5B,OAFJ,CADJ;AAMH,GAdL,CADJ;AAkBH,CArBD;;AAuBA,eAAeL,IAAf","sourcesContent":["import * as React from \"react\";\nimport { Query } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport { get } from \"lodash\";\nimport invariant from \"invariant\";\n\ndeclare global {\n    // eslint-disable-next-line\n    namespace JSX {\n        interface IntrinsicElements {\n            \"ssr-cache\": {\n                class?: string;\n                id?: string;\n            };\n        }\n    }\n}\n\nexport const getMenuBySlug = gql`\n    query GetMenuBySlug($slug: String!) {\n        pageBuilder {\n            menus: getMenuBySlug(slug: $slug) {\n                data {\n                    slug\n                    title\n                    items\n                }\n            }\n        }\n    }\n`;\n\nconst Menu = ({ slug, component: Component }) => {\n    invariant(Component, `You must provide a valid Menu component name (via \"component\" prop).`);\n\n    return (\n        <Query query={getMenuBySlug} variables={{ slug }}>\n            {props => {\n                const data = get(props, \"data.pageBuilder.menus.data\", {\n                    items: [],\n                    title: null,\n                    slug: null\n                });\n\n                return (\n                    <>\n                        <ssr-cache data-class=\"pb-menu\" data-id={slug} />\n                        <Component {...props} data={data} />\n                    </>\n                );\n            }}\n        </Query>\n    );\n};\n\nexport default Menu;\n"],"file":"Menu.js"}