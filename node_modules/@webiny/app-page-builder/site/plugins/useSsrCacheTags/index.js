import * as React from "react";

var InvalidateExpiredSsrCache = function InvalidateExpiredSsrCache() {
  React.useEffect(function () {
    if (!window) {
      return;
    }

    if (window.location.hostname === "localhost") {
      return;
    }

    setTimeout(function () {
      window.fetch(window.location.origin, {
        method: "post",
        headers: {
          Accept: "application/json",
          "Content-Type": "application/json"
        },
        body: JSON.stringify({
          ssr: ["invalidateSsrCacheByPath", {
            path: window.location.pathname + window.location.search,
            expired: true,
            refresh: true
          }]
        })
      });
    }, 1000);
  }, []);
  return null;
};

export default (function () {
  return [{
    type: "addon-render",
    name: "addon-render-ssr-cache-invalidation",
    component: /*#__PURE__*/React.createElement(InvalidateExpiredSsrCache, null)
  }];
});
//# sourceMappingURL=index.js.map