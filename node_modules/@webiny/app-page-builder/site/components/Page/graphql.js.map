{"version":3,"sources":["../../../../src/site/components/Page/graphql.ts"],"names":["gql","getPlugins","GET_PUBLISHED_PAGE","pageSettingsFields","map","pl","fields","join"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,GAAP,MAAgB,aAAhB;AACA,SAASC,UAAT,QAA2B,iBAA3B;AAGA,OAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;AACpC,MAAMC,kBAAkB,GAAGF,UAAU,CAAC,yBAAD,CAAV,CACtBG,GADsB,CAClB,UAACC,EAAD;AAAA,WAAoCA,EAAE,CAACC,MAAvC;AAAA,GADkB,EAEtBC,IAFsB,CAEjB,IAFiB,CAA3B;AAIA,SAAOP,GAAP,oBAkB0BG,kBAlB1B;AAiCH,CAtCM","sourcesContent":["import gql from \"graphql-tag\";\nimport { getPlugins } from \"@webiny/plugins\";\nimport { PbPageSettingsFieldsPlugin } from \"@webiny/app-page-builder/types\";\n\nexport const GET_PUBLISHED_PAGE = () => {\n    const pageSettingsFields = getPlugins(\"pb-page-settings-fields\")\n        .map((pl: PbPageSettingsFieldsPlugin) => pl.fields)\n        .join(\"\\n\");\n\n    return gql`\n        query PbGetPublishedPage($id: ID, $url: String, $parent: ID, $returnNotFoundPage: Boolean, $returnErrorPage: Boolean, $preview: Boolean) {\n            pageBuilder {\n                page: getPublishedPage(id: $id, url: $url, parent: $parent, returnNotFoundPage: $returnNotFoundPage, returnErrorPage: $returnErrorPage, preview: $preview) {\n                    data {\n                        id\n                        title\n                        url\n                        version\n                        publishedOn\n                        snippet\n                        content\n                        createdBy {\n                            firstName\n                            lastName\n                        }\n                        settings {\n                            _empty\n                            ${pageSettingsFields}\n                        }\n                        category {\n                            id\n                            name\n                        }\n                    }\n                    error {\n                        code\n                        message\n                    }\n                }\n            }\n        }\n    `;\n};\n"],"file":"graphql.js"}