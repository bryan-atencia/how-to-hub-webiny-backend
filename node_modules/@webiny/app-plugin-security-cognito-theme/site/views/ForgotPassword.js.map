{"version":3,"sources":["../../../src/site/views/ForgotPassword.tsx"],"names":["React","Form","validation","Input","ButtonPrimary","ButtonDefault","Content","Header","Row","Loading","Alert","ForgotPassword","requestCode","setPassword","codeSent","error","loading","authProps","authData","username","data","Bind","submit","create","val","cb","toLowerCase","changeState"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,cAArB;AACA,SAASC,UAAT,QAA2B,oBAA3B;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,SAASC,OAAT,EAAkBC,MAAlB,EAA0BC,GAA1B,EAA+BC,OAA/B,EAAwCC,KAAxC,QAAqD,sBAArD;;AAEA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,OAAuE;AAAA,MAApEC,WAAoE,QAApEA,WAAoE;AAAA,MAAvDC,WAAuD,QAAvDA,WAAuD;AAAA,MAA1CC,QAA0C,QAA1CA,QAA0C;AAAA,MAAhCC,KAAgC,QAAhCA,KAAgC;AAAA,MAAzBC,OAAyB,QAAzBA,OAAyB;AAAA,MAAhBC,SAAgB,QAAhBA,SAAgB;;AAAA,cAChEA,SAAS,CAACC,QAAV,IAAsB,EAD0C;AAAA,6BAClFC,QADkF;AAAA,MAClFA,QADkF,+BACvE,EADuE;;AAE1F,sBACI,oBAAC,IAAD;AACI,IAAA,IAAI,EAAE;AAAEA,MAAAA,QAAQ,EAARA;AAAF,KADV;AAEI,IAAA,QAAQ,EAAE,kBAAAC,IAAI;AAAA,aAAKN,QAAQ,GAAGD,WAAW,CAACO,IAAD,CAAd,GAAuBR,WAAW,CAACQ,IAAD,CAA/C;AAAA,KAFlB;AAGI,IAAA,aAAa;AAHjB,KAKK;AAAA,QAAGC,IAAH,SAAGA,IAAH;AAAA,QAASC,MAAT,SAASA,MAAT;AAAA,QAAiBF,IAAjB,SAAiBA,IAAjB;AAAA,wBACG,oBAAC,OAAD,QACKJ,OAAO,iBAAI,oBAAC,OAAD,OADhB,eAEI,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC;AAAd,mEAFJ,EAMKD,KAAK,iBACF,oBAAC,GAAD,qBACI,oBAAC,KAAD;AAAO,MAAA,KAAK,EAAC;AAAb,OAAqCA,KAArC,CADJ,CAPR,EAYK,CAACD,QAAD,gBACG,uDACI,oBAAC,GAAD,qBACI,oBAAC,IAAD;AACI,MAAA,IAAI,EAAC,UADT;AAEI,MAAA,UAAU,EAAEZ,UAAU,CAACqB,MAAX,CAAkB,UAAlB,CAFhB;AAGI,MAAA,YAAY,EAAE,sBAACC,GAAD,EAAMC,EAAN;AAAA,eAAaA,EAAE,CAACD,GAAG,CAACE,WAAJ,EAAD,CAAf;AAAA;AAHlB,oBAKI,oBAAC,KAAD;AACI,MAAA,KAAK,EAAE,OADX;AAEI,MAAA,WAAW,EAAE;AAFjB,MALJ,CADJ,CADJ,eAcI,oBAAC,GAAD;AAAK,MAAA,UAAU;AAAf,oBACI,oBAAC,aAAD;AAAe,MAAA,OAAO,EAAEJ;AAAxB,0BADJ,CAdJ,CADH,gBAoBG,uDACI,oBAAC,GAAD,wEAEI,+BAFJ,eAGI,+BAHJ,8GADJ,eAQI,oBAAC,GAAD;AAAK,MAAA,UAAU;AAAf,oBACI,oBAAC,aAAD;AAAe,MAAA,OAAO,EAAE;AAAA,eAAMV,WAAW,CAACQ,IAAD,CAAjB;AAAA;AAAxB,OACK,aADL,CADJ,eAII,oBAAC,aAAD;AAAe,MAAA,OAAO,EAAEE;AAAxB,yBAJJ,CARJ,CAhCR,eAgDI,oBAAC,GAAD;AAAK,MAAA,WAAW;AAAhB,yCAEI;AAAG,MAAA,IAAI,EAAE,GAAT;AAAc,MAAA,OAAO,EAAE;AAAA,eAAML,SAAS,CAACU,WAAV,CAAsB,QAAtB,CAAN;AAAA;AAAvB,iBAFJ,CAhDJ,CADH;AAAA,GALL,CADJ;AAiEH,CAnED;;AAqEA,eAAehB,cAAf","sourcesContent":["import React from \"react\";\nimport { Form } from \"@webiny/form\";\nimport { validation } from \"@webiny/validation\";\nimport Input from \"../components/Input\";\nimport ButtonPrimary from \"../components/ButtonPrimary\";\nimport ButtonDefault from \"../components/ButtonDefault\";\nimport { Content, Header, Row, Loading, Alert } from \"../components/Layout\";\n\nconst ForgotPassword = ({ requestCode, setPassword, codeSent, error, loading, authProps }) => {\n    const { username = \"\" } = authProps.authData || {};\n    return (\n        <Form\n            data={{ username }}\n            onSubmit={data => (codeSent ? setPassword(data) : requestCode(data))}\n            submitOnEnter\n        >\n            {({ Bind, submit, data }) => (\n                <Content>\n                    {loading && <Loading />}\n                    <Header title=\"Password recovery\">\n                        To reset your password please provide your email address.\n                    </Header>\n\n                    {error && (\n                        <Row>\n                            <Alert title=\"Something went wrong\">{error}</Alert>\n                        </Row>\n                    )}\n\n                    {!codeSent ? (\n                        <>\n                            <Row>\n                                <Bind\n                                    name=\"username\"\n                                    validators={validation.create(\"required\")}\n                                    beforeChange={(val, cb) => cb(val.toLowerCase())}\n                                >\n                                    <Input\n                                        label={\"Email\"}\n                                        description={\"A reset code will be sent to your email.\"}\n                                    />\n                                </Bind>\n                            </Row>\n\n                            <Row alignRight>\n                                <ButtonPrimary onClick={submit}>Send me the code</ButtonPrimary>\n                            </Row>\n                        </>\n                    ) : (\n                        <>\n                            <Row>\n                                We have sent you a code to reset your password!\n                                <br />\n                                <br />\n                                Click the &quot;Resend code&quot; button below to resend the code in\n                                case you haven&apos;t received it the first time.\n                            </Row>\n                            <Row alignRight>\n                                <ButtonDefault onClick={() => requestCode(data)}>\n                                    {\"Resend code\"}\n                                </ButtonDefault>\n                                <ButtonPrimary onClick={submit}>I got the code!</ButtonPrimary>\n                            </Row>\n                        </>\n                    )}\n                    <Row alignCenter>\n                        Want to sign in? {/* eslint-disable-next-line */}\n                        <a href={\"#\"} onClick={() => authProps.changeState(\"signIn\")}>\n                            Sign in\n                        </a>\n                    </Row>\n                </Content>\n            )}\n        </Form>\n    );\n};\n\nexport default ForgotPassword;\n"],"file":"ForgotPassword.js"}